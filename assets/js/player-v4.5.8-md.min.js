showLoading();try{sandboxDetector()}catch(e){console.error("Sandbox not allowed")}try{localStorage.setItem("gdpcheck",!0),localStorage.removeItem("gdpcheck"),window.xStorage=localStorage}catch(e){window.xStorage={setItem:function(e,t){window.xStorage[e]=t},getItem:function(e){return window.xStorage[e]},removeItem:function(e){return delete window.xStorage[e]},clear:function(){Object.keys(window.xStorage).forEach((function(e){"setItem"!==e&&"getItem"!==e&&"removeItem"!==e&&"clear"!==e&&delete window.xStorage[e]}))}}}var $timez=$("#timez"),$resume=$("#resume"),title=$("meta[name='og:title']").attr("content"),poster=$("meta[name='og:image']").attr("content"),isLive=!1,statLogInterval=!1,statCounted=!1,latestPlayKey="",latestPlayTime=Math.floor(xStorage.getItem(latestPlayKey)),haveAds=!1,p2pEngine=void 0,p2pEnabled=!1,adbIntv=void 0,p2pConfig={},pConf={},retryKey="",retryNumber=0,playbackRates=[.1,.3,.5,1,1.1,1.2,1.5,1.7,2],torrentList=[];function loadGDPlayer(){retryKey="retry."+window.localKey,retryNumber=getRetryNumber(),latestPlayKey="latestplay."+window.localKey,latestPlayTime=Math.floor(xStorage.getItem(latestPlayKey)),haveAds="schedule"in pConf.vastAds&&pConf.vastAds.schedule.length>0,p2pEnabled=pConf.enableP2P,torrentList=pConf.torrentList,p2pConfig={segments:{swarmId:window.localKey},loader:{trackerAnnounce:torrentList,httpUseRanges:!0,httpDownloadProbabilitySkipIfNoPeers:!0}},hlsjsConfig={abrEwmaFastLive:7,abrEwmaFastVoD:7,abrEwmaSlowLive:9,abrEwmaSlowVoD:9,abrMaxWithRealBitrate:!0,appendErrorMaxRetry:10,debug:!window.pMod,defaultAudioCodec:"mp4a.40.2",enableWorker:!0,fpsDroppedMonitoringPeriod:2500,fpsDroppedMonitoringThreshold:.1,fragLoadPolicy:{default:{maxTimeToFirstByteMs:6e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:0},errorRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:0}}},highBufferWatchdogPeriod:4,liveDurationInfinity:!0,lowLatencyMode:!1,manifestLoadPolicy:{default:{maxTimeToFirstByteMs:6e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:0},errorRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:0}}},maxBufferHole:.2,maxBufferLength:10,maxBufferSize:3e6,maxFragLookUpTolerance:.5,maxLiveSyncPlaybackRate:1,maxMaxBufferLength:20,nudgeOffset:.1,nudgeMaxRetry:10,playlistLoadPolicy:{default:{maxTimeToFirstByteMs:6e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:0},errorRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:0}}},progressive:!1,p2p:{core:{swarmId:window.localKey,announceTrackers:torrentList,highDemandTimeWindow:30,simultaneousHttpDownloads:5,p2pNotReceivingBytesTimeoutMs:1e4,p2pInactiveLoaderDestroyTimeoutMs:15e3,httpNotReceivingBytesTimeoutMs:8e3,httpErrorRetries:5,p2pErrorRetries:5}},testBandwidth:!1};var e={container:"videoContainer",player:null,config:{aspectratio:"16:9",abouttext:"GDPlayer.to",aboutlink:"https://gdplayer.to",displaydescription:!1,rewind:!1,controls:!0,floating:!1,hlshtml:!0,primary:"html5",androidhls:!0,sources:[],tracks:[],title:title,altText:title,image:poster,autostart:1==window.autoplay,mute:1==window.mute,repeat:1==window.repeat,preload:pConf.preload,stretching:pConf.stretching,displaytitle:pConf.displayTitle,playbackRateControls:pConf.displayRateControls,playbackRates:playbackRates,advertising:pConf.vastAds,captions:{color:pConf.captionsColor,backgroundOpacity:pConf.backgroundOpacity,backgroundColor:pConf.backgroundColor,fontFamily:pConf.fontFamily,edgeStyle:pConf.edgeStyle,windowOpacity:pConf.windowOpacity,windowColor:pConf.windowColor},logo:{file:pConf.logoImage,link:pConf.logoLink,hide:pConf.logoHide,position:pConf.logoPosition,margin:pConf.logoMargin},liveTimeout:0,renderCaptionsNatively:!1,width:"100%",loadOnlyActiveTrack:!0,castAvailable:!0,generateSEOMetadata:!1,nextUpDisplay:!1},play:function(){$resume.hide(),e.player.play()},resumePlayback:function(){$resume.hide(),e.player.play();var t=setTimeout((function(){e.player.seek(latestPlayTime),clearTimeout(t)}),2e3)},destroy:function(){e.player&&(e.player.remove(),e.player=void 0)},events:{changeButtonLocation:function(){$("div[button=download]").detach().insertAfter(".jw-spacer"),$("div[button=logo]").detach().insertAfter(".jw-spacer"),"hotstar"===pConf.playerSkin?($("div[button=rewind]").detach().insertBefore(".jw-icon-playback"),$("div[button=forward]").detach().insertAfter(".jw-icon-playback")):($("div[button=rewind]").detach().insertAfter(".jw-icon-playback"),$("div[button=forward]").detach().insertAfter("div[button=rewind]"))},addButton:function(){var t=pConf.playerSkin,a=e.icons.rewind,o=e.icons.forward,n=e.icons.download,r='class="jw-icon jw-icon-display jw-button-color jw-reset" role="button"';"rewind"in e.icons&&(a=e.icons.rewind),"forward"in e.icons&&(o=e.icons.forward),"download"in e.icons&&(n=e.icons.download),"settings"in e.icons&&$("body .jw-svg-icon-settings").replaceWith(e.icons.settings),"sharing"in e.icons&&$("body .jw-svg-icon-sharing").replaceWith(e.icons.sharing),"playbackrate"in e.icons&&$("body .jw-svg-icon-playback-rate").replaceWith(e.icons.playbackrate),"pipon"in e.icons&&$("body .jw-svg-icon-pip-on").replaceWith(e.icons.pipon),"pipoff"in e.icons&&$("body .jw-svg-icon-pip-off").replaceWith(e.icons.pipoff),"fullscreenon"in e.icons&&$("body .jw-svg-icon-fullscreen-on").replaceWith(e.icons.fullscreenon),"fullscreenoff"in e.icons&&$("body .jw-svg-icon-fullscreen-off").replaceWith(e.icons.fullscreenoff),"volume0"in e.icons&&$("body .jw-svg-icon-volume-0").replaceWith(e.icons.volume0),"volume50"in e.icons&&$("body .jw-svg-icon-volume-50").replaceWith(e.icons.volume50),"volume100"in e.icons&&$("body .jw-svg-icon-volume-100").replaceWith(e.icons.volume100),"play"in e.icons&&$("body .jw-svg-icon-play").replaceWith(e.icons.play),"playlarge"in e.icons&&$("body .jw-icon-display .jw-svg-icon-play").replaceWith(e.icons.playlarge),"buffer"in e.icons&&$("body .jw-icon-display .jw-svg-icon-buffer").replaceWith(e.icons.buffer),"pause"in e.icons&&$("body .jw-svg-icon-pause").replaceWith(e.icons.pause),"lulustream"===t&&$(".jw-slider-time").append($(".jw-text-countdown")),$(".jw-display-icon-rewind").html("<div "+r+' onclick="window.customRewind()">'+a+"</div>"),$(".jw-display-icon-next").html("<div "+r+' onclick="window.customForward()">'+o+"</div>").removeAttr("style"),["netflix","hotstar"].indexOf(t)>-1&&$(".jw-slider-time").prepend($(".jw-text-elapsed")).append($(".jw-text-duration")),""!==pConf.smallLogoFile&&e.player.addButton(pConf.smallLogoFile,"",(function(){window.open(pConf.smallLogoLink,"_blank")}),"logo"),pConf.showDownloadButton&&pConf.enableDownloadPage&&e.player.addButton(n,pConf.text_download,(function(){return window.open(window.downloadURL,"_blank"),!0}),"download"),e.player.addButton(a,pConf.text_rewind,window.customRewind,"rewind"),e.player.addButton(o,pConf.text_forward,window.customForward,"forward")},ready:function(t){if(showPlayer(),e.events.addButton(),e.events.changeButtonLocation(),e.mediaSession.load(),window.resumePlayback&&latestPlayTime>0){var a=prettySecond(latestPlayTime);$timez.text(a),$resume.html($resume.html().replace("hh:mm:ss",a)),$resume.show()}gtagReport("video_ready_to_play","Ready To Play","jwplayer",!1)},complete:function(e){statLogInterval&&(clearInterval(statLogInterval),statLogInterval=!1),xStorage.removeItem(latestPlayKey),gtagReport("video_complete","Playback Has Ended","jwplayer",!1)},time:function(e){(e.position>=pConf.statCounterRuntime||e.position<0)&&statCounter(),xStorage.setItem(latestPlayKey,e.position),gtagReport("video_playing",e.position,"jwplayer",!1)}},loadPlayer:function(t){pConf.disableCast||(e.config.cast={}),e.config.hlsjsConfig=hlsjsConfig,e.player=jwplayer(e.container).setup(e.config),e.player.on("ready",e.events.ready).on("beforePlay",(function(){e.events.changeButtonLocation()})).on("play",(function(){e.events.changeButtonLocation(),visitDirectAds()})).on("complete playlistComplete",e.events.complete).on("time",e.events.time).on("captionsList",(function(t){var a=pConf.defaultSubtitle,o="key"in a?a.key.toLowerCase():"",n="value"in a?a.value.toLowerCase():"",r=1;if(t.tracks.length>2)for(var i=1;i<t.tracks.length;i++){var s=t.tracks[i].language.toLowerCase(),l=t.tracks[i].label.toLowerCase();if(s.indexOf(o)>-1||l.indexOf(n)>-1){r=i;break}}else 2===t.tracks.length&&(r=1);var d=setTimeout((function(){jwplayer().setCurrentCaptions(r),"ccoff"in e.icons&&$("body svg.jw-svg-icon-cc-off").replaceWith(e.icons.ccoff),"ccon"in e.icons&&$("body svg.jw-svg-icon-cc-on").replaceWith(e.icons.ccon),clearTimeout(d)}),1e3)})).once("audioTracks",(function(t){var a=jwplayer().getConfig().localization,o=pConf.defaultAudio,n="key"in o?o.key.toLowerCase():"",r="value"in o?o.value.toLowerCase():"",i=0,s=e.icons.audio;if("audio"in e.icons&&(s=e.icons.audio),t.tracks.length>1){jwplayer().addButton(s,a.audioTracks,(function(){var e=$(".jw-settings-audioTracks"),t=$(".jw-settings-submenu-audioTracks");$(".jw-settings-submenu, .jw-submenu-sharing").attr("aria-expanded","false"),$('.jw-settings-topbar-buttons > div[role="button"]').attr("aria-expanded","false"),$(".jw-controls").toggleClass("jw-settings-open"),$(".jw-settings-topbar").removeClass("jw-nested-menu-open"),$(".jw-settings-back").hide(),$(".jw-controls").hasClass("jw-settings-open")?(e.attr("aria-expanded","true"),t.addClass("jw-settings-submenu-active").attr("aria-expanded","true")):(e.attr("aria-expanded","false"),t.attr("aria-expanded","false").removeClass("jw-settings-submenu-active")),$(".jw-settings-topbar-buttons .jw-icon, .jw-settings-submenu-button").click((function(){"audioTracks"!==$(this).attr("name")&&($(".jw-settings-submenu-audioTracks").removeClass("jw-settings-submenu-active"),$(".jw-settings-audioTracks").attr("aria-expanded","false"))}))}),"gdpAudio");for(var l=0;l<t.tracks.length;l++){var d=t.tracks[l].language.toLowerCase(),c=t.tracks[l].name.toLowerCase();if(d.indexOf(n)>-1||c.indexOf(r)>-1){i=l;break}}}var p=setTimeout((function(){jwplayer().setCurrentAudioTrack(i),clearTimeout(p)}),1e3)})).once("levels",(function(e){if(e.levels.length>1&&0===e.currentQuality){var t=e.levels.map((function(e){return"height"in e?e.height:"label"in e?Math.floor(e.label.replace("p","")):0})),a=o.defaultRes(t),n=t.findIndex((function(e){return e===a}));if(n>0){var r=setTimeout((function(){jwplayer().setCurrentQuality(n),clearTimeout(r)}),1e3);return}}})).on("audioTracks",(function(){"audio"in e.icons&&$("body svg.jw-svg-icon-audio-tracks").replaceWith(audioIcon)})).on("levels",(function(){"quality"in e.icons&&$("body .jw-svg-icon-quality-100").replaceWith(e.icons.quality)})).on("error",(function(t){e.errorHandler(t.message)}))},loadSkin:function(){var e=pConf.playerSkin,t={};return e?(t={url:window.baseURL+"assets/skin/jwplayer/"+pConf.playerSkin+(window.pMod?".min":"")+".css",name:pConf.playerSkin,controlbar:{},timeslider:{},menus:{}},["dropload","iqiyi"].includes(e)?(t.controlbar={icons:"#ffffff",iconsActive:window.playerColor},t.menus={textActive:window.playerColor}):"netflix"===e?(t.controlbar={icons:"#ffffff",iconsActive:window.playerColor},t.timeslider={progress:window.playerColor,rail:"#5b5b5b"},t.menus={background:"#262626",textActive:window.playerColor}):"hotstar"===e?(t.controlbar={icons:"#ffffff",iconsActive:window.playerColor},t.timeslider={progress:window.playerColor,rail:"rgba(255,255,255,.2)"},t.menus={background:"rgba(0,0,0,.6)",textActive:window.playerColor}):"lulustream"===e&&(t.controlbar={icons:"#ffffff",iconsActive:window.playerColor2},t.menus={textActive:"#fff"})):t={controlbar:{iconsActive:pConf.playerColor},timeslider:{progress:pConf.playerColor},menus:{background:"#121212",textActive:pConf.playerColor}},t},rewind:function(){var t=0,a=e.player.getPosition()-10;a>0&&(t=a,e.player.seek(t))},forward:function(){var t=0,a=e.player.getPosition()+10;a>0&&(t=a,e.player.seek(t))},errorHandler:function(t){var a=$("#servers li"),o=a.length,n=-1,r=$("#frmValidation");retryNumber=getRetryNumber()+1,void 0!==a&&o>1?(n=$("#servers li a").index($(".active")))<o-1?(r.attr("action",a.eq(n+1).find("a").data("url")),r.trigger("submit")):showMessage(t):retryNumber<=3?retry(retryNumber):e.msg.custom(t)},loadSuccessCallback:function(t){if(pConf.blockADB&&window.adsBlocked)return e.destroy(),void adblockerMessage();"fail"!==t.status?(repairTitle(t),e.config.title=t.title,e.config.image=t.poster,e.config.tracks=t.tracks,""!==t.filmstrip&&e.config.tracks.push({file:t.filmstrip,kind:"thumbnails"}),t.sources.length>0?(e.config.sources=t.sources,e.loadPlayer(!1)):($("title").text(t.message),e.msg.notFound())):($("title").text(t.message),showMessage(t.message),gtagReport("video_error",t.message,"jwplayer",!1),t.message.indexOf("DMCA")<0&&e.errorHandler(t.message))},loadErrorCallback:function(t,a){"timeout"===a?e.msg.timeout():failed()},msg:{notFound:function(){showMessage("Sorry this video is unavailable."),gtagReport("video_error","Sources not found","jwplayer",!1)},custom:function(e){showMessage(e),gtagReport("video_error",e,"jwplayer",!1)},timeout:function(){showMessage("Connection timed out! "+reloadPage()),gtagReport("video_error","Connection timed out","jwplayer",!1)}},mediaSession:{updatePositionState:function(t){"mediaSession"in navigator&&("playbackState"in navigator.mediaSession&&(navigator.mediaSession.playbackState=t),!isLive&&"setPositionState"in navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:e.player.getDuration(),playbackRate:e.player.getPlaybackRate(),position:e.player.getPosition()}))},load:function(){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.config.title,artwork:[{src:e.config.image}]}),navigator.mediaSession.setActionHandler("play",(function(){e.player.play(),e.mediaSession.updatePositionState("playing")})),navigator.mediaSession.setActionHandler("pause",(function(){isLive?e.player.stop():e.player.pause(),e.mediaSession.updatePositionState("paused")})),navigator.mediaSession.setActionHandler("stop",(function(){e.player.stop(),e.mediaSession.updatePositionState("paused")})),isLive||(navigator.mediaSession.setActionHandler("seekbackward",(function(){var t,a=e.player.getPosition()-10;t=a<=0?0:a,e.player.seek(t),e.mediaSession.updatePositionState("none")})),navigator.mediaSession.setActionHandler("seekforward",(function(){var t,a=e.player.getPosition()+10;t=a<=0?0:a,e.player.seek(t),e.mediaSession.updatePositionState("none")}))))}},icons:{rewind:'<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-rewind" viewBox="0 0 240 240"><path d="M113.2 131.078a21.589 21.589 0 0 0-17.7-10.6 21.589 21.589 0 0 0-17.7 10.6 44.769 44.769 0 0 0 0 46.3 21.589 21.589 0 0 0 17.7 10.6 21.589 21.589 0 0 0 17.7-10.6 44.769 44.769 0 0 0 0-46.3Zm-17.7 47.2c-7.8 0-14.4-11-14.4-24.1s6.6-24.1 14.4-24.1 14.4 11 14.4 24.1-6.5 24.1-14.4 24.1Zm-43.4 9.7v-51l-4.8 4.8-6.8-6.8 13-13a4.8 4.8 0 0 1 8.2 3.4v62.7l-9.6-.1Zm162-130.2v125.3a4.867 4.867 0 0 1-4.8 4.8h-62.7v-19.3h48.2v-96.4H79.1v19.3c0 5.3-3.6 7.2-8 4.3l-41.8-27.9a6.013 6.013 0 0 1-2.7-8 5.887 5.887 0 0 1 2.7-2.7l41.8-27.9c4.4-2.9 8-1 8 4.3v19.3h130.1a4.974 4.974 0 0 1 4.9 4.9Z"/></svg>',forward:'<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-forward" viewBox="0 0 240 240"><path d="M25.994 57.778v125.3a4.867 4.867 0 0 0 4.8 4.8h62.7v-19.3h-48.2v-96.4h115.7v19.3c0 5.3 3.6 7.2 8 4.3l41.8-27.9a6.013 6.013 0 0 0 2.7-8 5.887 5.887 0 0 0-2.7-2.7l-41.8-27.9c-4.4-2.9-8-1-8 4.3v19.3h-130.1a4.974 4.974 0 0 0-4.9 4.9zm163.422 73.046a21.589 21.589 0 0 0-17.7-10.6 21.589 21.589 0 0 0-17.7 10.6 44.769 44.769 0 0 0 0 46.3 21.589 21.589 0 0 0 17.7 10.6 21.589 21.589 0 0 0 17.7-10.6 44.769 44.769 0 0 0 0-46.3zm-17.7 47.2c-7.8 0-14.4-11-14.4-24.1 0-13.1 6.6-24.1 14.4-24.1 7.8 0 14.4 11 14.4 24.1 0 13.1-6.5 24.1-14.4 24.1zm-47.77 9.728v-51l-4.8 4.8-6.8-6.8 13-13c3.025-3.036 8.21-.886 8.2 3.4v62.7z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-audio-tracks" viewBox="0 0 240 240"><path d="M35 34h160v20H35V34zm0 60h160V74H35v20zm0 40h60v-20H35v20zm125-20c-23.4-1.3-43.6 16.5-45 40v50h20c5.2.3 9.7-3.6 10-8.9V174c.3-5.2-3.6-9.7-8.9-10H125v-10c1.5-17.9 17.1-31.3 35-30 17.9-1.3 33.6 12.1 35 30v10h-10c-5.2-.3-9.7 3.6-10 8.9V194c-.3 5.2 3.6 9.7 8.9 10H205v-50c-1.5-23.4-21.6-41.3-45-40z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-download" viewBox="0 0 240 240"><path d="M187 100.3C181 66.1 152.9 41 119.7 41c-26.1 0-49.2 16.1-61.3 40.2-28.1 2-49.2 27.1-49.2 58.3 0 33.1 25.1 59.3 55.2 59.3H184c25.1 0 46.2-22.1 46.2-49.2 0-26.2-19.1-48.3-43.2-49.3zm-67.3 78.3-46.2-49.2h27.1V89.2h37.2v40.2h27.1l-45.2 49.2z"/></svg>'},customCSS:"<style>.jw-state-idle .jw-display-controls .jw-display-icon-container .jw-icon,.jwplayer.jw-state-buffering .jw-display-icon-display .jw-icon .jw-svg-icon-buffer{color:"+pConf.playerColor+'!important}.jw-sharing-link:active,.jw-sharing-copy:active.jw-sharing-link:hover,.jw-button-color.jw-toggle.jw-off:active:not(.jw-icon-cast),.jw-button-color.jw-toggle.jw-off:focus:not(.jw-icon-cast),.jw-button-color.jw-toggle.jw-off:hover:not(.jw-icon-cast),.jw-button-color.jw-toggle:not(.jw-icon-cast),.jw-button-color:active:not(.jw-icon-cast),.jw-button-color:focus:not(.jw-icon-cast),.jw-button-color:hover:not(.jw-icon-cast),.jw-button-color[aria-expanded=true]:not(.jw-icon-cast),.jw-settings-content-item.jw-settings-item-active,.jw-settings-menu .jw-icon.jw-button-color[aria-expanded="true"] .jw-svg-icon{fill:'+pConf.playerColor+"!important;color:"+pConf.playerColor+'!important;background-color:transparent}.jw-skin-iqiyi .jw-icon-display:hover .jw-svg-icon-play circle{fill:#49d26d!important}.jw-settings-topbar-buttons .jw-icon[aria-expanded="true"]{border-bottom-color:'+pConf.playerColor+"!important}.jw-progress{background:"+pConf.playerColor+"!important;background:linear-gradient(to right,"+pConf.playerColor+" 0,"+pConf.playerColor2+" 100%)!important}.jw-slider-vertical .jw-progress{background:"+pConf.playerColor+"!important;background:linear-gradient(to top,"+pConf.playerColor+" 0,"+pConf.playerColor2+" 100%)!important}.jw-knob{background-color:"+pConf.playerColor2+"!important}.jw-skin-iqiyi .jw-knob{background-color:#fff!important}</style>"};e.icons=Object.assign({},e.icons,window.gdpIcons),window.jwp=e;var t,a,o={container:"#videoContainer",player:null,hlsjs:null,shakaPlayer:null,videoType:"mp4",sources:[],tracks:[],config:{iconPrefix:"gdp",ratio:"16:9",controls:["progress","play-large","pause-large","rewind","play","fast-forward","mute","volume","live","current-time","duration","download","captions","settings","pip","airplay","fullscreen"],settings:["quality","captions"],ads:{enabled:!1,tagUrl:""},urls:{download:""},captions:{active:!0,update:!0},speed:{selected:1,options:playbackRates},tooltips:{controls:!0,seek:!0},iconUrl:window.baseURL+"assets/img/plyr-custom.svg",blankVideo:window.baseURL+"assets/vendor/plyr/3.6.3/blank.mp4",autoplay:1==window.autoplay,muted:1==window.mute,preload:pConf.preload,poster:poster,loop:{active:window.repeat}},onError:function(e){var t=$("#servers li"),a=t.length,n=-1,r="detail"in e?e.detail.plyr.media.error:e.media.error,i=$("#frmValidation");retryNumber=getRetryNumber()+1,r&&(n=$("#servers li a").index($(".active")),void 0!==t&&a>1&&n<a-1?(i.attr("action",t.eq(n+1).find("a").data("url")),i.trigger("submit")):retryNumber<=3?retry(retryNumber):"message"in r?o.msg.custom(r.message+". <a href=\"javascript:void(0)\" onclick=\"$('#frmValidation').trigger('submit')\">Reload page</a>"):failed())},destroy:function(){o.hlsjs&&(o.hlsjs.destroy(),o.hlsjs=null),o.shakaPlayer&&(o.shakaPlayer.detach(),o.shakaPlayer.unload(),o.shakaPlayer.destroy(),o.shakaPlayer=null),o.player&&(o.player.destroy(),o.player=null)},init:function(){var e=window.navigator.languages?window.navigator.languages[0]:"en";e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,$.ajax({url:window.baseURL+"assets/vendor/plyr/3.6.3/translations/"+e.substring(0,2)+".json",dataType:"json",timeout:6e4,success:function(e){o.config.i18n=e,o.loadPlayer()},error:function(){o.loadPlayer()}})},loadPlayer:function(){xStorage.removeItem("plyr"),shaka.polyfill.installAll(),"hls"===o.videoType&&Hls.isSupported()?o.hls.load(o.sources[0].file):"mpd"===o.videoType&&shaka.Player.isBrowserSupported()?o.mpd.load(o.sources[0].file):o.videoType.indexOf("mp4")>-1?o.mp4.load():o.msg.custom("This browser is not supported")},defaultRes:function(e){var t=100,a=t;return $.each(e,(function(e,o){if(o>=4e3?t=4e3:o>=2e3?t=2e3:o>=1400?t=1400:o>=1200?t=1200:o>=1100?t=1100:o>=1e3?t=1e3:o>=900?t=900:o>=800?t=800:o>=700?t=700:o>=600?t=600:o>=500?t=500:o>=400?t=400:o>=300?t=300:o>=200&&(t=200),t===pConf.defaultResolution)return a=o,!1})),a},shortQualities:function(e,t){var a=e.toString().split("."),o=t.toString().split(".");return Math.floor(a[0])===Math.floor(o[0])?Math.floor(a[1])-Math.floor(o[1]):Math.floor(a[0])-Math.floor(o[0])},resumeChecker:function(){if(window.resumePlayback&&latestPlayTime>0){var e=prettySecond(latestPlayTime);$timez.text(e),$resume.html($resume.html().replace("hh:mm:ss",e)),$resume.show()}},play:function(){$resume.hide(),o.player.play()},resumePlayback:function(){$resume.hide(),o.player.play();var e=setTimeout((function(){o.player.currentTime=latestPlayTime,clearTimeout(e)}),2e3)},defaultEvents:function(e){e.speed=1,e.poster=poster,e.once("play",visitDirectAds),e.once("ended",(function(){xStorage.removeItem(latestPlayKey),statLogInterval&&(clearInterval(statLogInterval),statLogInterval=!1),gtagReport("video_complete","Playback Has Ended","plyr",!1)})),e.on("timeupdate",(function(){var e=o.player.currentTime;e>=pConf.statCounterRuntime&&statCounter(),xStorage.setItem(latestPlayKey,e),gtagReport("video_playing",o.player.currentTime,"plyr",!1)})),e.on("enterfullscreen",(function(){$(".plyr__video-wrapper").attr("style",""),$(".plyr video"+o.container).css("position","absolute").css("top",0).css("bottom",0)})),e.on("adsloaded",(function(e){o.ads.createControls(),o.ads.events.togglePlay(),o.player.ads.manager.setVolume(1)})),e.on("adspause adscontentpause",(function(e){o.ads.playing=!1})),e.on("adstarted",(function(e){o.ads.playing=!0})),e.on("adscomplete adsallcomplete adsskip",(function(e){o.ads.playing=!1}))},html:{qualityButtons:'body button[data-plyr="quality"]',loadTitle:function(e,t){e.append('<div class="plyr-title" style="'+t+'">'+title+"</div>")},createOverlaidButton:function(e,t,a,o){return'<button type="button" class="plyr__control plyr__control--overlaid" data-plyr="'+e+'" aria-label="'+t+'" onclick="'+a+'">'+o+"</button>"},loadCustomHTML:function(){var e=[],t=$(".plyr"),a=t.find("video"),n=pConf.logoPosition,r=pConf.logoImage,i=pConf.logoMargin,s=$('<a class="plyr-logo plyr-logo-'+n+" "+(pConf.logoHide?"plyr-logo-hide":"")+'" href="'+pConf.logoLink+'" target="_blank"></a>'),l=$('<img alt="Logo" />'),d=$(".plyr__controls"),c=$('<div class="plyr__custom__controls"></div>'),p=o.config.i18n.rewind.replace("{seektime}","10"),u=o.config.i18n.fastForward.replace("{seektime}","10");a.attr("poster",poster),a.addClass("plyr-stretch-"+pConf.stretching),d.append(c),c.append($(".plyr__controls > *")),d.prepend(c.find(".plyr__progress__container")),""!==r?(n.indexOf("top-left")>-1?e.push("left:"):n.indexOf("top-right")>-1&&e.push("margin-right:"),t.append(s),s.append(l),l.attr("src",r).on("load",(function(a){e.push(a.currentTarget.width+i),e.push("px"),pConf.displayTitle&&o.html.loadTitle(t,e.join(""))}))):pConf.displayTitle&&o.html.loadTitle(t,""),$("a[data-plyr=download]").removeAttr("download"),$("body .plyr__control--overlaid").html($('button[data-plyr="play"]').html()).before(o.html.createOverlaidButton("rewind",p,"gdPlyr.player.rewind()",$('button[data-plyr="rewind"]').html())).after(o.html.createOverlaidButton("fast-forward",u,"gdPlyr.player.forward()",$('button[data-plyr="fast-forward"]').html())),o.mediaSession.load(),gtagReport("video_ready_to_play","Ready To Play","plyr",!1)},loadExternalTracks:function(){o.tracks.length>0&&($.each(o.tracks,(function(e,t){$(".plyr video"+o.container).append('<track kind="captions" src="'+t.file.replace("https:","").replace("http:","")+'" label="'+t.label+'">')})),o.player.currentTrack=0)},loadHlsAudio:function(e){if(null!=e&&0!=e.length){var t=$(".plyr__menu__container").attr("id").replace("plyr-settings-",""),a="plyr-settings-"+t,n=a+"-audio",r=o.player.config.i18n.audio,i=$("#"+a+"-home"),s="",l=o.hlsjs.audioTrack>-1?o.hlsjs.audioTracks[o.hlsjs.audioTrack].name:"Default";$.each(e,(function(e,t){s+='<button data-plyr="audio" type="button" role="menuitemradio" class="plyr__control" aria-checked="'+(o.hlsjs.audioTrack==e?"true":"false")+'" value="'+e+'"><span>'+t.name+(""!==t.lang&&void 0!==t.lang?'<span class="plyr__menu__value"><span class="plyr__badge">'+t.lang+"</span></span>":"")+"</span></button>"}));var d=$("button#btnAudio"+t);d.length>0&&(d.remove(),$("#plyr-settings-"+t+"-audio").remove()),i.find("div[role=menu]").prepend('<button type="button" id="btnAudio'+t+'" data-plyr="settings" class="plyr__control plyr__control--forward" role="menuitem" aria-haspopup="true"><span>'+r+'<span class="plyr__menu__value">'+l+"</span></span></button>"),i.after('<div id="'+n+'" hidden><button type="button" class="plyr__control plyr__control--back"><span aria-hidden="true">'+r+'</span><span class="plyr__sr-only">Go back to previous menu</span></button><div role="menu">'+s+"</div></div>"),$("button#btnAudio"+t).click((function(){$("#"+n).prop("hidden",!1),i.prop("hidden",!0)})),$("#"+n+" .plyr__control--back").click((function(){$("#"+n).prop("hidden",!0),i.prop("hidden",!1)})),$('body button[data-plyr="audio"]').click((function(){o.hlsjs.audioTrack=$(this).val(),$('button[data-plyr="audio"]').attr("aria-checked","false"),$(this).attr("aria-checked","true"),$("button#btnAudio"+t).find(".plyr__menu__value").text($(this).text().replace($(this).find(".plyr__badge").text(),"").trim()),$("#"+n).prop("hidden",!0),i.prop("hidden",!1)}))}},loadShakaAudio:function(e){if(null!=e&&0!=e.length){var t=$(".plyr__menu__container").attr("id").replace("plyr-settings-",""),a="plyr-settings-"+t,n=a+"-audio",r=o.player.config.i18n.audio,i=$("#"+a+"-home"),s="",l=o.shakaPlayer.getVariantTracks().find((function(e){return e.active}));$.each(e,(function(e,t){s+='<button data-plyr="audio" type="button" role="menuitemradio" class="plyr__control" aria-checked="'+("id"in t&&t.id==l.audioId?"true":"false")+'" value="'+t.id+'"><span>'+t.name+(""!==t.lang&&void 0!==t.lang?'<span class="plyr__menu__value"><span class="plyr__badge">'+t.lang+"</span></span>":"")+"</span></button>"})),i.find("div[role=menu]").prepend('<button type="button" id="btnAudio'+t+'" data-plyr="settings" class="plyr__control plyr__control--forward" role="menuitem" aria-haspopup="true"><span>'+r+'<span class="plyr__menu__value">'+(l.label?l.label:l.language)+"</span></span></button>"),i.after('<div id="'+n+'" hidden><button type="button" class="plyr__control plyr__control--back"><span aria-hidden="true">'+r+'</span><span class="plyr__sr-only">Go back to previous menu</span></button><div role="menu">'+s+"</div></div>"),$("button#btnAudio"+t).click((function(){$("#"+n).prop("hidden",!1),i.prop("hidden",!0)})),$("#"+n+" .plyr__control--back").click((function(){$("#"+n).prop("hidden",!0),i.prop("hidden",!1)})),$('body button[data-plyr="audio"]').click((function(){var e=$(this).val();$('button[data-plyr="audio"]').attr("aria-checked","false"),$(this).attr("aria-checked","true"),$("button#btnAudio"+t).find(".plyr__menu__value").text($(this).text().replace($(this).find(".plyr__badge").text(),"").trim()),$("#"+n).prop("hidden",!0),i.prop("hidden",!1);var a=o.shakaPlayer.getVariantTracks().filter((function(t){return t.audioId==e}));o.mpd.config.abr.enabled=!1,o.shakaPlayer.configure(o.mpd.config),o.shakaPlayer.selectVariantTrack(a[0],!0),o.mpd.filterVariantByAudio(e),o.mpd.showVariantText()}))}},waiting:function(e){var t=e.detail.plyr.elements.container,a="plyr--loading";$(t).hasClass(a)||$(t).addClass(a)}},hls:{currentTime:0,levelsAllowed:[],events:{ready:function(e){o.resumeChecker(),o.html.loadCustomHTML(),o.html.loadExternalTracks(),o.hlsjs.audioTracks.length>1&&o.html.loadHlsAudio(o.hlsjs.audioTracks),$(o.html.qualityButtons).each((function(){var e=$(this).find("span"),t=$(this).val().split("."),a="";"0"==$(this).val()?e.text(o.config.i18n.auto):(""!=t[0]&&(a+=t[0]+"p"),""!=t[1]&&(a+="&nbsp;<small>(",a+=t[1]>1e6?(t[1]/1e6).toFixed(2)+" Mbps":Math.floor(t[1]/1e3)+" kbps",a+=")</small>"),e.html(a.trim()))})),$(o.html.qualityButtons).on("click",(function(){var e=$(this).val(),t=e.split("."),a=t[0],n=t[1];"0"!=e&&""!=e&&"auto"!=e?(levelIdx=o.hlsjs.levels.findIndex((function(e){return e.height==a&&e.bitrate==n})),o.hlsjs.currentLevel=levelIdx):o.hlsjs.currentLevel=-1,o.hls.showLevelText()}))},loadedMetadata:function(e){(isLive=o.hlsjs.levelController.currentLevel.details.live)&&$(".plyr--full-ui").addClass("plyr--live");var t=e.detail.plyr.media.textTracks;if(t.length>1)for(var a=pConf.defaultSubtitle,n=("key"in a?a.key.toLowerCase():""),r=("value"in a?a.value.toLowerCase():""),i=0;i<t.length;i++){var s=t[i].language.toLowerCase(),l=t[i].label.toLowerCase();if(s.indexOf(n)>-1||l.indexOf(r)>-1){o.player.currentTrack=i;break}}else 1===t.length&&(o.player.currentTrack=0)},languageChange:function(e){var t=o.hlsjs.subtitleTracks.length,a=e.detail.plyr.media.textTracks.length,n=a-t,r=e.detail.plyr.currentTrack;t>0&&t<a?(o.hlsjs.subtitleTrack=-1,o.hlsjs.subtitleDisplay=!1):(o.hlsjs.subtitleTrack=r-n,o.hlsjs.subtitleDisplay=!0)},manifestParsed:function(e,t){showPlayer();var a=o.hlsjs.levels,n=[0],r=[],i=0,s=-1;o.hls.updateLevelsAllowed(),a.length>0&&($.each(a,(function(e,t){o.hls.levelsAllowed.indexOf(e)>-1&&n.push(o.hls.createLevelText(t)),"height"in t&&r.push(t.height)})),i=o.defaultRes(r),(s=a.findIndex((function(e){return"height"in e&&i===e.height})))>-1&&(o.hlsjs.currentLevel=s)),n.length>1&&(n.sort(o.shortQualities),o.config.quality={default:0,options:n,forced:!0}),o.player=new Plyr(o.container,o.config),o.defaultEvents(o.player),o.player.on("ready",o.hls.events.ready),o.player.on("waiting seeking",o.html.waiting),o.player.on("loadedmetadata",o.hls.events.loadedMetadata),o.player.on("captionsenabled languagechange",o.hls.events.languageChange),o.player.on("captionsdisabled",(function(){o.hlsjs.subtitleDisplay=!1,o.hlsjs.subtitleTrack=-1}))},error:function(e,t){var a=$("#servers li"),n=$("#frmValidation"),r=a.length,i=-1,s=function(){o.hlsjs.stopLoad(),o.hlsjs.swapAudioCodec(),o.hlsjs.recoverMediaError(),o.hlsjs.startLoad(),o.player.play().catch((function(){console.warn("Autoplay not allowed")}))};switch(retryNumber=getRetryNumber()+1,t.type){case Hls.ErrorTypes.MEDIA_ERROR:s();break;case Hls.ErrorTypes.NETWORK_ERROR:t.fatal?o.onError(o.player):s();break;default:t.fatal?void 0!==a&&r>1?(i=$("#servers li a").index($(".active")))<r-1?(n.attr("action",a.eq(i+1).find("a").data("url")),n.trigger("submit")):t.error&&"message"in t.error?o.msg.custom("HLS.js Error! "+t.error.message):failed():retryNumber<3?retry(retryNumber):t.error&&"message"in t.error?o.msg.custom("HLS.js Error! "+t.error.message):failed():s()}}},createLevelText:function(e){var t=[];return"height"in e&&t.push(e.height),"bitrate"in e&&t.push(e.bitrate),t.join(".")},showLevelText:function(e){var t=o.config.i18n.auto,a=$('body button[data-plyr="settings"]:contains("'+o.config.i18n.quality+'") > span > span'),n={};o.hlsjs.streamController.level>-1&&"height"in(n=o.hlsjs.levels[o.hlsjs.streamController.level])&&""!==n.height&&(t=n.height+"p"),a.text(t)},updateLevelsAllowed:function(){var e;o.hlsjs.levels.length>1&&o.hlsjs.levels.forEach((function(t,a){e="","codecs"in t&&""!==t.codecs?e='video/mp4; codecs="'+t.codecs+'"':"attrs"in t&&"CODECS"in t.attrs&&""!==t.attrs.CODECS&&(e='video/mp4; codecs="'+t.attrs.CODECS+'"'),""==e||MediaSource.isTypeSupported(e)?o.hls.levelsAllowed.push(a):console.error("Unsupported codecs:",t)}));o.hlsjs.currentLevel=-1},load:function(e){o.destroy(),o.config.source={type:"hls",src:e},void 0!==window.HlsWithP2P?o.hlsjs=new HlsWithP2P(hlsjsConfig):o.hlsjs=new Hls(hlsjsConfig),o.hlsjs.attachMedia(document.querySelector(o.container)),o.hlsjs.on(Hls.Events.MEDIA_ATTACHED,(function(e,t){o.hlsjs.loadSource(o.config.source.src)})),o.hlsjs.on(Hls.Events.MANIFEST_PARSED,o.hls.events.manifestParsed),o.hlsjs.on(Hls.Events.AUDIO_TRACKS_UPDATED,(function(e,t){if(t.audioTracks.length>1)for(var a=pConf.defaultAudio,n=("key"in a?a.key.toLowerCase():""),r=("value"in a?a.value.toLowerCase():""),i=0;i<t.audioTracks.length;i++){var s=t.audioTracks[i].lang.toLowerCase(),l=t.audioTracks[i].name.toLowerCase();if(s.indexOf(n)>-1||l.indexOf(r)>-1){o.hlsjs.audioTrack=i;break}}})),o.hlsjs.on(Hls.Events.LEVEL_LOADED,o.hls.showLevelText),o.hlsjs.on(Hls.Events.LEVEL_UPDATED,o.hls.showLevelText),o.hlsjs.on(Hls.Events.LEVEL_SWITCHED,o.hls.showLevelText),o.hlsjs.on(Hls.Events.AUDIO_TRACK_LOADED,o.hls.showLevelText),o.hlsjs.on(Hls.Events.AUDIO_TRACK_SWITCHED,o.hls.showLevelText),o.hlsjs.on(Hls.Events.ERROR,o.hls.events.error)}},mpd:{config:{abr:{enabled:!0,defaultBandwidthEstimate:5e5},manifest:{dash:{autoCorrectDrift:!0,ignoreEmptyAdaptationSet:!0}},streaming:{bufferBehind:15,bufferingGoal:10,rebufferingGoal:5}},events:{promiseCallback:function(e){showPlayer();var t=[0],a=o.shakaPlayer.getVariantTracks(),n=o.shakaPlayer.getTextTracks(),r=[],i=document.querySelector(o.container);n.forEach((function(e){"Shaka Player TextTrack"===e.label&&o.shakaPlayer.selectTextTrack(null)})),$.each(a,(function(e,a){r=[],"height"in a?r.push(a.height):r.push(""),"bandwidth"in a?r.push(a.bandwidth):r.push(""),"audioId"in a?r.push("audioId-"+a.audioId):r.push("audioId-"),t.push(r.join("."))})),t.length>1&&(t.sort(o.shortQualities),o.config.quality={default:0,options:t,forced:!0},o.mpd.variantChange(0)),n.length>0&&$.each(n,(function(e,t){var a=i.addTextTrack("subtitles",void 0!==t.label?t.label:t.language,t.language);a.id=t.id,a.mode="hidden"})),o.player=new Plyr(o.container,o.config),o.defaultEvents(o.player),o.player.on("ready",o.mpd.events.ready),o.player.on("waiting seeking",o.html.waiting),o.player.on("loadedmetadata",o.mpd.events.loadedMetadata),o.player.on("captionsenabled languagechange",o.mpd.events.languageChange),o.player.on("captionsdisabled",(function(){o.shakaPlayer.setTextTrackVisibility(!1)})),o.player.on("qualitychange",o.mpd.events.qualityChange),o.player.on("error",o.onError),o.shakaPlayer.addEventListener("adaptation",(function(){o.mpd.showVariantText()}))},errorCallback:function(e){var t=$("#servers li"),a=$("#frmValidation"),n=t.length,r=-1,i={};retryNumber=getRetryNumber()+1,void 0!==t&&n>1?(r=$("#servers li a").index($(".active")))<n-1?(a.attr("action",t.eq(r+1).find("a").data("url")),a.trigger("submit")):void 0!==e&&"name"in e&&"description"in e?($("#message").css("font-size","16px"),o.msg.custom("ShakaPlayer Error! "+e.name+", "+e.description)):showPlayer():retryNumber<=3?retry(retryNumber):void 0!==e&&"code"in e?(i=o.mpd.errorDetail(e.code),$("#message").css("font-size","16px"),o.msg.custom("ShakaPlayer Error! "+i.name+", "+i.description)):showPlayer()},ready:function(e){o.resumeChecker(),o.html.loadCustomHTML(),o.mpd.loadAudio(),$(o.html.qualityButtons).each((function(){var e=$(this).find("span"),t=$(this).val().split("."),a="";"0"==$(this).val()?e.text(o.config.i18n.auto):(""!=t[0]&&(a+=t[0]+"p"),""!=t[1]&&(a+="&nbsp;<small>(",a+=t[1]>1e6?(t[1]/1e6).toFixed(2)+" Mbps":Math.floor(t[1]/1e3)+" kbps",a+=")</small>"),e.html(a.trim()))})),$(o.html.qualityButtons).click((function(){o.mpd.variantChange($(this).val())})),o.mpd.showVariantText(),o.html.loadExternalTracks()},loadedMetadata:function(e){(isLive="00:00"===$(".plyr__time--duration").text())&&$(".plyr--full-ui").addClass("plyr--live"),$('body button[data-plyr="language"]:contains(Shaka)').attr("hidden","");var t=Array.from(e.detail.plyr.media.textTracks),a=o.shakaPlayer.getTextTracks();if(t.length>1){for(var n=pConf.defaultSubtitle,r=("key"in n?n.key.toLowerCase():""),i=("value"in n?n.value.toLowerCase():""),s=-1,l=-1,d=0;d<t.length;d++){var c=t[d].language.toLowerCase(),p=t[d].label.toLowerCase();p.indexOf("shaka")>-1?l=d:(c.indexOf(r)>-1||p.indexOf(i)>-1)&&(s=d)}if(s>l){var u=a[s-(l+1)];o.player.currentTrack=l,o.shakaPlayer.selectTextTrack(u),o.shakaPlayer.setTextTrackVisibility(!0),o.mpd.showTextTrackLabel(!0)}}},languageChange:function(e){var t=o.shakaPlayer.getTextTracks(),a=e.detail.plyr.media.textTracks.length-t.length-1,n=e.detail.plyr.currentTrack,r=n-a-1,i={},s=r>-1;r<0&&(r=-1),s?(o.player.currentTrack=a,i=t[r],o.shakaPlayer.selectTextTrack(i)):n>-1&&(o.player.currentTrack=n,o.player.media.textTracks[n].mode="showing"),o.shakaPlayer.setTextTrackVisibility(s),o.mpd.showTextTrackLabel(s)},qualityChange:function(e){o.html.waiting(e),o.mpd.variantChange(o.player.quality),o.mpd.showVariantText()}},showTextTrackLabel:function(e){var t=$('body button[data-plyr="settings"]:contains('+o.config.i18n.captions+") > span > span"),a=o.player.currentTrack,n="boolean"==typeof e&&e?o.shakaPlayer.getTextTracks().find((function(e){return e.active})):o.player.media.textTracks[a],r=$('body button[data-plyr="language"]:contains(Shaka)');t.text(o.config.i18n.captions),r.attr("hidden",""),void 0!==n&&"label"in n&&(t.text(n.label),$('body button[data-plyr="language"]').attr("aria-checked","false"),$('body button[data-plyr="captions"]').addClass("plyr__control--pressed"),$('body button[data-plyr="language"]:contains('+n.label+")").attr("aria-checked","true"))},errorDetail:function(e){return void 0!==e&&"undefined"!=typeof shakaErrorCodes?shakaErrorCodes.find((function(t){return t.code===e})):{code:void 0,name:"Browser Error",description:"Failed to init decoder"}},filterVariantByAudio:function(e){$(o.html.qualityButtons).each((function(t,a){var o=$(this).val();$(this).attr("aria-checked","false"),o.indexOf(".audioId-"+e)>-1||"0"==o?($(this).show(),"0"==o&&$(this).attr("aria-checked","true")):$(this).hide()}))},loadAudio:function(){o.mpd.config;var e=o.shakaPlayer.getVariantTracks(),t=[],a=[],n="";e.length>1&&($.each(e,(function(e,o){-1===t.indexOf(o.audioId)&&(n=void 0!==o.label?o.label:o.language,t.push(o.audioId),a.push({id:o.audioId,name:n,lang:n!=o.language?o.language.toUpperCase():""}))})),o.mpd.filterVariantByAudio(e.find((function(e){return e.active})).audioId)),o.html.loadShakaAudio(a)},showVariantText:function(){var e=$('body button[data-plyr="settings"]:contains('+o.config.i18n.quality+") > span > span"),t=o.shakaPlayer.getVariantTracks().find((function(e){return e.active}));e.text(o.config.i18n.auto),void 0!==t&&"height"in t&&e.text(t.height+"p")},variantChange:function(e){var t=o.mpd.config,a=o.shakaPlayer.getVariantTracks(),n=0;"0"!=e?(t.abr.enabled=!1,n=a.findIndex((function(t){var a=[];return"height"in t?a.push(t.height):a.push(""),"bandwidth"in t?a.push(t.bandwidth):a.push(""),"audioId"in t?a.push("audioId-"+t.audioId):a.push("audioId-"),a.join(".")==e})),o.shakaPlayer.configure(t),o.shakaPlayer.selectVariantTrack(a[n],!0)):(t.abr.enabled=!0,o.shakaPlayer.configure(t)),o.mpd.showVariantText()},load:function(e){o.destroy(),o.config.source={type:"mpd",src:e},window.pMod||void 0===shaka.log||shaka.log.setLevel(shaka.log.Level.DEBUG),o.shakaPlayer=new shaka.Player,o.shakaPlayer.attach(document.querySelector(o.container)),p2pEnabled&&"undefined"!=typeof p2pml&&p2pml.core.HybridLoader.isSupported()?(o.shakaPlayer.configure(o.mpd.config),(p2pEngine=new p2pml.shaka.Engine(p2pConfig)).initShakaPlayer(o.shakaPlayer)):(o.mpd.config.abr.ignoreDevicePixelRatio=!0,o.mpd.config.ignoreHardwareResolution=!0,o.mpd.config.streaming.autoLowLatencyMode=!0,o.shakaPlayer.configure(o.mpd.config)),o.shakaPlayer.load(o.config.source.src).then(o.mpd.events.promiseCallback).catch(o.mpd.events.errorCallback)}},mp4:{parser:function(){var e=[],t=[],a=0,n=o.sources,r=360;return $.each(n,(function(o,n){if("Default"!==n.label&&"Original"!==n.label){a=Math.floor(n.label.replace("p","")),t.push(a),e.push({src:n.file,type:n.type,size:a});let o=document.createElement("link");o.rel="prefetch",o.href=n.file,document.head.appendChild(o)}})),0===e.length?(r=Math.floor(n[0].label.replace("p","")),e.push({src:n[0].file,type:n[0].type,size:r})):r=o.defaultRes(t),{default:r,sources:e,sizes:t}},load:function(){var e=[],t=o.mp4.parser(),a="captions",n=!1;o.destroy(),$.each(o.tracks,(function(t,o){"kind"in o&&(a=o.kind),n="default"in o&&o.default,e.push({src:o.file,label:o.label,kind:a,default:n})})),o.config.quality={default:t.default,options:t.sizes,forced:!0},o.player=new Plyr(o.container,o.config),o.player.source={type:"video",title:title,sources:t.sources,tracks:e},o.defaultEvents(o.player),o.player.on("ready",(function(e){showPlayer(),isLive=!1,o.resumeChecker(),o.html.loadCustomHTML()})),o.player.on("waiting seeking qualitychange",o.html.waiting),o.player.on("error",o.onError)}},ads:{manager:null,mute:!1,fullscreen:!1,playing:!1,timer:!1,createControls:function(){var e="0",t=o.player;$resume.hide(),$(".plyr__ads .plyr__controls").remove(),$("body .plyr__ads").append('<div class="plyr__controls"><div class="plyr__custom__controls"><button type="button" onclick="gdPlyr.ads.events.togglePlay()" class="plyr__controls__item plyr__control plyr-ads-button plyr__control--pressed">'+$('button[data-plyr="play"]').html()+'</button><button type="button" onclick="gdPlyr.ads.events.toggleMute()" class="plyr__control plyr-ads-button">'+$('button[data-plyr="mute"]').html()+'</button><div class="plyr__controls__item plyr__time--current plyr__time"></div><button type="button" onclick="gdPlyr.ads.events.toggleFullscreen()" class="plyr__controls__item plyr__control plyr-ads-button" style="margin-left:auto">'+$('button[data-plyr="fullscreen"]').html()+"</button></div></div>"),t&&"ads"in t&&null!==t.ads&&(o.ads.timer=setInterval((function(){e=o.config.i18n.advertisement+" - "+prettySecond(Math.floor(t.ads.manager.getRemainingTime())).toString(),$(".plyr__ads").attr("data-badge-text",e),$(".plyr__ads .plyr__time").text(e)}),100)),$("body .plyr-ads-button").click((function(){$(this).toggleClass("plyr__control--pressed")}))},events:{togglePlay:function(){var e=o.player;o.ads.playing?(e.ads.manager.pause(),o.ads.playing=!1):(e.ads.manager.resume(),o.ads.playing=!0)},toggleMute:function(){var e=o.player;o.ads.mute?(o.ads.mute=!1,e.ads.manager.setVolume(1),e.muted=!1):(o.ads.mute=!0,e.ads.manager.setVolume(0),e.muted=!0)},toggleFullscreen:function(){var e=o.player;o.ads.fullscreen?(o.ads.fullscreen=!1,e.fullscreen.exit()):(o.ads.fullscreen=!0,e.fullscreen.enter())}}},mediaSession:{updatePositionState:function(e){"mediaSession"in navigator&&("playbackState"in navigator.mediaSession&&(navigator.mediaSession.playbackState=e),!isLive&&"setPositionState"in navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:o.player.duration,playbackRate:o.player.speed,position:o.player.currentTime}))},load:function(){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:title,artwork:[{src:poster}]}),navigator.mediaSession.setActionHandler("play",(function(){o.player.play(),o.mediaSession.updatePositionState("playing")})),navigator.mediaSession.setActionHandler("pause",(function(){isLive?o.player.stop():o.player.pause(),o.mediaSession.updatePositionState("paused")})),navigator.mediaSession.setActionHandler("stop",(function(){o.player.stop(),o.mediaSession.updatePositionState("paused")})),isLive||(navigator.mediaSession.setActionHandler("seekbackward",(function(){o.player.rewind(),o.mediaSession.updatePositionState("none")})),navigator.mediaSession.setActionHandler("seekforward",(function(){o.player.forward(),o.mediaSession.updatePositionState("none")}))))}},msg:{notFound:function(){showMessage("Sorry this video is unavailable."),gtagReport("video_error","Sources not found","plyr",!1)},custom:function(e){showMessage(e),gtagReport("video_error",e,"plyr",!1)},timeout:function(){showMessage("Connection timed out! "+reloadPage()),gtagReport("video_error","Connection timed out","plyr",!1)},destroy:function(e){showMessage(e+reloadPage()),gtagReport("video_error",e,"plyr",!1)}},customCSS:"<style>.plyr__captions .plyr__caption{color:"+pConf.captionsColor+"!important}.plyr--audio .plyr__control.plyr__tab-focus,.plyr--video .plyr__control.plyr__tab-focus,.plyr__control.plyr__tab-focus{box-shadow:0 0 0 5px rgba("+pConf.rgbColor+",.5)!important}.plyr--full-ui input[type=range].plyr__tab-focus::-webkit-slider-runnable-track{box-shadow:0 0 0 5px rgba("+pConf.rgbColor+",.5)!important}.plyr--full-ui input[type=range].plyr__tab-focus::-moz-range-track{box-shadow:0 0 0 5px rgba("+pConf.rgbColor+",.5)!important}.plyr--full-ui input[type=range].plyr__tab-focus::-ms-track{box-shadow:0 0 0 5px rgba("+pConf.rgbColor+",.5)!important}.plyr--audio .plyr__control.plyr__tab-focus,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true],.plyr--video .plyr__control.plyr__tab-focus,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true],.plyr__control--overlaid:focus,.plyr__control--overlaid:hover,.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]::before{background:"+pConf.playerColor+"!important}.plyr__control--overlaid{background:rgba("+pConf.rgbColor+",.8)!important}.plyr--full-ui input[type=range]{color:"+pConf.playerColor+"!important}</style>",loadSuccessCallback:function(e){var t=$("#servers li"),a=$("#frmValidation"),n=t.length,r=$("#servers li a").index($(".active"));if(retryNumber=getRetryNumber()+1,pConf.blockADB&&window.adsBlocked)var i=setInterval((function(){o.destroy(),null===o.player&&(adblockerMessage(),clearInterval(i))}),100);else"fail"!==e.status?(repairTitle(e),title=e.title,poster=e.poster,o.tracks=e.tracks,"filmstrip"in e&&""!==e.filmstrip&&(o.config.previewThumbnails={enabled:!0,src:e.filmstrip}),e.sources.length>0?(o.sources=e.sources,o.videoType=e.sources[0].type,o.init()):o.msg.notFound()):e.message.indexOf("denied")>-1?($("title").text(e.message),o.msg.custom(e.message),gtagReport("video_error",e.message,"plyr",!1)):e.message.indexOf("DMCA")>-1?($("title").text(e.message),showMessage(e.message),gtagReport("video_error",e.message,"plyr",!1)):void 0!==t&&n>1&&r<n-1?(a.attr("action",t.eq(r+1).find("a").data("url")),a.trigger("submit")):retryNumber<=3?retry(retryNumber):($("title").text(e.message),o.msg.custom(e.message),gtagReport("video_error",e.message,"plyr",!1))},loadErrorCallback:function(e,t){"timeout"===t?o.msg.timeout():failed()}};(window.gdPlyr=o,!pConf.embedOnly||pConf.embedOnly&&inIframe()?pConf.player.indexOf("plyr")>-1?($("head").append(o.customCSS),haveAds&&(o.config.ads={enabled:!0,tagUrl:pConf.vastAds.schedule[0].tag}),pConf.showDownloadButton&&pConf.enableDownloadPage&&(o.config.controls.push("download"),o.config.urls.download=window.downloadURL),pConf.displayRateControls&&o.config.settings.push("speed"),o.config.controls.push("captions","settings","pip"),pConf.disableCast||o.config.controls.push("googlecast"),o.config.controls.push("airplay","fullscreen"),window.sandboxed?showMessage("Sandbox not allowed"):loadSources(o.loadSuccessCallback,o.loadErrorCallback),window.gdPlyr=o):($("head").append(e.customCSS),e.config.skin=e.loadSkin(),"hotstar"===pConf.playerSkin&&(e.config.horizontalVolumeSlider=!0),e.config.hasOwnProperty("key")||(e.config.key="ITWMv7t88JGzI0xPwW8I0+LveiXX9SWbfdmt0ArUSyc="),pConf.enableShare&&(e.config.sharing={sites:["facebook","twitter","linkedin","pinterest","tumblr","reddit","email"]}),window.sandboxed?showMessage("Sandbox not allowed"):loadSources(e.loadSuccessCallback,e.loadErrorCallback),window.jwp=e,window.customRewind=e.rewind,window.customForward=e.forward):showMessage("You must access the embed page with an iframe!"),pConf.pauseOnLeft)&&(void 0!==document.hidden?(t="hidden",a="visibilitychange"):void 0!==document.msHidden?(t="msHidden",a="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",a="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==t&&document.addEventListener(a,(function(){document[t]&&(e.player&&"playing"===e.player.getState()?e.player.pause():o.player&&o.player.playing&&o.player.media.pause())}),!1))}function repairTitle(e){var t=window.titleFormat.replace("{title}","title"in e?e.title:e.meesage).replace("{siteName}",$('meta[name="og:sitename"]').attr("content")),a=$("title");a.text().indexOf("{title}")<0&&(a.text(t),$('meta[name="og:image"], meta[name="twitter:image"]').attr("content",e.poster),$('meta[name="description"], meta[name="og:title"], meta[name="og:description"], meta[name="twitter:title"], meta[name="twitter:description"]').attr("content",t))}function inIframe(){try{return window.self!==window.top}catch(e){return!0}}function loadSources(e,t){$.ajax({url:pConf.apiURL+"api/",type:"POST",dataType:"json",contentType:"text/plain",cache:!1,data:window.kaken,timeout:6e4,complete:function(){$.ajax({url:pConf.apiURL+"ping/",timeout:12e4,cache:!1})},beforeSend:function(){showLoading()},success:e||function(e){},error:t||function(e){}})}function sandboxDetector(){window.sandboxed=!1;try{return void(window.frameElement.hasAttribute("sandbox")&&(window.sandboxed=!0))}catch(e){}try{document.domain=document.domain}catch(e){try{return void(-1!=e.toString().toLowerCase().indexOf("sandbox")&&(window.sandboxed=!0))}catch(e){}}try{if(!window.navigator.plugins.namedItem("Chrome PDF Viewer"))return!1}catch(e){return!1}var e=document.createElement("object");e.data="data:application/pdf;base64,aG1t",e.style="position:absolute;top:-500px;left:-500px;visibility:hidden;",e.onerror=function(){window.sandboxed=!0},e.onload=function(){e.parentNode.removeChild(e)},document.body.appendChild(e);var t=setInterval((function(){null!==e.parentNode&&(e.parentNode.removeChild(e),clearInterval(t))}),500)}function getRetryNumber(){return Math.floor(xStorage.getItem(retryKey))}function retry(e){var t=getRetryNumber();xStorage.setItem(retryKey,e),xStorage.setItem("autoplay",!0),xStorage.removeItem("plyr"),xStorage.removeItem("jwplayer.qualityLabel"),$.ajax({url:pConf.apiURL+"ajax/public/?action=clearVideoCache&data="+window.qsx+"&token="+window.utekmek,method:"GET",dataType:"json",cache:!1,timeout:6e4,beforeSend:function(){showLoading()},success:function(e){xStorage.setItem(retryKey,t+1),"ok"===e.status?$("#frmValidation").trigger("submit"):failed()},error:function(e,a){xStorage.setItem(retryKey,t+1),failed()}})}function showSandbox(){$(".jwplayer").length?jwp.destroy():$(".plyr").length&&gdPlyr.destroy(),gtagReport("sandbox_error","Sandbox not allowed","sandbox",!1),showMessage("Sandbox not allowed")}function showPlayer(){$("#videoContainer").show(),$("#mContainer, #fakePlayButton").hide()}function showFakePlay(){$("#fakePlayButton").show(),$("#mContainer, #videoContainer").hide()}function showLoading(){$("#mContainer, #loading").show(),$("#fakePlayButton, #videoContainer").hide(),$("#message").text().trim()&&$("#message").show()}function showMessage(e){e&&$("#message").html(e),$("#fakePlayButton, #videoContainer, #loading").hide(),$("#mContainer, #message").show()}function prettySecond(e){var t=Math.floor(e,10),a=Math.floor(t/3600),o=Math.floor((t-3600*a)/60),n=t-3600*a-60*o;return a<10&&(a="0"+a),o<10&&(o="0"+o),n<10&&(n="0"+n),a+":"+o+":"+n}function gtagReport(e,t,a,o){"undefined"!=typeof gtag&&gtag("event",e,{event_label:t,event_category:a,non_interaction:o})}function reloadPage(){return"<a href=\"javascript:void(0)\" onclick=\"xStorage.clear();$('#frmValidation').trigger('submit')\">Reload Page</a>"}function failed(){showMessage("Failed to fetch video sources from server! "+reloadPage()),gtagReport("video_error","Failed to fetch video sources from server. Try again","video_error",!1)}function adblockerMessage(){$("#resume").hide(),gtagReport("adblocker_error","Disable AdBlocker Message","ads",!1),showMessage('<p><img src="'+window.baseURL+'assets/img/stop-sign-hand.webp" width="100" height="100" alt="Stop AdBlocker"></p><p>Please support us by disabling AdBlocker.</p>')}function statCounter(){statCounted||$.ajax({url:pConf.apiURL+"ajax/?action=statCounter&data="+window.qsx+"&token="+utekmek,method:"GET",dataType:"json",cache:!1,timeout:6e4,beforeSend:function(){statCounted=!0}})}function visitDirectAds(){if(!pConf.disableDirectAds&&pConf.visitAdsOnplay&&""!==pConf.directAdsLink&&"#"!==pConf.directAdsLink){var e=window.open(pConf.directAdsLink,"_blank");if(pConf.showIframeAds)var t=setTimeout((function(){null!==e&&void 0!==typeof e||($("#iframeAds").attr("src",pConf.directAdsLink),$("#directAds").show(),clearTimeout(t))}),3e3)}var a=$("#txtAdsScript").val(),o=Math.floor($("#txtAdsOffset").val());if(""!==a&&o>0)var n=0,r=setInterval((function(){++n>o&&($("body").append(a),$("#txtAdsScript").val(""),clearInterval(r))}),1e3)}!0===window.sandboxed?showSandbox():$.ajax({url:atob(window.apx)+"?"+window.qsx,type:"GET",dataType:"json",cache:!1,timeout:6e4,success:function(e){window.enableFakePlay&&(showFakePlay(),$("#fakePlayButton").click((function(){loadGDPlayer()}))),void 0!==e&&"iv"in e?(pConf=JSON.parse(_decx(JSON.stringify(e))),window.pConf=pConf,window.enableFakePlay||loadGDPlayer()):(showMessage("License error!"),gtagReport("video_error","License error!","video_error",!1))},error:function(e){showMessage("Server error! "+e.responseText),gtagReport("video_error","Server error!"+e.responseText,"video_error",!1)}}),void 0===document.isFullscreen&&(document.isFullscreen=function(){return!(void 0!==document.fullScreenElement&&null===document.fullScreenElement||void 0!==document.msFullscreenElement&&null===document.msFullscreenElement||void 0!==document.mozFullScreen&&!document.mozFullScreen||void 0!==document.webkitIsFullScreen&&!document.webkitIsFullScreen)}),window.addEventListener("orientationchange",(function(e){var t=document.getElementsByTagName("video")[0];e.landscape&&(t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen())})),window.addEventListener("resize",(function(){for(var e=window.innerWidth,t="jw-breakpoint-",a="jw-flag-small-player",o=$(".jwplayer"),n=-1;n<8;n++)o.removeClass(t+""+n),o.removeClass(a);e>=1280?o.addClass(t+"7"):e>=960?o.addClass(t+"6"):e>=800?o.addClass(t+"5"):e>=640?o.addClass(t+"4"):e>=540?o.addClass(t+"3"):e>=420?o.addClass(t+"2"):e>=320?o.addClass(t+"1").addClass(a):e>=250?o.addClass(t+"0").addClass(a):o.addClass(t+"-1").addClass(a)})),$(document).on("contextmenu",(function(e){return e.preventDefault(),e.stopPropagation(),!1}));