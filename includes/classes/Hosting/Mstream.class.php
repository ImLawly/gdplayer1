<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:35              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Hosting; class Mstream extends \GDPlayer\CoreExtractor { public function __construct(string $id = '') { goto ChgfL; gfVOO: parent::__construct($id); goto jXcf9; PQIwx: j6Ij1: goto mx5uh; WPAPq: curl_setopt($this->ch, CURLOPT_FOLLOWLOCATION, false); goto iBotV; V6uit: curl_close($this->ch); goto KwNXr; g1T6t: curl_setopt($this->ch, CURLOPT_HEADER, false); goto wS0NX; UDDU9: tsXmu: goto gWeIR; vmEFj: curl_close($this->ch); goto X40Um; Cw1c4: goto tsXmu; goto PQIwx; mx5uh: $this->modifyCurlConfig($effectiveURL, ["\103\157\x6f\153\x69\145\x3a\x20" . implode("\73", $this->cookies)]); goto nDD1r; m237M: $effectiveURL = curl_getinfo($this->ch, CURLINFO_EFFECTIVE_URL); goto B3REb; fvOjh: $response = curl_exec($this->ch); goto V6uit; iBotV: curl_setopt($this->ch, CURLOPT_HEADER, true); goto nvEGO; KwNXr: if (strpos($response, "\144\x6f\167\156\154\157\141\x64\125\x72\154") !== false) { goto Y1WQ3; } goto EweRo; z8zLZ: $this->parseSources($response); goto XZYLu; jXcf9: $this->modifyCurlConfig($this->id, [], "\x48\x45\x41\104"); goto WPAPq; U56G9: Y1WQ3: goto z8zLZ; rBWc0: createErrorLog([__FILE__, $this->id, $effectiveURL, $this->cookies, $err]); goto Cw1c4; wS0NX: curl_setopt($this->ch, CURLOPT_NOBODY, false); goto mnqU4; kJPRn: curl_setopt($this->ch, CURLOPT_HEADERFUNCTION, [$this, "\150\145\x61\x64\x65\x72\x43\x61\154\x6c\x62\x61\x63\153"]); goto aVMj_; X40Um: if (!empty($effectiveURL) && !empty($this->cookies) && empty($err)) { goto j6Ij1; } goto rBWc0; mnqU4: curl_setopt($this->ch, CURLOPT_HEADERFUNCTION, [$this, "\x68\x65\x61\144\145\162\x43\x61\x6c\x6c\142\x61\143\x6b"]); goto fvOjh; aVMj_: curl_exec($this->ch); goto m237M; nDD1r: curl_setopt($this->ch, CURLOPT_FOLLOWLOCATION, true); goto g1T6t; PeQoN: goto cR9Q9; goto U56G9; nvEGO: curl_setopt($this->ch, CURLOPT_NOBODY, true); goto kJPRn; XZYLu: cR9Q9: goto UDDU9; EweRo: $this->chromeSources(); goto PeQoN; ChgfL: session_write_close(); goto gfVOO; B3REb: $err = curl_error($this->ch); goto vmEFj; gWeIR: } private function chromeSources() { goto C0n2C; XL7Mm: goto VHsjH; goto vjifx; wDl4G: createErrorLog([__FILE__, __FUNCTION__, $this->id, "\143\x61\x6e\156\x6f\164\x20\143\x72\x65\x61\164\145\x20\x6c\x6f\x67\40\146\x69\154\145"]); goto j6bud; pHqAO: goto a6Iji; goto uS_WJ; C0n2C: $logFile = $this->chrome->exec($this->id, "\155\x73\x74\162\x65\141\x6d\176" . $this->id); goto JGjYw; S576o: $arr = @json_decode($response, true); goto qZhps; vjifx: fQqO5: goto eJ6dW; zVnHy: createErrorLog([__FILE__, __FUNCTION__, $this->id, "\x63\141\x6e\156\x6f\164\x20\x72\x65\141\144\40{$logFile}"]); goto pHqAO; mksfT: if ($fp) { goto fQqO5; } goto YqC1z; g0lJi: if ($response) { goto DTh3F; } goto zVnHy; mty2i: openResourcesHandler(); goto TuIBH; TuIBH: $fp = @fopen($logFile, "\162"); goto mksfT; uS_WJ: DTh3F: goto S576o; KRXRL: VHsjH: goto mTf3J; a3UV3: @unlink($logFile); goto e46vS; M2zMP: $response = stream_get_contents($fp); goto Hkzls; j6bud: goto k3WMb; goto PzOYV; mTf3J: k3WMb: goto lo61u; eJ6dW: stream_set_blocking($fp, false); goto M2zMP; PzOYV: wzZnI: goto mty2i; qZhps: $this->parseSources($arr["\x68\164\x6d\x6c"] ?? ''); goto a3UV3; JGjYw: if ($logFile) { goto wzZnI; } goto wDl4G; YqC1z: createErrorLog([__FILE__, __FUNCTION__, $this->id, "\x63\x61\156\x6e\x6f\164\x20\157\160\x65\x6e\x20{$logFile}"]); goto XL7Mm; Hkzls: fclose($fp); goto g0lJi; e46vS: a6Iji: goto KRXRL; lo61u: } protected function parseSources(string $response = '') { goto YQqFB; SYOuX: mvBFc: goto Bq8ji; Bq8ji: $this->status = "\157\x6b"; goto TAAy3; jzsec: goto WJVPD; goto SYOuX; TAAy3: $this->title = trim(getStringBetween($response, "\x3d\x20\173\x22\156\x61\155\x65\42\x3a\x22", "\42")); goto NGjCU; aSXjr: $this->image .= "\x26\x77\151\x64\x74\x68\x3d\x31\x30\62\64\x26\x68\x65\x69\147\x68\164\75\67\62\60"; goto OnXpb; Klpie: WJVPD: goto CGbLk; pRNKA: if (validateUrl($downloadUrl)) { goto mvBFc; } goto ZAAZ3; ZAAZ3: createErrorLog([__FILE__, $this->id, "\144\x6f\167\x6e\154\157\141\144\x20\165\162\x6c\40\156\x6f\164\40\146\x6f\165\x6e\144"]); goto jzsec; Mp0sU: $this->sources[] = ["\146\x69\x6c\145" => $downloadUrl, "\164\x79\x70\145" => $this->videoType, "\154\x61\142\145\x6c" => "\x4f\162\x69\x67\151\156\141\x6c"]; goto Klpie; YQqFB: $downloadUrl = trim(strtr(getStringBetween($response, "\x64\x6f\x77\156\154\157\x61\144\x55\162\154\42\72\42", "\x22"), ["\x5c\165\x30\60\62\66" => "\46"])); goto pRNKA; OnXpb: R6qI0: goto Mp0sU; NGjCU: $this->image = trim(strtr(getStringBetween($response, "\164\162\x61\x6e\x73\x66\x6f\162\155\125\162\154\42\x3a\x22", "\x22"), ["\134\x75\x30\x30\x32\x36" => "\x26"])); goto JNjfx; JNjfx: if (empty($this->image)) { goto R6qI0; } goto aSXjr; CGbLk: } }
