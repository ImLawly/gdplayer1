<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:36              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Hosting; use GDPlayer\Helper; class Youtube extends \GDPlayer\CoreExtractor { protected $baseURL = "\x68\164\x74\160\x73\x3a\x2f\57\167\x77\167\x2e\x79\157\x75\x74\165\142\145\x2e\x63\x6f\x6d\x2f"; private $thirdPartyAPIUrl = "\x68\x74\x74\160\163\72\x2f\x2f\x79\x74\61\163\56\143\157\155\57"; private $headers = []; public function __construct(string $id = '') { goto UvJcx; V4bF5: $this->referer = $ytdlp->getReferer(); goto Gv3oy; c_1tr: tSHnx: goto pJDzQ; pJDzQ: if (!empty($this->sources)) { goto W8RTe; } goto ZbnBM; H_Rsl: if (!empty($this->sources)) { goto KlAj3; } goto UvJmu; XVeZ1: $this->tracks = $ytdlp->getTracks(); goto V4bF5; f86rk: $this->sources = $ytdlp->getSources(); goto H_Rsl; dka7l: CAlGy: goto rU5b9; GYn3S: $this->referer = "\x68\164\x74\160\x73\x3a\x2f\57\x79\157\165\x74\x75\x62\145\x2e\147\x6f\x6f\147\154\145\x61\x70\151\x73\56\x63\157\x6d\x2f"; goto dka7l; VE2se: goto tSHnx; goto BHfoc; mnDjx: $ytdlp = new \GDPlayer\YtdlpBridge($this->url); goto f86rk; SAG28: $this->title = $ytdlp->getTitle(); goto V0UkU; nhNUB: W8RTe: goto Y2PlY; Gv3oy: $this->status = $ytdlp->getStatus(); goto c_1tr; UvJmu: $this->getAPISources(); goto VE2se; BHfoc: KlAj3: goto SAG28; UvJcx: session_write_close(); goto Zn8Cr; Zn8Cr: $this->url = $this->baseURL . "\x77\141\x74\x63\x68\x3f\x76\75" . $id; goto nmPlh; V0UkU: $this->image = $ytdlp->getImage(); goto XVeZ1; Y2PlY: if (!empty($this->referer)) { goto CAlGy; } goto GYn3S; ZbnBM: $this->getThirdPartySources(); goto nhNUB; nmPlh: parent::__construct($id); goto mnDjx; rU5b9: } private function createImage() { $this->image = "\x68\164\164\x70\x73\72\x2f\x2f\151\x2e\171\x74\151\x6d\x67\56\x63\x6f\155\x2f\x76\x69\x2f" . $this->id . "\57\x6d\141\170\162\145\163\x64\145\x66\x61\x75\154\x74\x2e\152\x70\x67"; } private function thirdPartySourcesParser(array $sources = []) { goto dmMEQ; y4S_e: foreach ($sources as $dt) { $this->sources[] = ["\146\151\x6c\x65" => $dt["\x64\154\151\156\153"], "\x6c\141\x62\x65\154" => preg_replace("\57\133\x5e\x30\55\71\56\135\x2b\57", '', $dt["\x66\x71\x75\141\154\x69\164\x79"]) . "\x70", "\x74\171\160\145" => $this->videoType]; h668c: } goto vGmXD; iQ7o0: AJiyO: goto Jj0Hb; vGmXD: WfmxC: goto iQ7o0; dmMEQ: if (empty($sources)) { goto AJiyO; } goto y4S_e; Jj0Hb: } private function thirdPartySourcesConvert(array $keys = [], string $vid = '') { goto q0mEC; XHD5w: curl_multi_select($mh); goto LSq1d; Lf0s6: KwRyg: goto Llvh3; cRdGd: foreach ($handles as $i => $handle) { goto dBPz3; twWDe: J1Imj: goto R6pa3; cAQi7: if (!($status >= 200 && $status < 400)) { goto J1Imj; } goto tSY1s; dBPz3: $response = curl_multi_getcontent($handle); goto uSA6K; tSY1s: $result[] = @json_decode($response, true); goto twWDe; R6pa3: EZx07: goto NZUO7; uSA6K: $status = curl_getinfo($handle, CURLINFO_HTTP_CODE); goto l7K6H; u1YWX: curl_close($handle); goto cAQi7; l7K6H: curl_multi_remove_handle($mh, $handle); goto u1YWX; NZUO7: } goto s0HRY; RJqx0: foreach ($keys as $i => $key) { goto eUHhX; LoDk3: X_clF: goto q1h23; SmtqT: curl_setopt($handles[$i], CURLOPT_HTTPHEADER, $this->headers); goto l9NJO; yg6so: curl_setopt($handles[$i], CURLOPT_PROXY, $this->proxy["\x70\162\157\170\171"]); goto Q8pjA; Q8pjA: curl_setopt($handles[$i], CURLOPT_PROXYTYPE, $this->proxy["\164\x79\160\x65"]); goto iZJQT; wDsUM: qCUep: goto SmtqT; l9NJO: curl_multi_add_handle($mh, $handles[$i]); goto LoDk3; hfQ9o: if (!$this->proxy) { goto qCUep; } goto yg6so; o3F3u: curl_setopt($handles[$i], CURLOPT_POSTFIELDS, http_build_query(["\166\151\x64" => $vid, "\x6b" => $key])); goto hfQ9o; iZJQT: curl_setopt($handles[$i], CURLOPT_PROXYUSERPWD, $this->proxy["\x75\163\x72\x70\x77\x64"]); goto wDsUM; eUHhX: $handles[$i] = Helper::getCurlDefaultConfig(curl_init($url)); goto vePul; vePul: curl_setopt($handles[$i], CURLOPT_CUSTOMREQUEST, "\x50\117\x53\x54"); goto o3F3u; q1h23: } goto VVjbf; VVjbf: Y1Vz9: goto Wcaf9; q0mEC: $url = $this->thirdPartyAPIUrl . "\141\160\x69\x2f\141\152\141\170\x43\x6f\x6e\166\145\162\x74\57\x63\157\x6e\x76\x65\x72\164"; goto tSl0l; tSl0l: $mh = curl_multi_init(); goto naXKI; Llvh3: curl_multi_exec($mh, $running); goto XHD5w; dQoDl: QJu9O: goto ZmnOC; Wcaf9: $running = null; goto Lf0s6; naXKI: $handles = []; goto RJqx0; s0HRY: uAN0T: goto IoxAd; XnMHW: $this->thirdPartySourcesParser(array_filter($result, fn($dt) => is_array($dt) && !empty($dt["\x64\x6c\151\x6e\153"]) && !empty($dt["\x66\x71\x75\x61\154\x69\x74\171"]) && is_numeric(preg_replace("\57\x5b\136\x30\x2d\71\56\x5d\x2b\x2f", '', $dt["\x66\x71\x75\141\x6c\x69\164\x79"])))); goto U5iXp; WfLa0: if ($running > 0) { goto KwRyg; } goto dQoDl; ZmnOC: $result = []; goto cRdGd; LSq1d: usleep(100000); goto WfLa0; IoxAd: curl_multi_close($mh); goto XnMHW; U5iXp: } private function thirdPartySources(string $response = '') { goto J4C1R; wChgB: wW0q7: goto UXQFr; ldjXz: $keys = array_column(array_values(array_filter($data["\x6c\x69\156\x6b\x73"]["\x6d\x70\64"], function ($dt) { $q = trim($dt["\161"], "\x70"); return $q === "\63\66\x30" || $q === "\64\x38\x30" || $q === "\67\62\x30" || $q === "\x31\x30\x38\x30"; })), "\153"); goto P2SHj; J4C1R: $data = @json_decode($response, true); goto zB1R3; k7DUB: K4iYf: goto ypLy2; gazJX: $this->title = $data["\x74\x69\164\154\x65"]; goto wChgB; e6EQr: if (empty($data["\x74\151\x74\x6c\145"])) { goto wW0q7; } goto gazJX; P2SHj: $this->thirdPartySourcesConvert($keys, $data["\x76\x69\144"]); goto FsfR8; CZGl0: $this->referer = $this->thirdPartyAPIUrl . "\145\156\66\61\62"; goto E1gek; XTQQ5: $this->status = "\157\x6b"; goto CZGl0; E1gek: $this->createImage(); goto e6EQr; zB1R3: if (!(isset($data["\x73\x74\141\164\x75\x73"]) && $data["\163\164\x61\164\165\x73"] === "\157\153")) { goto K4iYf; } goto XTQQ5; FsfR8: ydmjy: goto k7DUB; UXQFr: if (!(!empty($data["\x76\151\144"]) && !empty($data["\154\x69\x6e\153\x73"]["\x6d\160\64"]))) { goto ydmjy; } goto ldjXz; ypLy2: } private function getThirdPartySources() { goto dd6s3; ep1Pe: $this->usingProxy = true; goto GQIHO; MPaj4: goto LyW0n; goto wwEY1; rzF8G: LyW0n: goto bFBEJ; tB2Yb: if ($status !== 404 && $this->retryProxy < 3 && in_array($this->host, $this->core->getDirectHosts())) { goto pXYsw; } goto GUuXC; G24KZ: if ($status >= 200 && $status < 400) { goto Z102Q; } goto tB2Yb; Qai7I: $this->thirdPartySources($response); goto xB_be; MUjII: $this->modifyCurlConfig($this->thirdPartyAPIUrl . "\141\x70\151\x2f\141\152\141\x78\123\145\141\x72\x63\150\57\x69\156\144\145\x78", $this->headers, "\x50\x4f\123\124"); goto lrUzB; GQIHO: $this->retryProxy += 1; goto rJoPX; qrfwi: $err = curl_error($this->ch); goto wQH0N; dd6s3: $this->headers = array("\103\x6f\156\164\x65\x6e\164\55\x54\x79\x70\x65\x3a\40\x61\160\x70\x6c\x69\x63\x61\x74\151\x6f\x6e\x2f\x78\x2d\167\167\x77\55\146\x6f\162\x6d\x2d\x75\162\x6c\x65\x6e\143\157\x64\145\x64\73\x20\143\x68\x61\x72\163\x65\x74\75\125\124\x46\x2d\70", "\130\x2d\122\x65\x71\165\145\163\164\x65\144\55\127\151\164\x68\72\40\x58\x4d\x4c\110\164\164\x70\x52\x65\x71\165\x65\x73\164"); goto MUjII; rJoPX: $this->getThirdPartySources(); goto rzF8G; wwEY1: Z102Q: goto Qai7I; WZ1zR: curl_setopt($this->ch, CURLOPT_REFERER, $this->thirdPartyAPIUrl . "\x65\x6e\64\63\x39"); goto CazmY; CazmY: $response = curl_exec($this->ch); goto CY1xb; wQH0N: curl_close($this->ch); goto G24KZ; CY1xb: $status = curl_getinfo($this->ch, CURLINFO_HTTP_CODE); goto qrfwi; GUuXC: createErrorLog([__FILE__, __FUNCTION__, $this->id, $status, $err]); goto MPaj4; uy6u3: pXYsw: goto ep1Pe; lrUzB: curl_setopt($this->ch, CURLOPT_POSTFIELDS, http_build_query(array("\161" => $this->baseURL . "\167\x61\164\x63\150\77\x76\x3d" . $this->id, "\x76\164" => "\150\157\155\x65"))); goto WZ1zR; xB_be: goto LyW0n; goto uy6u3; bFBEJ: } private function parseAPISources(string $response = '') { goto sV1Z_; dhcND: if (!empty($data["\x73\x74\x72\145\141\x6d\151\x6e\147\104\141\x74\x61"]["\x68\154\x73\x4d\x61\156\x69\x66\145\x73\x74\x55\162\x6c"])) { goto UDN_K; } goto be0kZ; M6tQf: pCvq7: goto sO3oy; x1p9z: $this->referer = "\150\x74\x74\160\x73\x3a\x2f\57\167\167\167\x2e\171\x6f\x75\164\165\x62\145\x2e\143\157\155\x2f"; goto l2rG2; sO3oy: $this->createImage(); goto Hvi8x; hx4xW: PhX7y: goto dhcND; be0kZ: if (!empty($data["\163\164\162\145\141\x6d\x69\156\x67\x44\141\164\141"]["\x66\157\x72\155\x61\x74\x73"])) { goto pCvq7; } goto Tn_Rx; Hvi8x: $this->status = "\x6f\x6b"; goto mLgqm; mLgqm: foreach ($data["\163\x74\x72\145\141\x6d\151\156\x67\x44\141\x74\x61"]["\146\157\x72\155\141\x74\163"] as $vid) { goto l4ath; mjvaf: $this->sources[] = ["\146\151\154\x65" => $vid["\165\162\154"], "\164\171\x70\x65" => $this->videoType, "\154\x61\142\145\x6c" => $this->googleLabel($vid["\151\x74\x61\x67"])]; goto Is0Bg; THNyH: BGKty: goto uFloS; l4ath: if (!(!empty($vid["\x75\162\x6c"]) && strpos($vid["\155\151\x6d\x65\x54\x79\160\145"], "\x76\151\x64\145\157\x2f\x6d\x70\64") !== false)) { goto wzPmB; } goto mjvaf; Is0Bg: wzPmB: goto THNyH; uFloS: } goto YkQE7; Vmg3R: $this->title = $data["\166\151\x64\145\157\x44\145\164\x61\151\x6c\x73"]["\164\151\164\154\145"]; goto hx4xW; m3B0f: UDN_K: goto ZRTE0; WS1mo: ZIWJu: goto V1W7c; V1W7c: h7Mnn: goto L9LMW; ZRTE0: $this->createImage(); goto wS4Su; Tn_Rx: createErrorLog([__FILE__, $this->url, "\163\x74\162\145\141\155\151\156\147\104\x61\164\x61\x20\146\157\162\155\x61\164\x73\40\x6e\157\164\40\146\x6f\x75\x6e\x64\x20\157\x72\x20\145\155\x70\x74\x79", $response]); goto rfG8u; hLpNl: KsU99: goto crVXy; RAkSq: goto KsU99; goto M6tQf; rfG8u: goto KsU99; goto m3B0f; l2rG2: $this->sources[] = ["\x66\151\x6c\145" => $data["\x73\x74\162\x65\141\x6d\x69\156\x67\x44\141\x74\141"]["\150\154\163\x4d\x61\x6e\x69\146\x65\x73\164\x55\x72\x6c"], "\x74\171\x70\x65" => $this->hlsType, "\x6c\141\x62\145\154" => "\117\x72\151\x67\x69\156\x61\x6c"]; goto RAkSq; YkQE7: E4t1f: goto hLpNl; sV1Z_: $data = @json_decode($response, true); goto q6SZa; wS4Su: $this->status = "\x6f\x6b"; goto x1p9z; reYC6: foreach ($data["\x63\x61\x70\164\151\x6f\156\163"]["\160\154\x61\171\145\x72\103\x61\160\x74\151\x6f\x6e\163\124\162\x61\143\x6b\x6c\151\163\164\x52\145\156\144\x65\162\x65\x72"]["\x63\141\160\x74\x69\157\x6e\124\162\x61\143\x6b\x73"] as $sub) { $this->tracks[] = ["\x66\x69\154\145" => $sub["\142\x61\x73\145\x55\x72\x6c"], "\154\141\142\145\154" => $sub["\156\141\155\x65"]["\x73\x69\x6d\x70\x6c\x65\124\145\x78\164"], "\163\162\143\x6c\141\x6e\147" => $sub["\154\x61\156\x67\165\141\147\145\x43\157\144\145"]]; O7gEs: } goto WS1mo; L9LMW: if (empty($data["\166\151\144\x65\x6f\104\x65\x74\x61\151\154\163"]["\x74\x69\x74\x6c\145"])) { goto PhX7y; } goto Vmg3R; q6SZa: if (empty($data["\x63\141\160\164\x69\x6f\156\x73"]["\x70\154\x61\171\x65\162\x43\x61\160\x74\x69\x6f\x6e\x73\124\x72\x61\143\x6b\x6c\151\163\164\122\145\x6e\144\145\x72\145\162"]["\x63\141\x70\164\x69\x6f\x6e\124\x72\x61\143\153\163"])) { goto h7Mnn; } goto reYC6; crVXy: } private function getAPISources() { goto Ngxl_; XoDf5: $response = curl_exec($this->ch); goto ref7u; Ou1Jk: VIsP8: goto r5oSh; OQvcL: goto VIsP8; goto bMXZN; EGecQ: $this->parseAPISources(trim(getStringBetween($response, "\x76\141\162\x20\171\164\111\x6e\151\164\151\x61\154\120\154\x61\171\x65\x72\122\145\163\x70\x6f\156\163\x65\40\75", "\175\73") . "\175")); goto OQvcL; eypos: $this->usingProxy = true; goto sfy2_; Ngxl_: $this->modifyCurlConfig($this->url); goto XoDf5; mKAuo: $this->getAPISources(); goto Ou1Jk; lyu5d: if ($status !== 404 && $this->retryProxy < 3 && in_array($this->host, $this->core->getDirectHosts())) { goto z3Q3W; } goto CEDB5; lqPg9: JeMTY: goto EGecQ; rqhrt: goto VIsP8; goto lqPg9; eHwTP: if ($status >= 200 && $status < 400) { goto JeMTY; } goto lyu5d; bMXZN: z3Q3W: goto eypos; t2qZW: $err = curl_error($this->ch); goto D41tj; ref7u: $status = curl_getinfo($this->ch, CURLINFO_HTTP_CODE); goto t2qZW; CEDB5: createErrorLog([__FILE__, __FUNCTION__, $this->id, $status, $err]); goto rqhrt; D41tj: curl_close($this->ch); goto eHwTP; sfy2_: $this->retryProxy += 1; goto mKAuo; r5oSh: } }
