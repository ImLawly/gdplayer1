<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:35              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Hosting; use GDPlayer\InstanceCache; class Vidguard extends \GDPlayer\CoreExtractor { protected $baseURL = "\x68\x74\x74\160\x73\72\x2f\x2f\154\x69\x73\x74\x65\x61\155\145\x64\x2e\156\x65\x74\57"; private $jsKey = ''; public function __construct(string $id = '') { goto EOmSz; q2_4R: $this->curlRequest($this->url, ["\x52\x65\x66\145\162\145\x72\x3a\x20{$this->baseURL}"], fn($response) => $this->responseCallback($response)); goto p9aKe; ENxtY: $this->jsKey = keyFilter("\166\x69\144\147\x75\141\162\x64\x5f\x6a\163\x63\157\x64\x65\x5f" . $this->id); goto q2_4R; Kve4i: $this->referer = $this->baseURL; goto roeyN; uy4oT: $this->url = "{$this->baseURL}\x65\x2f{$id}"; goto Kve4i; EOmSz: session_write_close(); goto uy4oT; roeyN: parent::__construct($id); goto ENxtY; p9aKe: } private function responseCallback(string $response = '') { goto nm3jZ; nm3jZ: $this->title = trim(getStringBetween($response, "\x3c\164\x69\164\x6c\145\76", "\74\x2f\x74\x69\164\x6c\145\76")); goto BIRAi; IkCOW: $cache->set($data)->expiresAfter(600); goto KYI3h; SW4th: $jsKey = keyFilter("\x76\151\x64\147\x75\141\162\144\x32\137\x6a\x73\143\157\144\145\x5f" . $this->id); goto AbwNw; BIRAi: $this->image = trim(getStringBetween($response, "\x6f\x67\x3a\151\155\141\x67\145\x22\x20\143\157\156\x74\x65\156\164\75\42", "\x22")); goto PcD9e; Ngk02: if (!(strpos($response, $js1) !== false)) { goto QFCS3; } goto POdWa; AbwNw: $sourceKey = keyFilter("\166\x69\144\x67\165\x61\x72\144\x32\137\163\157\165\162\x63\145\163\137" . $this->id); goto VHlzW; oMm22: $evalCode = $js2 . getStringBetween($response, $js2, $closeScript); goto zcYhh; zcYhh: Kse0g: goto S6COY; KYI3h: $cache->addTag("\x76\151\144\x67\x75\141\x72\144\55\x6a\x73\x63\x6f\x64\145"); goto pQTYX; S6COY: $sourceKey = keyFilter("\x76\151\144\147\x75\141\162\144\x5f\163\157\x75\x72\x63\x65\163\x5f" . $this->id); goto WPwRU; fLOeh: z1gVD: goto MXEqA; n5Tat: $this->parseSources($urlParser . "\x32\x2f" . $this->id, "\166\x69\144\147\x75\x61\162\x64\62\x2d" . $this->id, $jsKey, $sourceKey); goto fLOeh; iw7r8: $urlParser = BASE_URL . "\x70\x61\x72\x73\145\162\x2f\166\151\144\x67\165\141\162\x64"; goto kmsVU; PcD9e: $this->image .= trim(strtr(getStringBetween($response, "\x69\x6d\x67\x5c\165\60\x30\x32\x32\72\x5c\165\60\x30\x32\62", "\x5c\165\x30\60\62\x32\x2c"), ["\x2e\x70\x72\145\166\151\x65\x77\x2e" => "\x2e\160\x6f\x73\164\145\162\x2e"])); goto kbnFM; WPwRU: $data = ["\x70\154\x61\x79\145\x72\103\157\156\146\151\x67" => $playerConfig, "\145\x76\141\154\103\x6f\x64\145" => $evalCode]; goto oyo96; NngZ5: $closeScript = "\74\57\163\x63\162\151\160\x74\76"; goto Ngk02; atVTC: $evalCode = ''; goto f4Kqq; xdJ5b: $js1 = "\167\151\156\144\x6f\167\56\x50\x6c\141\x79\x65\162\x43\x6f\x6e\146\151\147\x3d"; goto NngZ5; f4Kqq: $js2 = "\x65\166\141\x6c\x28\x22\167\151\156\144\157\167\x2e\101\104\102\x4c\117\x43\x4b\105\122"; goto sUQdx; pQTYX: InstanceCache::save($cache); goto n5Tat; POdWa: $playerConfig = $js1 . getStringBetween($response, $js1, $closeScript); goto k7vSZ; oyo96: $cache = InstanceCache::getItem($this->jsKey); goto hDeeW; QJBVg: if (!empty($this->sources)) { goto z1gVD; } goto SW4th; MrB0b: InstanceCache::save($cache); goto iw7r8; sUQdx: if (!(strpos($response, $js2) !== false)) { goto Kse0g; } goto oMm22; kmsVU: $this->parseSources($urlParser . SLASH . $this->id, "\x76\x69\144\x67\x75\x61\162\144\55" . $this->id, $this->jsKey, $sourceKey); goto QJBVg; k7vSZ: QFCS3: goto atVTC; kbnFM: $playerConfig = ''; goto xdJ5b; VHlzW: $cache = InstanceCache::getItem($jsKey); goto IkCOW; hDeeW: $cache->set($data)->expiresAfter(600)->addTag("\x76\x69\x64\x67\165\x61\162\144\55\152\163\143\x6f\144\145"); goto MrB0b; MXEqA: } private function parseTracks(array $tracks = []) { foreach ($tracks as $val) { goto f3m2m; XG_xl: lytkI: goto yR7O7; FOJOM: $this->tracks[] = $val; goto CWB03; hAB3b: $this->filmstrip = $val["\146\x69\154\145"]; goto Lbvcy; CWB03: goto vhSXK; goto yXsUo; f3m2m: if (isset($val["\153\x69\x6e\144"]) && $val["\x6b\151\156\x64"] === "\164\150\165\x6d\142\156\x61\151\154\163") { goto AEjXU; } goto FOJOM; yXsUo: AEjXU: goto hAB3b; Lbvcy: vhSXK: goto XG_xl; yR7O7: } xkgoF: } private function parseSourcesFromCache(array $data) { goto NWcAF; jbH8g: $this->image = $data["\151\x6d\141\147\145"]; goto jJ9es; dYZ1K: if (empty($data["\x73\x6f\165\x72\x63\x65\x73"])) { goto OqzNg; } goto A0Q01; EiYNP: if (empty($data["\151\155\141\147\145"])) { goto oEQLD; } goto jbH8g; BUjB9: dCvyG: goto EiYNP; YYILT: $this->sources = $data["\163\157\165\162\x63\x65\x73"]; goto udVAM; udVAM: OqzNg: goto Of_Yy; A0Q01: $this->status = "\157\153"; goto YYILT; m2__X: $this->filmstrip = $data["\146\x69\154\x6d\x73\164\162\151\x70"]; goto BUjB9; G5Y9P: $this->parseTracks($data["\x74\162\x61\x63\x6b\x73"]); goto TNX75; jJ9es: oEQLD: goto dYZ1K; rxxTw: if (empty($data["\146\x69\x6c\155\163\164\162\151\160"])) { goto dCvyG; } goto m2__X; NWcAF: if (empty($data["\x74\x72\x61\143\153\163"])) { goto UBrjI; } goto G5Y9P; TNX75: UBrjI: goto rxxTw; Of_Yy: } private function parseSourcesFromLogFile(string $logFile) { goto nmZXf; nmZXf: $content = getFileContent($logFile); goto T1Jz2; ks9lE: if (!(json_last_error() === JSON_ERROR_NONE && !empty($arr["\x61\152\x61\x78\122\x65\x71\x75\x65\163\164\x73"]))) { goto qr42S; } goto dDSbY; dDSbY: $urls = array_column($arr["\141\x6a\x61\x78\x52\x65\161\x75\x65\163\x74\x73"], "\x75\162\154"); goto Uohhj; RECTW: Tr90w: goto GQpPJ; Uohhj: foreach ($urls as $val) { goto ES89F; g_5i3: goto Tr90w; goto h0aDd; clnut: iRPdc: goto SKfnU; ES89F: if (!(strpos($val, "\155\63\165\x38") !== false)) { goto iWA6K; } goto XPlwa; h0aDd: iWA6K: goto clnut; XPlwa: $this->sources[] = ["\x66\x69\154\x65" => $val, "\164\171\x70\x65" => "\150\x6c\x73", "\154\141\x62\145\154" => "\x4f\162\151\147\151\156\141\154"]; goto g_5i3; SKfnU: } goto RECTW; T1Jz2: $arr = @json_decode($content, true); goto ks9lE; GQpPJ: qr42S: goto ork7K; ork7K: } private function parseSources(string $urlParser = '', string $logFile = '', string $jsKey = '', string $sourceKey = '') { goto wk1WW; wk1WW: $this->chrome->setTimeout(3000000000); goto utw52; xE1TM: p2B_W: goto OICZI; upKsx: if (!$logFile) { goto p2B_W; } goto MRa3g; oHai3: $this->parseSourcesFromLogFile($logFile); goto IOPa1; DSHEQ: $this->parseSourcesFromCache($cache->get()); goto g8Emy; utw52: $this->chrome->setReferer($this->referer); goto gWv2g; g8Emy: AHthD: goto oHai3; Pe4uE: InstanceCache::deleteItem($sourceKey); goto ZeVsa; ZeVsa: @unlink($logFile); goto xE1TM; gWv2g: $logFile = $this->chrome->exec($urlParser, $logFile, true); goto upKsx; MRa3g: $cache = InstanceCache::getItem($sourceKey); goto tn4dd; IOPa1: InstanceCache::deleteItem($jsKey); goto Pe4uE; tn4dd: if (!$cache->isHit()) { goto AHthD; } goto DSHEQ; OICZI: } }
