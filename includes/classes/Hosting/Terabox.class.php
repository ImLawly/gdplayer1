<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:35              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Hosting; use GDPlayer\{Helper, InstanceCache}; class Terabox extends \GDPlayer\CoreExtractor { private $shortUrl = ''; public function __construct(string $id = '') { goto flL5B; y7XBo: $this->id = trim($this->id, SLASH); goto OWmaw; flL5B: session_write_close(); goto K0F2I; AMhIf: $this->url = "\150\x74\164\x70\x73\x3a\x2f\x2f\x77\167\x77\x2e\x74\x65\162\x61\142\x6f\x78\x2e\x63\157\155\x2f\163\150\141\162\x69\x6e\147\x2f\x65\x6d\x62\145\144\x3f\x73\165\162\x6c\x3d{$this->shortUrl}\46\162\x65\163\x6f\x6c\x75\x74\151\x6f\x6e\x3d\x32\x31\66\x30"; goto a0FhT; a0FhT: $this->referer = $this->url; goto fQtu0; OWmaw: $this->shortUrl = strpos($this->id, "\x73\165\x72\x6c\75") !== false ? getStringBetween($this->id, "\x73\165\162\x6c\75", '') : getStringBetween($this->id, "\x73\x2f\x31", ''); goto AMhIf; K0F2I: parent::__construct($id); goto y7XBo; fQtu0: } private function parseAjaxRequests(array $arr) { goto lz5Gx; bbxX5: if (empty($arr["\141\152\x61\170\122\145\x71\165\145\163\x74\163"])) { goto eyA46; } goto m0XBW; VZ0Il: $sources = $this->filterSources($sources); goto wI0tx; WiBfZ: eyA46: goto pGWSU; pGWSU: return $sources; goto t0F9Q; ezMEN: gD2sA: goto VZ0Il; vgVyL: $urlType = getStringBetween($m3u8[0], "\164\171\x70\x65\75", "\46"); goto rFblt; rFblt: foreach ($types as $type) { $sources[] = ["\x66\151\x6c\145" => strtr($m3u8[0], [$urlType => $type]), "\164\171\160\x65" => $this->hlsType, "\154\x61\142\x65\154" => strtr($type, ["\x4d\x33\125\70\137\x41\125\x54\117\x5f" => '']) . "\160"]; y1dZg: } goto ezMEN; kPjWn: if (empty($m3u8)) { goto r5XLc; } goto SXQ6L; J11iw: $m3u8 = array_values(array_unique(array_filter($urls, fn($url) => stripos($url, "\56\155\x33\165\70") !== false))); goto kPjWn; lz5Gx: $sources = []; goto bbxX5; wI0tx: r5XLc: goto WiBfZ; SXQ6L: $types = ["\115\x33\x55\70\137\101\x55\124\117\x5f\63\x36\x30", "\115\63\125\70\137\101\x55\x54\x4f\x5f\x34\x38\x30", "\115\x33\125\70\x5f\x41\125\x54\117\137\67\62\x30", "\115\63\x55\70\137\101\x55\124\x4f\x5f\x31\60\70\60"]; goto vgVyL; m0XBW: $urls = array_column($arr["\141\x6a\141\170\122\145\x71\x75\x65\x73\x74\163"], "\165\162\x6c"); goto J11iw; t0F9Q: } public function getSources() : array { goto Twggt; MHx2Q: $ua = getBrowserUserAgent(); goto DYaLx; Twggt: $sources = []; goto PX9lX; FXiyp: $arr["\141\x6a\x61\x78\x52\x65\x71\165\145\x73\x74\163"] = $cache->get(); goto mdACW; mnw7p: Kb3nY: goto O6tt5; BupTy: $this->chrome->setTimeout(30000); goto MFWs4; bwp1j: if (!in_array($this->host, directHosts())) { goto aOger; } goto MHx2Q; rTJ4g: $logName = $this->host . "\55" . keyFilter($this->id); goto vw0cW; D17N4: if (empty($arr["\150\164\x6d\154"])) { goto vAqyA; } goto GBp2u; C8Nk1: $this->sources = []; goto VlFXR; wIynC: vAqyA: goto nPNCr; BiVcR: $arr = json_decode(getFileContent($logFile), true); goto D17N4; cQ8sm: aOger: goto BupTy; rcnPE: return $this->sources; goto FpPik; M6TTf: tV3yD: goto BiVcR; z2z1B: if (!$cache->isHit()) { goto vM4Xw; } goto FXiyp; EtPd3: if ($logFile) { goto tV3yD; } goto eNbRW; p9cU6: rsPHa: goto V91SP; VlFXR: $this->sources[] = ["\146\151\x6c\x65" => $sources[0]["\x66\x69\154\x65"], "\164\x79\160\145" => $sources[0]["\164\x79\x70\145"], "\x6c\x61\142\x65\154" => "\x4f\162\151\147\151\x6e\141\154"]; goto mnw7p; lMisT: $this->status = "\x6f\x6b"; goto C8Nk1; xUlCe: $lang = "\145\x6e\73\x71\x3d\x30\56\71"; goto bwp1j; O6tt5: InstanceCache::deleteItem($cacheKey); goto rcnPE; g7pzW: $this->chrome->setCookies(implode("\73\40", $this->cookies)); goto qHidJ; Hrr2T: if (empty($sources[0]["\146\151\x6c\145"])) { goto Kb3nY; } goto BqF_z; nzqpL: $exTitle = explode("\40\x2d\x20", $title); goto uZk95; PX9lX: $ua = USER_AGENT; goto xUlCe; McQzg: $arr = []; goto EtPd3; BqF_z: $sources = array_reverse($sources); goto lMisT; uZk95: $this->title = !empty($exTitle[0]) ? trim($exTitle[0]) : ''; goto mPnmB; GBp2u: $html = $this->domParser::str_get_html($arr["\x68\164\x6d\x6c"]); goto gWAR5; gWAR5: $title = $html->find("\x74\151\x74\154\x65", 0)->plaintext ?? ''; goto nzqpL; eNbRW: $cache = InstanceCache::getItem($cacheKey); goto z2z1B; mPnmB: $this->image = trim($html->find("\155\x65\x74\141\x5b\160\162\x6f\160\145\162\164\171\x3d\x22\157\147\72\x69\155\141\x67\145\42\135", 0)->content ?? ''); goto wIynC; MFWs4: $this->chrome->setUserAgent($ua); goto XHH3F; nPNCr: unlink($logFile); goto p9cU6; XHH3F: $this->chrome->setUserLanguage($lang); goto g7pzW; V91SP: $sources = $this->parseAjaxRequests($arr); goto Hrr2T; gg0Qs: goto rsPHa; goto M6TTf; vw0cW: $logFile = $this->chrome->exec($this->url, $logName, true); goto YUvS1; qHidJ: $this->chrome->setReferer($this->referer); goto rTJ4g; mdACW: vM4Xw: goto gg0Qs; YUvS1: $cacheKey = "\x68\145\x61\x64\x6c\145\x73\x73\55\x61\x6a\141\170\137" . $logName; goto McQzg; DYaLx: $lang = getBrowserLanguage(); goto cQ8sm; FpPik: } private function filterSources(array $sources = []) { goto zyUZf; C0e19: GbkAw: goto uyj2M; yUJha: return $result; goto ZK3gB; fJzVX: foreach ($handles as $i => $handle) { goto y3tQf; vnL3w: createErrorLog([__FILE__, __FUNCTION__, $this->id, $type, $err]); goto P2kFb; y3tQf: $type = curl_getinfo($handles[$i], CURLINFO_CONTENT_TYPE); goto kBwaR; bZSyd: if (empty($err) && strpos($type, "\x78\55\x6d\160\x65\147\x55\122\114") !== false) { goto PSBOp; } goto vnL3w; P2kFb: goto xwgew; goto kQP3m; XmjD6: IM50A: goto nPcf3; jqVcF: curl_close($handle); goto bZSyd; Eglyu: $result[] = $sources[$i]; goto HCen3; kQP3m: PSBOp: goto Eglyu; kBwaR: $err = curl_error($handles[$i]); goto MIjVP; HCen3: xwgew: goto XmjD6; MIjVP: curl_multi_remove_handle($mh, $handle); goto jqVcF; nPcf3: } goto C0e19; zyUZf: $mh = curl_multi_init(); goto I5pyJ; I5pyJ: $handles = $this->getMultiSources($mh, $sources); goto TSyRF; uyj2M: curl_multi_close($mh); goto yUJha; TSyRF: $result = []; goto fJzVX; ZK3gB: } }
