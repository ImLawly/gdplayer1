<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:35              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Hosting; class Googlephotos extends \GDPlayer\CoreExtractor { private $baseUrlDefault = "\150\164\164\x70\163\x3a\57\57\x70\150\157\x74\x6f\x73\56\x67\x6f\157\x67\x6c\x65\56\143\157\155\x2f"; private $shareUrl; protected $referer = "\150\164\164\x70\x73\x3a\57\57\x79\157\x75\164\165\x62\x65\56\147\x6f\157\x67\x6c\145\141\x70\x69\x73\x2e\x63\x6f\x6d\x2f"; public function __construct(string $id = '') { goto V28xT; saAdx: $this->baseURL = "\150\x74\x74\160\163\72\x2f\x2f\160\x68\x6f\164\x6f\x73\56\141\x70\x70\x2e\147\157\x6f\x2e\147\x6c\57"; goto Lss9b; l7e6P: if (strlen($id) > 17) { goto ds7HC; } goto saAdx; NwA3X: $this->shareUrl = $this->baseUrlDefault . "\x73\150\141\x72\145\57"; goto kXbso; V28xT: session_write_close(); goto X0Tph; W7AWQ: $this->baseURL = $this->baseUrlDefault; goto qVFII; vNUm_: rvuwm: goto NwA3X; VYfHU: ds7HC: goto W7AWQ; X0Tph: $id = ltrim($id, "\57"); goto l7e6P; Lss9b: $this->url = $this->baseURL . $id; goto zYDHq; qVFII: $this->url = $this->shareUrl . $id; goto vNUm_; zYDHq: goto rvuwm; goto VYfHU; kXbso: } public function getSources() : array { goto O9jdc; CwwbN: goto f06Cm; goto RTnRR; rh4ue: dZhUC: goto UxAWX; lZ3Yy: $this->sources = []; goto HT42e; UxAWX: $this->curlRequest($this->url, [], function ($response) { $url = $this->shareUrl . trim(getStringBetween($response, "\56\57\163\150\141\x72\145\57", "\x22")); $this->curlRequest($url, [], fn($response) => $this->getHLS($response), fn($status, $err) => createErrorLog(["\x47\157\x6f\x67\154\145\x50\150\157\x74\x6f\x73\56\x63\154\141\163\x73\56\160\x68\160", "\137\x5f\143\157\156\163\x74\x72\165\143\x74", $url, $status, $err])); }, fn($status, $err) => createErrorLog(["\x47\x6f\157\147\154\x65\120\150\157\x74\x6f\163\56\143\154\141\163\163\x2e\x70\x68\160", "\137\x5f\x63\157\156\163\x74\162\165\143\x74", $this->url, $status, $err])); goto WRqf0; nVkKO: foreach ($newResult as $i => $dt) { goto FQbLm; x9_fC: nCGFG: goto kc56J; S4XKp: $this->sources[] = $sources[$i]; goto gfodk; FQbLm: if (!($dt["\146\x69\154\x65"] !== $sources[$i]["\x66\x69\x6c\x65"])) { goto ImVTL; } goto S4XKp; gfodk: ImVTL: goto x9_fC; kc56J: } goto Vrz_e; Vrz_e: puf0n: goto adMZ5; HTvSw: if (!empty($this->sources)) { goto mBn04; } goto YykZ5; RTnRR: mBn04: goto UtyBJ; O9jdc: session_write_close(); goto bx6Dk; HT42e: $newResult = $this->getNewSources($sources); goto nVkKO; rqpjk: goto t80Jj; goto rh4ue; bx6Dk: if (!$this->isDownloadable && validateBoolean(getOption("\x67\x70\150\157\x74\157\163\x5f\x68\x6c\x73"))) { goto dZhUC; } goto LRsn4; adMZ5: f06Cm: goto rqpjk; WRqf0: t80Jj: goto KEm5Q; KEm5Q: return $this->sources; goto U2Mu7; LRsn4: parent::__construct($this->id); goto HTvSw; YykZ5: $this->createRequest($this->id); goto CwwbN; UtyBJ: $sources = $this->sources; goto lZ3Yy; U2Mu7: } private function getHLS(string $response = '') { goto LJyVG; zDQIm: return []; goto xAqiH; LJyVG: session_write_close(); goto WNCXe; WNCXe: if (!(strpos($response, "\144\x61\164\141\55\x75\x72\154\x3d") === false)) { goto hnpXk; } goto zDQIm; kkkFd: $this->curlRequest($url, [], function ($response) { goto a6KjL; Tbn3v: $this->status = "\x6f\153"; goto xHyap; xHyap: $this->sources[] = ["\x66\151\x6c\x65" => $videoUrl, "\164\171\160\145" => $this->hlsType, "\154\141\x62\145\x6c" => "\x4f\162\151\x67\151\x6e\141\x6c"]; goto unQ7u; a6KjL: $videoUrl = "\150\164\164\x70\x73\72\x2f\x2f" . trim(getStringBetween($response, "\150\x74\x74\160\163\72\x2f\57", "\52")); goto Tbn3v; unQ7u: }, fn($status, $err) => createErrorLog(["\x47\x6f\x6f\x67\154\145\x50\x68\x6f\x74\x6f\163\x2e\143\x6c\141\163\x73\56\x70\x68\160", "\147\x65\164\x48\114\123", $url, $status, $err])); goto l2dBa; xAqiH: hnpXk: goto rDsru; rDsru: $url = trim(getStringBetween($response, "\144\141\164\x61\x2d\165\162\x6c\75\42", "\42")) . "\75\x6d\x6d\x2c\x68\x6c\163\x2d\162\x66\55\166\146\x2c\x64\x72\x2e\163\144\x72\54\163\144\x72\x43\157\x64\x65\143\x2e\166\160\71\x2e\150\x32\x36\x34"; goto kkkFd; l2dBa: } private function createRequest() { goto WaFDR; WaFDR: $this->modifyCurlConfig($this->url); goto Ak2Xd; psQCM: goto QgRyn; goto E2Xhy; rLrgU: $err = curl_error($this->ch); goto wdjh8; e5rcS: return $this->getSources(); goto apJtd; ZfXhB: createErrorLog([__FILE__, __FUNCTION__, $this->id, $status, $err]); goto v9s_i; MIyje: $this->url = $this->shareUrl . trim(getStringBetween($response, "\56\57\x73\150\141\x72\x65\x2f", "\42")); goto Vp9F7; apJtd: QgRyn: goto mrBnu; aZF8o: if (!empty($video) && validateUrl($video)) { goto T318n; } goto vWtkE; tQlch: if ($status !== 404 && $this->retryProxy < 3 && in_array($this->host, directHosts(), true)) { goto h2NJU; } goto ZfXhB; v9s_i: goto QgRyn; goto jxER0; E2Xhy: h2NJU: goto JdhBo; wdjh8: curl_close($this->ch); goto GDGjm; Vdpwa: dXdEZ: goto psQCM; flNVI: T318n: goto MIyje; LvXUb: $this->retryProxy += 1; goto e5rcS; Kf6kw: $status = curl_getinfo($this->ch, CURLINFO_HTTP_CODE); goto rLrgU; Vp9F7: $this->createRequest(); goto AR3K1; vWtkE: $this->parseSources($response); goto gAK29; Ak2Xd: $response = curl_exec($this->ch); goto Kf6kw; JdhBo: $this->usingProxy = true; goto LvXUb; gAK29: goto dXdEZ; goto flNVI; jxER0: Hkg88: goto DrYt3; AR3K1: return $this->getSources(); goto Vdpwa; GDGjm: if (empty($err)) { goto Hkg88; } goto tQlch; DrYt3: $video = trim(getStringBetween($response, "\157\147\72\166\151\144\145\x6f\x22\40\143\157\x6e\164\x65\156\164\75\x22", "\x22")); goto aZF8o; mrBnu: } private function parseSources(string $response = '') { goto XevJx; V2qtI: oYGpj: goto cV18U; XevJx: $isvideo = trim(getStringBetween($response, "\x64\141\x74\141\55\151\x73\166\x69\144\x65\x6f\x3d\x22", "\42")); goto R3IKK; S46dm: createErrorLog([__FILE__, __FUNCTION__, $this->id, "\155\145\x74\x61\40\x76\x69\144\145\157\40\156\x6f\164\x20\146\x6f\165\156\x64"]); goto H4OXE; aGUJ9: foreach ($newResult as $i => $dt) { goto XombI; Np0qW: WE9ti: goto F5SS0; XombI: if (!($dt["\x66\151\x6c\145"] !== $sources[$i]["\146\x69\154\x65"])) { goto y2dye; } goto Csi0x; UOAa0: y2dye: goto Np0qW; Csi0x: $this->sources[] = $sources[$i]; goto UOAa0; F5SS0: } goto lKfFT; uvMVC: $this->image = $video . "\75\x73\x31\x30\x32\64\x2d\x6b\x2d\162\167\x2d\156\x6f"; goto PAhsu; VOpiV: $sources[] = ["\146\151\154\x65" => $video . "\x3d\155\62\62", "\164\171\160\x65" => $this->videoType, "\154\141\142\x65\x6c" => "\67\x32\60\x70"]; goto HCXm5; H4OXE: goto oYGpj; goto g8u3_; HCXm5: $sources[] = ["\146\151\x6c\x65" => $video . "\x3d\155\63\x37", "\164\x79\160\x65" => $this->videoType, "\x6c\x61\142\145\154" => "\x31\x30\70\60\160"]; goto oa7gF; f4wql: if (validateBoolean($isvideo) && !empty($video)) { goto attHr; } goto S46dm; oa7gF: $newResult = $this->getNewSources($sources); goto aGUJ9; EmxSf: $this->status = "\157\153"; goto uvMVC; lKfFT: PrK4c: goto V2qtI; PAhsu: $sources = []; goto KJwx0; g8u3_: attHr: goto EmxSf; KJwx0: $sources[] = ["\146\x69\x6c\145" => $video . "\75\155\x31\x38", "\164\x79\160\x65" => $this->videoType, "\x6c\141\x62\x65\154" => "\63\x36\x30\160"]; goto VOpiV; R3IKK: $video = trim(getStringBetween($response, "\144\141\164\x61\x2d\x75\x72\x6c\75\x22", "\42")); goto f4wql; cV18U: } }
