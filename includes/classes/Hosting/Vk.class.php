<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:35              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Hosting; class Vk extends \GDPlayer\CoreExtractor { protected $baseURL = "\150\x74\x74\x70\163\72\57\57\166\153\56\143\157\155\57"; public function __construct(string $id = '') { goto CvSw6; xvfpf: parent::__construct($id); goto NqYr0; CvSw6: session_write_close(); goto K0Zrj; NqYr0: if (!(empty($this->cfSources) && empty($this->mp4Sources))) { goto rxkQ6; } goto Iu8yU; K0Zrj: $id = strtr(parse_url($id, PHP_URL_PATH), ["\x76\x69\x64\x65\x6f" => '']); goto xvfpf; Iu8yU: $this->getOriginalSources(); goto VssHR; VssHR: rxkQ6: goto W10IO; W10IO: } public function getOriginalSources() { goto W5vVJ; okvYl: goto I3hze; goto UQ152; xKnhP: $err = curl_error($this->ch); goto v7IYN; qD7VO: goto I3hze; goto fc7IZ; WU3CX: I3hze: goto aDIfW; Hlzs3: return $this->getOriginalSources(); goto WU3CX; pGFjU: $this->id = strtr($this->id, ["\166\x69\x64\x65\x6f" => '']); goto fTOU0; aDIfW: return $this->sources; goto SrK0x; v7IYN: curl_close($this->ch); goto vQ0P2; FQONg: curl_setopt($this->ch, CURLOPT_POSTFIELDS, http_build_query(["\141\154" => 1, "\x61\x75\x74\157\x70\154\141\x79" => 1, "\143\154\141\x69\155" => '', "\x66\x6f\162\143\x65\x5f\156\157\137\162\145\x70\145\x61\x74" => "\164\162\165\x65", "\x69\x73\x5f\x76\x69\144\x65\157\x5f\160\x61\147\145" => "\164\x72\165\x65", "\x6c\151\163\x74" => '', "\155\x6f\x64\165\x6c\145" => "\x64\151\x72\x65\143\x74", "\x73\150\x6f\x77\137\156\145\x78\164" => 1, "\x76\x69\144\x65\x6f" => $this->id])); goto OQ2F2; KXg1a: return []; goto s21jd; hO9u5: $data = @json_decode($response, true); goto D_tSR; Vz0Ii: $this->retryProxy += 1; goto Hlzs3; fTOU0: $this->modifyCurlConfig($this->url, ["\x58\x2d\x52\x65\x71\x75\145\x73\164\x65\144\x2d\127\151\164\x68\x3a\x20\x58\x4d\114\x48\x74\164\x70\122\145\161\x75\x65\x73\x74", "\x52\145\x66\x65\162\145\162\x3a\40" . $this->baseURL], "\x50\x4f\123\x54"); goto FQONg; fc7IZ: BS5jw: goto yPqim; IvNVh: $response = mb_convert_encoding($response, "\125\x54\106\55\x38", "\x57\151\156\144\x6f\x77\163\55\x31\x32\x35\61"); goto hO9u5; s21jd: Cgqsa: goto HY1zC; D_tSR: $this->title = $data["\x70\x61\x79\x6c\157\x61\x64"][1][0] ?? ''; goto i9b5F; HY1zC: foreach ($data["\160\x61\x79\x6c\x6f\x61\144"][1] as $dt) { goto a91tB; caDtV: qhX2a: goto R1SAn; JdnJA: if (is_array($dt)) { goto uFm3F; } goto ec3_g; m7Xh8: goto TpYmV; goto RlQsq; RlQsq: uFm3F: goto cK6Wr; pzY5W: goto zPXRW; goto m7Xh8; iNPCt: $this->parseHTMLSources($dt); goto pzY5W; u7s5L: CkzbP: goto iNPCt; iiKJi: TpYmV: goto caDtV; a91tB: if (is_string($dt) && strpos($dt, "\x3c\166\x69\x64\145\157\40\151\x64\x3d\42\166\x69\144\145\157\137\160\154\x61\171\145\162\42") !== false) { goto CkzbP; } goto JdnJA; cK6Wr: $this->parseSources($dt); goto Id6zK; Id6zK: goto zPXRW; goto iiKJi; ec3_g: goto TpYmV; goto u7s5L; R1SAn: } goto xD0ui; ckmm3: createErrorLog([__FILE__, __FUNCTION__, $this->id, $err]); goto okvYl; ptCE2: if ($status !== 404 && $this->retryProxy < 3 && in_array($this->host, directHosts())) { goto BS5jw; } goto ckmm3; xD0ui: zPXRW: goto qD7VO; OQ2F2: $response = curl_exec($this->ch); goto M2BIg; yPqim: $this->usingProxy = true; goto Vz0Ii; M2BIg: $status = curl_getinfo($this->ch, CURLINFO_HTTP_CODE); goto xKnhP; WwBrh: createErrorLog([__FILE__, __FUNCTION__, $this->id, "\160\141\171\154\x6f\x61\x64\40\x69\x73\x20\x65\x6d\160\164\171\40\x6f\x72\40\156\157\164\x20\146\157\165\x6e\144"]); goto KXg1a; i9b5F: if (!empty($data["\160\x61\x79\154\x6f\x61\x64"][1])) { goto Cgqsa; } goto WwBrh; vQ0P2: if (empty($err)) { goto iFxuA; } goto ptCE2; W5vVJ: $this->url = $this->baseURL . "\141\x6c\137\x76\151\144\x65\x6f\56\x70\x68\x70\x3f\x61\x63\x74\75\x73\150\157\167"; goto pGFjU; UQ152: iFxuA: goto IvNVh; SrK0x: } private function parseHTMLSources(string $data = '') { goto t3_hv; kHI42: YaSsN: goto kHpoD; e5BPM: $sources = $dom->find("\x73\x6f\x75\x72\143\145"); goto gKm9o; pUEiE: $labels = ["\62\x34\60\160", "\x33\x36\60\160", "\64\70\x30\x70", "\67\62\60\160", "\61\x30\x38\60\x70"]; goto e5BPM; nca_C: $this->image = getStringBetween($data, "\x70\x6f\x73\164\145\x72\x3d\x22", "\42"); goto pUEiE; kHpoD: zPKG1: goto EzbmF; wEgeL: $dom = $this->domParser::str_get_html(htmlspecialchars_decode($data)); goto WN7Ib; t3_hv: session_write_close(); goto wEgeL; gKm9o: foreach ($sources as $source) { goto usndh; J9wxC: $type = (int) $qry["\x74\171\x70\x65"]; goto hqrPC; rjUMR: GTMRV: goto fzdj1; fzdj1: uIq7u: goto W9lP1; usndh: $urlQry = parse_url($source->src, PHP_URL_QUERY); goto yomFb; hqrPC: if (!($type < 5)) { goto GTMRV; } goto W_iwX; yomFb: parse_str($urlQry, $qry); goto J9wxC; W_iwX: $this->sources[] = ["\x66\x69\x6c\x65" => $source->src, "\x74\171\160\145" => $this->videoType, "\x6c\x61\142\x65\154" => $labels[$type]]; goto rjUMR; W9lP1: } goto kHI42; bhBzu: $this->status = "\x6f\153"; goto nca_C; WN7Ib: if (!$dom) { goto zPKG1; } goto bhBzu; EzbmF: } private function parseSources(array $data = []) { goto p_aQ3; nhkoI: $this->image = $data["\x70\154\x61\171\145\x72"]["\160\x61\x72\141\155\x73"][0]["\x6a\x70\147"] ?? ''; goto FIL9P; g1egf: cdrM0: goto X2A9J; FIL9P: $sources = array_filter($data["\160\x6c\141\171\145\162"]["\x70\141\x72\141\155\x73"][0], fn($v, $k) => strpos($k, "\x75\162\154") !== false && validateUrl($v), ARRAY_FILTER_USE_BOTH); goto a932n; K9S08: $this->title = $data["\160\154\x61\171\x65\x72"]["\160\x61\x72\141\155\x73"][0]["\x6d\x64\137\x74\151\x74\x6c\145"] ?? ''; goto nhkoI; p_aQ3: if (empty($data["\x70\x6c\x61\171\145\162"]["\x70\x61\162\141\x6d\163"][0])) { goto f71uv; } goto s8WF9; icrVJ: krsort($data["\x70\154\141\x79\x65\162"]["\160\141\162\141\155\x73"][0]); goto FMOyF; X2A9J: f71uv: goto c0tbW; nx3UD: R0TZr: goto kt2jl; kt2jl: $isHls = ["\150\x6c\163", "\150\154\x73\137\x6f\x6e\x64\145\155\141\156\x64"]; goto ozDh7; a932n: foreach ($sources as $k => $v) { $this->mp4Sources[] = ["\x66\151\x6c\x65" => $v, "\164\171\160\x65" => $this->videoType, "\x6c\141\142\145\x6c" => strtr($k, ["\x75\x72\154" => '']) . "\x70"]; Ny_qb: } goto nx3UD; s8WF9: $label = "\117\x72\151\147\151\156\141\154"; goto mGmpM; ozDh7: $isMPD = ["\x64\141\163\150\x5f\x73\145\x70", "\144\x61\x73\150\137\x75\x6e\151"]; goto icrVJ; FMOyF: foreach ($data["\160\x6c\141\x79\x65\162"]["\x70\x61\162\141\155\163"][0] as $k => $v) { goto Gb4n9; Gb4n9: if (in_array($k, $isHls)) { goto pXcT5; } goto RMGcG; k23Ka: goto cdrM0; goto kfgsZ; bDad4: Az4oN: goto EN0OB; t60Oj: $this->sources[] = ["\x66\x69\x6c\145" => $v, "\x74\171\160\x65" => $this->hlsType, "\154\x61\142\145\x6c" => $label]; goto VkDeE; VkDeE: goto cdrM0; goto qLPJN; qLPJN: goto UFGJp; goto bDad4; kfgsZ: UFGJp: goto bg8su; RMGcG: if (in_array($k, $isMPD)) { goto Az4oN; } goto YCrGA; Z6Co1: pXcT5: goto t60Oj; EN0OB: $this->sources[] = ["\146\x69\154\x65" => $v, "\x74\171\x70\145" => $this->mpdType, "\154\141\x62\x65\x6c" => $label]; goto k23Ka; YCrGA: goto UFGJp; goto Z6Co1; bg8su: cnNAY: goto DHJl9; DHJl9: } goto g1egf; mGmpM: $this->status = "\157\153"; goto K9S08; c0tbW: } }
