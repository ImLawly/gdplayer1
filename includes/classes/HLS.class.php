<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:34              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer; class HLS extends \GDPlayer\StreamHelper { private $extInf = "\x23\105\130\124\55\x58\x2d\x53\124\122\x45\x41\x4d\55\x49\x4e\x46"; private $hlsSeparator = "\x2f\x68\x6c\163\57"; protected $isMP4 = false; protected $isHLS = true; private function parsePlaylist(string $m3u8Content = '', string $separator = "\x2f\150\154\163\57") { goto eB3fW; XYvfs: nTwaB: goto bnoPD; FhCqW: $lines = array_values($lines); goto bNL6P; VxXtL: $result = ''; goto nzrDm; bnoPD: return $result; goto yhH0b; eB3fW: session_write_close(); goto VxXtL; Adl0v: $lines = array_filter(explode("\12", strtr($m3u8Content, ["\xd" => '']))); goto FhCqW; bNL6P: foreach ($lines as $val) { goto MYoVe; e1JYi: knCQd: goto od_vw; OSflU: if (strpos($val, "\125\122\111\x3d") !== false) { goto uB1oe; } goto b4S5I; j_i7z: XS9g9: goto yildO; b4S5I: if (substr($val, 0, 1) !== "\x23") { goto knCQd; } goto vcKMg; Qs2w4: oi13m: goto GXw87; bwLJ0: goto mouLo; goto e1JYi; yildO: Tnxrz: goto tixzO; V6Zrn: $newLine = str_replace($url, $replace, $val); goto gr3La; QYC62: mouLo: goto gRBhg; xbg6d: $newLine = str_replace($url, $replace, $val); goto bwLJ0; sTk9V: $newLine = $val; goto BP6J8; p_9Fj: $url = getStringBetween($val, "\x55\122\x49\75\42", "\42"); goto p50RQ; od_vw: $newLine = $this->bypassURL($val, $separator); goto QYC62; vcKMg: goto mouLo; goto Qs2w4; BP6J8: if (strpos($val, $prefetch) === 0) { goto oi13m; } goto OSflU; eYeUj: $result .= $newLine . "\xa"; goto j_i7z; gr3La: goto mouLo; goto ZYCNJ; gRBhg: if (!(!empty($newLine) && substr($newLine, 0, 2) !== "\x23\x23")) { goto XS9g9; } goto eYeUj; ZYCNJ: uB1oe: goto p_9Fj; MYoVe: $val = trim($val); goto sTk9V; p50RQ: $replace = $this->bypassURL($url, $separator); goto xbg6d; B12u1: $replace = $this->bypassURL($url, $separator); goto V6Zrn; GXw87: $url = getStringBetween($val, $prefetch, ''); goto B12u1; tixzO: } goto XYvfs; nzrDm: $prefetch = "\x23\x45\x58\x54\55\x58\x2d\120\x52\x45\x46\x45\124\103\x48\x3a"; goto Adl0v; yhH0b: } private function parseHLS(string $m3u8Content = '') { goto qQMof; kgIzh: $separator = strpos($m3u8Content, $this->extInf) !== false ? $this->hlsSeparator : "\x2f\163\x74\x72\145\141\x6d\55\x74\163\57"; goto eszD9; eszD9: return $this->parsePlaylist($m3u8Content, $separator); goto y9zjp; qQMof: session_write_close(); goto kgIzh; y9zjp: } private function modifyMasterContent(string $content = '') { goto m8wZV; FiNvY: return $content; goto mB15x; GRzC4: if (!(strpos($content, $this->extInf) === false)) { goto iHdTa; } goto FiNvY; l4PHC: Cb0od: goto XQRou; m8wZV: session_write_close(); goto GRzC4; XQRou: return $result; goto yUdD3; O_Fb4: $lines = explode("\xa", $content); goto oroFs; mB15x: iHdTa: goto O_Fb4; HpLqO: foreach ($lines as $line) { goto V7v1O; RzHLZ: TKQ3q: goto VEqlF; LO15l: JT3dI: goto uXSss; OGbdv: F6T5v: goto BnizZ; VEqlF: $result .= $line . "\12"; goto LO15l; BnizZ: $url = getStringBetween($line, "\125\122\111\75\42", "\x22"); goto pwiX2; o0ejU: if (strpos($line, "\125\122\111\x3d") !== false) { goto F6T5v; } goto T19mT; OYcIL: $line = str_replace($url, $newUrl, $line); goto RzHLZ; IK1a0: SBD9T: goto cKDCK; Vu5OD: goto TKQ3q; goto OGbdv; V7v1O: if (validateUrl($line)) { goto SBD9T; } goto o0ejU; cKDCK: $line = $this->addTokenToUrl($line); goto Vu5OD; pwiX2: $newUrl = $this->addTokenToUrl($url); goto OYcIL; T19mT: goto TKQ3q; goto IK1a0; uXSss: } goto l4PHC; oroFs: $result = ''; goto HpLqO; yUdD3: } public function playlistStream() { goto TqSdg; YcCMB: Zqi0Q: goto zij7S; Rvfya: if (is_string($masterContent)) { goto zp4Ne; } goto f1mbi; kc0gJ: if (isAppleProduct() && strpos($cache, "\155\x33\x75\x38\137\x67\x78\x5f") !== false) { goto FECoP; } goto x6wg_; BIgIg: zp4Ne: goto EVZXa; zij7S: $content = $this->modifyMasterContent($content); goto BWA_p; dJFQZ: if (!(!$this->isLive && !empty($content))) { goto Zqi0Q; } goto yrAmv; wQbcf: $this->responseHeaders[] = "\105\x74\x61\x67\72\40" . md5_file($this->cacheFile); goto kc0gJ; gMfm1: $content = str_replace(["\155\63\165\70\x5f\x67\x78\x5f", "\x2e\x74\x78\164"], ['', "\x2e\x6d\x33\165\70"], $cache); goto A9r2z; lYJ2O: $this->isLive = strpos($content, "\x23\105\130\124\55\130\x2d\105\116\x44\114\111\x53\x54") === false && strpos($content, "\x23\105\130\x54\x2d\x58\55\x53\x54\x52\105\x41\115\55\x49\116\106") === false; goto WcdGx; IWLSN: Tuz8C: goto Lv7JH; gbUO0: goto uHLEY; goto IWLSN; EVZXa: $content = $this->parseHLS($masterContent); goto ezsGl; Lv7JH: $this->responseHeaders[] = "\130\x2d\103\141\x63\x68\x65\x3a\x20\110\111\x54"; goto wQbcf; IiwTm: $masterContent = $this->getMasterContent(); goto Rvfya; qIOai: exit; goto YG7wt; Jj78K: $cache = getFileContent($this->cacheFile, "\162"); goto zaIBE; WcdGx: if (!(strpos($content, $this->copyrightText) === false)) { goto a3gab; } goto CWLOF; bv3zn: FECoP: goto gMfm1; BWA_p: $this->playlistParser($content); goto e6UTs; TqSdg: session_write_close(); goto Jj78K; yrAmv: createFile($this->cacheFile, $content, "\167", true); goto YcCMB; LpXh5: a3gab: goto dJFQZ; f1mbi: Views::loadPage404(); goto qIOai; ezsGl: zQlO3: goto gbUO0; CWLOF: $content = strtr($content, ["\43\x45\130\124\115\63\125\12" => "\x23\x45\x58\124\115\63\x55\xa\x23\x23\x20{$this->copyrightText}\xa"]); goto LpXh5; YG7wt: goto zQlO3; goto BIgIg; OBtiq: $this->contentType = "\141\x70\x70\154\151\x63\141\x74\x69\x6f\156\x2f\166\x6e\x64\x2e\141\160\160\154\x65\x2e\x6d\x70\145\x67\x75\x72\154"; goto lYJ2O; zaIBE: if ($cache) { goto Tuz8C; } goto IiwTm; x6wg_: $content = $cache; goto SLZ60; A9r2z: Ucdkn: goto LpCIJ; LpCIJ: uHLEY: goto OBtiq; SLZ60: goto Ucdkn; goto bv3zn; e6UTs: } }
