<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:34              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer; use GDPlayer\Helper; class GoogleDriveRestAPI extends \GDPlayer\GoogleDriveHelper { protected $inputFileInfo; public function setEmail(string $email = '') { goto WOumv; WOumv: session_write_close(); goto eCYSX; rd5ja: GQuuj: goto TIBKM; Qf1Iq: if (!$this->userDetail) { goto GQuuj; } goto sVbfF; eCYSX: $this->email = sanitizeEmail($email); goto swfZz; hHrSC: $this->accessToken = $this->getAccessToken(); goto rd5ja; swfZz: $this->userDetail = $this->getUserInfo(); goto Qf1Iq; sVbfF: $this->apiKey = $this->userDetail["\141\160\x69\137\153\145\x79"]; goto hHrSC; TIBKM: } public function setFileID(string $fileID = '') { goto FnXuY; hGCc2: $this->fileID = getDriveId($fileID); goto mLLD0; mLLD0: $this->inputFileInfo = $this->fileID; goto jXxLg; FnXuY: session_write_close(); goto hGCc2; jXxLg: } protected function createAuthHeader(bool $jsonType = false) { goto wE_gv; V9NmC: return $result; goto Nt7Vd; ZQYhp: $result = []; goto CXZ3R; e6_Mo: if (!$this->accessToken) { goto srp15; } goto PRlqL; DIX1o: $this->email = !empty($this->email) ? $this->email : getDriveEmail(); goto NB8DL; wE_gv: session_write_close(); goto ZQYhp; CXZ3R: if (!$jsonType) { goto Kin_b; } goto wtrI3; wtrI3: $result[] = "\x41\x63\143\x65\160\x74\72\x20\x61\x70\160\154\151\x63\141\x74\151\157\x6e\x2f\152\x73\157\156"; goto FC3Fm; NB8DL: $this->accessToken = $this->getAccessToken(); goto e6_Mo; PRlqL: $result[] = sprintf("\x41\x75\164\150\157\162\x69\172\x61\164\x69\x6f\x6e\72\x20\45\163\x20\x25\163", $this->accessToken["\x74\x6f\153\145\x6e\137\x74\171\x70\x65"], $this->accessToken["\141\x63\x63\145\x73\163\x5f\x74\x6f\153\x65\x6e"]); goto Lkwdf; FC3Fm: $result[] = "\x43\x6f\x6e\164\145\x6e\x74\x2d\124\171\160\145\72\x20\141\160\160\154\x69\x63\x61\x74\151\157\156\x2f\x6a\x73\157\156"; goto LoSLN; Lkwdf: srp15: goto V9NmC; LoSLN: Kin_b: goto DIX1o; Nt7Vd: } public function getAccessToken() { goto kn1uh; NgHuN: goto TNuOA; goto T2b9_; ugiQF: $data = json_decode($response, true); goto a2GqE; Dnz9P: return $result; goto oQXxR; WhJfu: $cache->set($data)->expiresAfter($this->cacheTimeout)->addTag("\x67\x64\x72\151\x76\145\x5f\141\143\x63\x65\x73\163\55\x74\157\x6b\x65\156"); goto REvyL; kn1uh: session_write_close(); goto J0mgt; im_Mm: $result = $data; goto WhJfu; BUP3l: nBF9j: goto ugiQF; tmGy8: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto imKP_; J0mgt: $result = false; goto TyJDu; TyJDu: $cache = InstanceCache::getItem(keyFilter($this->cachePrefixToken . $this->email)); goto yjDv7; WjQwW: createErrorLog([__FILE__, __FUNCTION__, $this->email, $err, $response]); goto YUlz3; T2b9_: gOnDI: goto tmGy8; N7eEK: $err = curl_error($ch); goto NeSUx; jvC7n: $result = $cache->get(); goto NgHuN; NeSUx: curl_close($ch); goto MjWBr; a2GqE: if (!(json_last_error() === JSON_ERROR_NONE && !empty($data["\x61\x63\143\145\x73\163\x5f\164\x6f\x6b\x65\x6e"]))) { goto ga8Rt; } goto im_Mm; REvyL: InstanceCache::save($cache); goto bgR9e; yjDv7: if ($cache->isHit()) { goto YJWrs; } goto O1dxr; uiJlB: $response = curl_exec($ch); goto N7eEK; bgR9e: ga8Rt: goto KY7l9; O1dxr: if ($this->userDetail) { goto gOnDI; } goto TQdA0; imKP_: curl_setopt_array($ch, [CURLOPT_URL => $this->baseURL . $this->tokenPath, CURLOPT_CUSTOMREQUEST => "\120\117\123\x54", CURLOPT_POSTFIELDS => http_build_query(["\x63\154\x69\x65\x6e\x74\137\151\x64" => $this->userDetail["\143\154\x69\145\x6e\x74\x5f\x69\144"], "\x63\154\x69\x65\156\164\x5f\x73\145\143\x72\x65\x74" => $this->userDetail["\143\154\151\145\156\164\x5f\x73\145\x63\162\145\164"], "\162\x65\x66\162\x65\163\150\137\x74\x6f\x6b\x65\x6e" => $this->userDetail["\162\x65\x66\x72\x65\x73\x68\137\x74\157\153\x65\x6e"], "\x67\162\x61\156\x74\137\164\171\x70\145" => "\162\145\x66\x72\x65\163\150\x5f\x74\157\153\x65\156"])]); goto uiJlB; MjWBr: if (empty($err)) { goto nBF9j; } goto WjQwW; shiBv: YJWrs: goto jvC7n; TQdA0: goto TNuOA; goto shiBv; KY7l9: a2kaa: goto AEyW6; AEyW6: TNuOA: goto Dnz9P; YUlz3: goto a2kaa; goto BUP3l; oQXxR: } protected function copyAPI(string $parentID = "\x72\157\157\x74", array $fileInfo = []) { goto RcnY2; mrcXv: curl_close($ch); goto cc8s3; lh3xF: $header = $this->createAuthHeader(true); goto HoNvc; VEo9V: $result = json_decode($response, true); goto VbZue; HoNvc: $ch = curl_init(); goto qHRWO; i0jN2: vesVq: goto NxL9y; OoDyh: $response = curl_exec($ch); goto HlcQM; Cjdh6: $oldFileID = $this->fileID; goto VMJ8O; njPGA: if ($this->encryptTitle) { goto vesVq; } goto Ym7wr; ahHWK: $this->insertPermissions(); goto InmrG; RcnY2: session_write_close(); goto xbjCV; EsHYZ: return $this->getFileInfo(false); goto mPbph; QY6yC: createErrorLog([__FILE__, __FUNCTION__, $url, $err]); goto rpMUp; X1fMq: $data["\157\162\151\147\151\156\x61\x6c\106\151\154\145\x6e\141\155\x65"] = $originalTitle; goto AKEDn; AKEDn: goto ACQ2u; goto i0jN2; Z5eWW: $ext = $fileInfo["\146\151\x6c\145\x45\170\164\x65\x6e\x73\x69\157\156"] ?? ''; goto jTT4Y; UXtHk: iScdp: goto Cjdh6; C6bQZ: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\120\117\x53\x54", CURLOPT_POSTFIELDS => $postData, CURLOPT_HTTPHEADER => $header]); goto OoDyh; hKRcj: ACQ2u: goto T5dHa; Q1Sak: $data["\144\145\x73\143\x72\151\160\x74\x69\157\x6e"] = $this->copyDesc; goto X1fMq; i8Z0H: ki4Jg: goto VEo9V; qHRWO: $ch = Helper::getCurlDefaultConfig($ch, 60); goto C6bQZ; bgDej: $postData = json_encode($data, JSON_UNESCAPED_SLASHES); goto lh3xF; VMJ8O: $this->setFileID($result["\151\144"]); goto ahHWK; rpMUp: return false; goto i8Z0H; jTT4Y: $originalTitle = !empty($fileInfo["\164\151\x74\x6c\x65"]) ? $fileInfo["\x74\x69\164\154\x65"] : $fileInfo["\157\162\x69\147\151\156\141\x6c\106\151\154\x65\156\x61\155\x65"]; goto njPGA; Bjwn2: createErrorLog([__FILE__, __FUNCTION__, $url, "\112\x53\117\x4e\40\x64\x65\x63\x6f\144\x65\x20\x65\162\162\x6f\162"]); goto qdc92; WRK3O: $data["\x6f\162\151\147\x69\156\141\154\106\151\x6c\145\x6e\141\155\x65"] = $data["\164\151\x74\154\145"]; goto hKRcj; cc8s3: if (!$err) { goto ki4Jg; } goto QY6yC; NxL9y: $data["\x74\151\164\x6c\145"] = hash_hmac("\163\150\141\x32\x35\x36", bin2hex($originalTitle), "\x74\x69\x74\x6c\145") . "\56" . $ext; goto yBtxN; Ym7wr: $data["\164\151\x74\x6c\145"] = $originalTitle; goto Q1Sak; qdc92: return false; goto UXtHk; xbjCV: $data = ["\x63\x6f\x70\x79\141\142\154\145" => true, "\x70\x61\162\x65\156\164\x73" => [["\151\x64" => $parentID]]]; goto Z5eWW; yBtxN: $data["\144\x65\163\143\x72\151\x70\x74\x69\157\x6e"] = $originalTitle; goto WRK3O; VbZue: if (!(json_last_error() !== JSON_ERROR_NONE)) { goto iScdp; } goto Bjwn2; T5dHa: $url = sprintf("\x25\x73\45\163\x2f\146\x69\154\x65\163\57\45\163\57\143\157\x70\x79\x3f\163\165\x70\160\x6f\x72\164\163\101\154\154\x44\x72\151\166\x65\x73\75\164\162\165\x65\x26\x6b\145\x79\75\45\163", $this->baseURL, $this->v2Path, $this->fileID, $this->apiKey); goto bgDej; InmrG: $this->saveFileMirrorDB($oldFileID, $result["\151\x64"]); goto EsHYZ; HlcQM: $err = curl_error($ch); goto mrcXv; mPbph: } public function getFileInfo(bool $searchInCache = true) { goto cfZef; fBGv7: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\x47\105\124", CURLOPT_HTTPHEADER => $this->createAuthHeader()]); goto xhhHg; xFnPn: $this->vHash->setCriteria("\x68\157\163\164\x5f\151\144", $this->fileID, "\x3d", "\x41\116\104"); goto Xbxz7; zYFd1: return false; goto p4dh2; Zbexl: if (json_last_error() === JSON_ERROR_NONE) { goto RMUSc; } goto grMzi; grMzi: $this->vHash->setCriteria("\150\157\x73\x74", "\x67\144\x72\x69\x76\x65"); goto xFnPn; xhhHg: $response = curl_exec($ch); goto Qf8sm; rDPGW: sILN7: goto X2FKF; tbUCn: $data = $this->vHash->getOne(["\144\141\x74\x61"]); goto LxrCk; wc9Py: Hyoaw: goto GAr76; X2FKF: createErrorLog([__FILE__, __FUNCTION__, $url, $err]); goto U6TwT; Qf8sm: $err = curl_error($ch); goto mZlUV; jMl__: $this->saveFileInfo($result); goto OX1cL; pFnTu: return $data; goto QWdrc; GAr76: f1ikN: goto cQtOy; TGq7b: $this->vHash->setCriteria("\x68\157\x73\x74", "\147\144\162\151\x76\x65"); goto LwIq1; wDyZv: goto iHrPE; goto VsuhO; AwSTa: $data = json_decode($response, true); goto Np8As; cQtOy: $result = false; goto borOG; AA4IL: if (!empty($err)) { goto sILN7; } goto AwSTa; LX0LE: goto pWrh8; goto rDPGW; iX3iU: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto fBGv7; mZlUV: curl_close($ch); goto AA4IL; LxrCk: if (empty($data["\x64\x61\164\x61"])) { goto Hyoaw; } goto AYTr7; EZyqf: if (!$searchInCache) { goto f1ikN; } goto TGq7b; fAaln: $result = $data; goto jMl__; borOG: $url = sprintf("\45\x73\45\163\57\x66\x69\x6c\145\163\57\45\163\77\x61\143\153\156\x6f\x77\x6c\x65\x64\147\x65\101\x62\165\163\x65\75\x74\x72\165\145\x26\163\165\x70\160\x6f\162\x74\x73\x41\154\x6c\x44\x72\151\x76\x65\x73\75\x74\x72\x75\x65\x26\153\x65\x79\x3d\45\x73", $this->baseURL, $this->v2Path, $this->fileID, $this->apiKey); goto iX3iU; p4dh2: N7CAZ: goto EZyqf; Np8As: if (!(json_last_error() === JSON_ERROR_NONE && !empty($data["\151\x64"]))) { goto mY7Wr; } goto fAaln; U6TwT: pWrh8: goto KKa5j; VsuhO: RMUSc: goto pFnTu; KKa5j: return $result; goto JnjBB; OX1cL: mY7Wr: goto LX0LE; LwIq1: $this->vHash->setCriteria("\x68\157\x73\x74\137\x69\x64", $this->fileID, "\x3d", "\101\116\x44"); goto tbUCn; Xbxz7: $this->vHash->delete(); goto wDyZv; SQSBr: if (!empty($this->fileID)) { goto N7CAZ; } goto zYFd1; AYTr7: $data = json_decode($data["\144\141\164\x61"], true); goto Zbexl; cfZef: session_write_close(); goto SQSBr; QWdrc: iHrPE: goto wc9Py; JnjBB: } public function getFiles(string $parentID = '', int $maxResult = 10, string $orderBy = "\x6d\157\x64\x69\x66\151\x65\x64\104\141\164\145\x20\144\145\x73\x63") { goto lZosg; lZosg: session_write_close(); goto GWjsC; nwAN6: $titleSHA256 = hash_hmac("\163\x68\x61\x32\x35\66", bin2hex($this->searchTitle), "\x74\x69\164\x6c\145"); goto HsExa; LFcuH: lXaJp: goto jt68R; DDgkV: $titleMD5 = hash_hmac("\155\144\65", $this->searchTitle, ''); goto nwAN6; jt68R: return $result; goto O27_4; KfVFD: if (empty($parentID)) { goto vLiF8; } goto tzR8H; tzR8H: $query["\161"] .= "\40\x61\156\x64\40\x27{$parentID}\47\40\x69\x6e\40\x70\x61\x72\x65\x6e\164\x73"; goto QATDL; tMWNi: goto lXaJp; goto pzKdj; Q1clC: $header = $this->createAuthHeader(); goto E1shB; Mok8W: $query["\x71"] .= "\x20\x61\x6e\144\40\x6d\151\x6d\x65\x54\171\160\145\40\143\x6f\156\x74\141\x69\x6e\x73\40\47\x2f\166\x6e\144\x2e\x67\157\157\x67\x6c\145\55\x61\160\160\163\56\146\x6f\x6c\144\x65\x72\x27"; goto IdWfq; IdWfq: D3umZ: goto C3Hha; HsExa: $titleEncoded = htmlspecialchars($this->searchTitle); goto kkyJ8; ohkMy: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\x47\x45\124", CURLOPT_HTTPHEADER => $header]); goto gkOph; mJ7eY: $err = curl_error($ch); goto EwpdC; C3Hha: if (!$this->showPrivateOnly) { goto xMmYx; } goto H3Urm; px378: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto ohkMy; kWFNJ: if (!empty($err)) { goto BKxFS; } goto nGFoe; Xq0wz: createErrorLog([__FILE__, __FUNCTION__, $url, $err]); goto LFcuH; H3Urm: $query["\161"] .= "\x20\141\156\x64\x20\166\x69\163\151\x62\x69\x6c\151\x74\x79\40\x3d\40\x27\x6c\x69\155\151\x74\x65\x64\x27"; goto IbwpC; wWN4I: LdzcK: goto YoOHi; QWb8o: $repairTitle = preg_replace("\57\x5b\x5e\141\55\172\101\x2d\132\x30\x2d\x39\x5f\x2d\x5d\57", '', pathinfo($this->searchTitle, PATHINFO_FILENAME)); goto DDgkV; c_ZqQ: if (empty($this->nextPageToken)) { goto XPoNx; } goto GORxR; kkyJ8: $query["\161"] .= "\40\141\x6e\144\40\50\x74\151\164\154\x65\x20\x3d\x20\47{$repairTitle}\x27\x20" . "\157\x72\40\164\x69\x74\154\x65\x20\75\40\47{$titleEncoded}\47\x20" . "\x6f\x72\40\x74\151\164\154\145\x20\x3d\40\x27{$titleMD5}\47\x20" . "\x6f\162\x20\164\x69\x74\x6c\145\40\x3d\40\47{$titleSHA256}\x27\x20" . "\x6f\162\40\x66\x75\x6c\x6c\124\145\170\x74\40\75\x20\47{$repairTitle}\47\40" . "\x6f\x72\x20\146\x75\154\x6c\124\x65\170\164\x20\x3d\x20\x27{$titleEncoded}\x27\40" . "\157\x72\40\146\165\154\154\124\x65\x78\x74\40\75\40\47{$titleMD5}\x27\x20" . "\157\x72\x20\x66\x75\x6c\x6c\124\145\170\x74\40\75\x20\47{$titleSHA256}\47\x29"; goto wWN4I; EwpdC: curl_close($ch); goto kWFNJ; nGFoe: $result = $this->itemsParser($response); goto tMWNi; hxMry: C0PiQ: goto QWb8o; IbwpC: xMmYx: goto tASOm; fUSkr: $query = ["\143\x6f\162\160\157\162\x61" => "\x61\x6c\x6c\104\x72\x69\x76\145\163", "\151\x6e\143\154\165\144\x65\x49\164\145\x6d\x73\x46\162\x6f\155\101\154\154\104\162\151\x76\145\x73" => "\x74\162\165\x65", "\163\x75\x70\160\x6f\x72\164\x73\x41\x6c\x6c\104\162\151\x76\x65\163" => "\x74\x72\165\145", "\146\151\x65\154\144\163" => "\x6e\x65\x78\x74\120\141\147\145\124\157\x6b\x65\156\x2c\x69\x74\145\x6d\x73\50\x2a\51", "\x6d\141\x78\122\145\x73\165\154\x74\163" => $maxResult, "\x71" => "\50\155\x69\x6d\145\124\171\x70\x65\x20\x63\x6f\x6e\164\141\x69\156\163\x20\x27\x76\151\144\145\x6f\x2f\x27\x20\x6f\x72\40\x6d\151\x6d\x65\x54\171\x70\x65\x20\x63\x6f\156\164\x61\x69\156\x73\x20\47\141\165\x64\151\157\x2f\x27\x20\x6f\162\40\155\x69\x6d\145\x54\x79\160\x65\x20\143\x6f\x6e\x74\x61\151\156\x73\40\x27\x2f\x6f\x63\164\145\164\x2d\163\x74\x72\145\141\x6d\x27\40\157\162\x20\x6d\151\x6d\x65\x54\171\x70\145\x20\x63\157\x6e\x74\141\151\x6e\163\x20\x27\57\166\156\144\x2e\147\x6f\157\x67\x6c\x65\55\x61\x70\x70\163\x2e\146\157\x6c\144\145\162\x27\x29"]; goto KfVFD; br6Pw: goto LdzcK; goto hxMry; pzKdj: BKxFS: goto Xq0wz; GORxR: $query["\160\x61\147\145\x54\157\153\145\156"] = $this->nextPageToken; goto SXYdZ; GWjsC: $url = sprintf("\x25\163\45\x73\57\x66\x69\x6c\145\163\77", $this->baseURL, $this->v2Path); goto fUSkr; E1shB: $result = []; goto px378; QATDL: vLiF8: goto hpoKL; tASOm: $query["\x71"] .= "\40\x61\156\x64\40\x74\x72\x61\163\150\145\144\75\146\141\x6c\x73\x65"; goto c_ZqQ; SXYdZ: XPoNx: goto inylO; YoOHi: if (!$this->showFolderOnly) { goto D3umZ; } goto Mok8W; Syq90: $query["\157\162\144\x65\162\102\x79"] = $orderBy; goto br6Pw; gkOph: $response = curl_exec($ch); goto mJ7eY; inylO: $url .= http_build_query($query); goto Q1clC; hpoKL: if (!empty($this->searchTitle)) { goto C0PiQ; } goto Syq90; O27_4: } public function getSharedDrives() { goto aR5Tx; xxmoA: $err = curl_error($ch); goto yX0Ai; aR5Tx: session_write_close(); goto n3C_W; IO8dn: Ytlk7: goto NXjDX; uY37h: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto rNwtY; QFJnA: $url = sprintf("\x25\x73\45\x73\57\x64\x72\151\166\145\x73\77\155\x61\x78\x52\x65\163\165\154\x74\x73\75\61\60\x30", $this->baseURL, $this->v2Path); goto uY37h; KfnUr: goto Ytlk7; goto n3Js8; n3C_W: $result = []; goto QFJnA; n3Js8: g1qij: goto V_S36; D60HN: if (!empty($err)) { goto g1qij; } goto GBM_z; V_S36: createErrorLog([__FILE__, __FUNCTION__, $url, $err]); goto IO8dn; NXjDX: return $result; goto bvIj3; MD0ca: $response = curl_exec($ch); goto xxmoA; rNwtY: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\x47\x45\x54", CURLOPT_HTTPHEADER => $this->createAuthHeader()]); goto MD0ca; GBM_z: $result = $this->itemsParser($response); goto KfnUr; yX0Ai: curl_close($ch); goto D60HN; bvIj3: } public function insertPermissions() { goto Eb2Bn; kj3cn: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\120\x4f\123\x54", CURLOPT_POSTFIELDS => json_encode(["\x72\157\x6c\x65" => "\162\x65\x61\144\x65\x72", "\x74\x79\160\x65" => "\x61\156\171\157\156\145"]), CURLOPT_HTTPHEADER => $this->createAuthHeader(true)]); goto LdqTA; m4Oc8: createErrorLog([__FILE__, __FUNCTION__, $url, $err, $response]); goto F56n9; zPFNf: if (empty($err)) { goto gBSrC; } goto m4Oc8; Eb2Bn: session_write_close(); goto RQqQ4; F56n9: return false; goto tunKA; yDNzO: $err = curl_error($ch); goto yfod0; yfod0: curl_close($ch); goto zPFNf; LdqTA: $response = curl_exec($ch); goto yDNzO; tunKA: gBSrC: goto VoxpR; VoxpR: return true; goto esUZn; RQqQ4: $url = sprintf("\x25\x73\45\x73\57\146\x69\154\x65\163\57\x25\x73\57\x70\x65\x72\x6d\x69\163\x73\151\157\x6e\163\x3f\163\x75\x70\160\x6f\162\x74\x73\x41\x6c\154\x44\x72\151\x76\145\163\75\164\162\165\145\x26\141\x6c\164\75\152\163\x6f\x6e", $this->baseURL, $this->v2Path, $this->fileID); goto Q3CRH; Q3CRH: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto kj3cn; esUZn: } public function deletePermissions() { goto QxDoB; QxDoB: session_write_close(); goto T6t3r; MVswa: $response = curl_exec($ch); goto DZFNB; AgVJp: createErrorLog([__FILE__, __FUNCTION__, $url, $err, $response]); goto mXpB1; Cktvn: if (empty($err)) { goto cbLo0; } goto AgVJp; AEhSv: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto hjrRp; nenNr: return true; goto V9mdf; xN7m5: curl_close($ch); goto Cktvn; fpbkz: cbLo0: goto nenNr; T6t3r: $url = sprintf("\45\x73\45\163\x2f\146\151\x6c\x65\163\57\45\x73\57\x70\x65\x72\155\151\x73\x73\151\x6f\x6e\163\57\x61\x6e\x79\x6f\x6e\x65\77\163\x75\x70\x70\157\x72\x74\163\101\154\x6c\104\x72\151\x76\145\x73\x3d\164\x72\x75\145", $this->baseURL, $this->v2Path, $this->fileID); goto BQ8Ss; DZFNB: $err = curl_error($ch); goto xN7m5; mXpB1: return false; goto fpbkz; hjrRp: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\104\x45\x4c\105\124\105", CURLOPT_HTTPHEADER => $header]); goto MVswa; BQ8Ss: $header = $this->createAuthHeader(); goto AEhSv; V9mdf: } public function delete() { goto QrOGZ; xbiT0: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto KnOqK; hqEHq: if (!empty($err)) { goto srtif; } goto Vxpf0; A94Xz: curl_close($ch); goto hqEHq; c9cvv: return empty($response); goto Ri3Kd; Vxpf0: $this->gdMirror->setCriteria("\x67\144\162\151\x76\145\137\151\144", $this->fileID); goto dREhX; sQhT0: $response = curl_exec($ch); goto wkags; MQCdf: $this->gdMirror->delete(); goto c9cvv; QrOGZ: session_write_close(); goto Wp1Jk; KnOqK: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\104\105\x4c\x45\124\x45", CURLOPT_HTTPHEADER => $this->createAuthHeader()]); goto sQhT0; XwKi1: return false; goto ZgUMD; dREhX: $this->gdMirror->setCriteria("\155\151\162\x72\157\x72\137\x69\x64", $this->fileID, "\75", "\x4f\x52"); goto MQCdf; ZgUMD: Es9_P: goto bCQwk; O_g31: createErrorLog([__FILE__, __FUNCTION__, $url, $err]); goto XwKi1; Ri3Kd: goto Es9_P; goto q31k9; q31k9: srtif: goto O_g31; wkags: $err = curl_error($ch); goto A94Xz; Wp1Jk: $url = sprintf("\45\163\45\163\x2f\x66\151\x6c\145\x73\x2f\x25\163\77\163\x75\160\160\x6f\x72\x74\163\101\154\154\x44\162\151\166\x65\x73\x3d\x74\x72\x75\145", $this->baseURL, $this->v2Path, $this->fileID); goto xbiT0; bCQwk: } public function createNewFolder(string $folderName = '', array $parents = []) { goto IO3Fk; aSGuZ: $err = curl_error($ch); goto aR6ZP; SmRQf: $data = json_decode($response, true); goto W2Ppo; qa0Ns: YbezF: goto QlVkr; YlR5R: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\120\117\x53\124", CURLOPT_POSTFIELDS => json_encode($data, JSON_UNESCAPED_SLASHES), CURLOPT_HTTPHEADER => $this->createAuthHeader(true)]); goto FPtts; IO3Fk: session_write_close(); goto Wxcva; TN1N0: goto VH5cC; goto IzLjh; Wxcva: $url = sprintf("\x25\x73\x25\163\x2f\x66\151\154\x65\163\x3f\x73\x75\x70\x70\157\162\x74\x73\101\154\x6c\104\162\x69\166\145\x73\75\164\162\165\145\x26\x6b\x65\171\x3d\x25\x73", $this->baseURL, $this->v2Path, $this->apiKey); goto qSYYv; qSYYv: $data = ["\164\x69\x74\154\145" => $folderName, "\x70\141\162\145\x6e\x74\163" => $parents, "\x6d\x69\x6d\145\x54\171\x70\145" => "\141\160\x70\154\151\143\x61\164\x69\x6f\x6e\x2f\166\x6e\144\56\x67\x6f\x6f\147\154\x65\55\x61\160\160\163\56\146\157\x6c\144\x65\x72"]; goto A7QGm; aR6ZP: curl_close($ch); goto at0ru; FPtts: $response = curl_exec($ch); goto aSGuZ; at0ru: if (empty($err)) { goto wdWTs; } goto rT_Qw; A7QGm: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto YlR5R; jkguH: return $data; goto qa0Ns; J3p2C: return false; goto i_zjG; QlVkr: VH5cC: goto J3p2C; W2Ppo: if (!(json_last_error() === JSON_ERROR_NONE)) { goto YbezF; } goto jkguH; IzLjh: wdWTs: goto SmRQf; rT_Qw: createErrorLog([__FILE__, __FUNCTION__, $url, $err]); goto TN1N0; i_zjG: } public function renameFileFolder(string $newFolderName = '') { goto gabKF; DpKsg: atBXn: goto auUQc; L3tLP: $data = json_decode($response, true); goto XAziZ; XAziZ: if (!(json_last_error() === JSON_ERROR_NONE)) { goto atBXn; } goto SX1vF; gabKF: session_write_close(); goto wM0KU; iu7Jf: $response = curl_exec($ch); goto y6q1B; NqTTd: createErrorLog([__FILE__, __FUNCTION__, $url, $err]); goto BxUmk; ffPBF: return false; goto nVL9r; BJEjZ: $ch = Helper::getCurlDefaultConfig(curl_init(), 60); goto A_k12; uBpdW: curl_close($ch); goto IG6G1; y6q1B: $err = curl_error($ch); goto uBpdW; BxUmk: goto GiNfX; goto pptR8; IG6G1: if (empty($err)) { goto tme92; } goto NqTTd; A_k12: curl_setopt_array($ch, [CURLOPT_URL => $url, CURLOPT_CUSTOMREQUEST => "\x50\x55\124", CURLOPT_POSTFIELDS => json_encode(["\164\151\164\x6c\x65" => $newFolderName, "\x6e\141\155\145" => $newFolderName]), CURLOPT_HTTPHEADER => $this->createAuthHeader(true)]); goto iu7Jf; SX1vF: return $data; goto DpKsg; auUQc: GiNfX: goto ffPBF; pptR8: tme92: goto L3tLP; wM0KU: $url = sprintf("\x25\x73\x25\x73\x2f\146\151\x6c\145\163\57\45\163\77\x73\165\x70\160\x6f\x72\x74\x73\x41\x6c\x6c\104\162\151\x76\x65\163\x3d\x74\162\165\145", $this->baseURL, $this->v2Path, $this->fileID); goto BJEjZ; nVL9r: } public function copy(string $parentID = "\162\x6f\x6f\x74") { goto jUjbH; RLE4C: if (empty($searchMirrorInDB["\151\x64"])) { goto D5pW1; } goto I_gRI; JzPlD: $searchMirrorInDB = $this->searchFileMirror(); goto RLE4C; Yj9Jk: D5pW1: goto y8v0e; Iqa1m: jHcBp: goto WOwJh; WOwJh: return false; goto F7PVg; jUjbH: session_write_close(); goto JzPlD; y8v0e: $userInfo = !empty($this->email) ? $this->getUserInfo() : false; goto XNoYS; XNoYS: if (!($userInfo && validateBoolean($userInfo["\x62\x79\160\x61\163\163"]) && !empty($this->inputFileInfo["\151\144"]))) { goto jHcBp; } goto nTpif; nTpif: return $this->copyAPI($parentID, $this->inputFileInfo); goto Iqa1m; I_gRI: return $searchMirrorInDB; goto Yj9Jk; F7PVg: } public function copyToAll(string $parentID = "\162\x6f\x6f\x74") { goto x3yuv; VDrzm: $this->gdAuth->setCriteria("\142\171\160\141\x73\x73", 1, "\x3d", "\101\116\104"); goto u7cqg; u7cqg: $list = $this->gdAuth->get(["\x65\155\141\x69\x6c"]); goto Kvj18; FCVjS: foreach ($list as $dt) { goto Ym6CQ; deluH: QMpWy: goto U9wnQ; RyYOD: $result = $this->copy($parentID); goto deluH; Ym6CQ: $this->setEmail($dt["\x65\155\141\151\154"]); goto RyYOD; U9wnQ: } goto XV22m; hYio6: $this->gdAuth->setCriteria("\163\164\141\164\165\x73", 1, "\75"); goto VDrzm; kViPE: KIcTW: goto B4rSg; Iuz3B: $result = false; goto hYio6; Kvj18: if (!$list) { goto KIcTW; } goto FCVjS; x3yuv: session_write_close(); goto Iuz3B; XV22m: xLgH0: goto kViPE; B4rSg: return $result; goto qKdWh; qKdWh: } private function searchFileMirrorDB() { goto EPiHA; uBdZS: return $result; goto QUyHi; Wa7Ka: $currentEmail = $this->email; goto UA_vY; lbuI7: GPnXH: goto NCURO; UA_vY: $this->gdMirror->setCriteria("\147\144\162\x69\166\145\x5f\151\144", $this->fileID); goto Aue4g; dk8Mu: foreach ($list as $dt) { goto ssaJe; HFnGv: XARxZ: goto rMDdA; qckiA: $this->setFileID($dt["\x6d\151\x72\162\x6f\162\x5f\x69\144"]); goto Bxtts; Bxtts: $result[] = ["\x69\x64" => $dt["\155\x69\x72\x72\x6f\162\137\151\144"], "\x65\x6d\x61\x69\154" => $dt["\155\151\162\x72\x6f\162\x5f\x65\x6d\x61\x69\x6c"]]; goto TaV5N; B9kMn: $this->setEmail($currentEmail); goto XubPd; ssaJe: if ($this->fileID !== $dt["\x6d\151\x72\x72\x6f\x72\x5f\x69\x64"]) { goto XARxZ; } goto f9lvD; HIgc5: goto q6P0F; goto HFnGv; rwG9B: KeHfg: goto B9kMn; lp0VJ: $result[] = ["\x69\x64" => $dt["\147\144\x72\x69\166\145\137\x69\144"], "\145\155\x61\x69\154" => $currentEmail]; goto wn6oL; GGN_s: pkOhe: goto SHN15; f9lvD: if ($this->fileID !== $dt["\x67\x64\x72\151\166\145\137\151\x64"]) { goto KeHfg; } goto HIgc5; XubPd: $this->setFileID($dt["\x67\144\162\151\166\145\137\151\x64"]); goto lp0VJ; rMDdA: $this->setEmail($dt["\x6d\151\x72\162\157\162\137\x65\155\x61\151\154"]); goto qckiA; TaV5N: goto q6P0F; goto rwG9B; wn6oL: q6P0F: goto GGN_s; SHN15: } goto lbuI7; tBzfM: if (!$list) { goto zB230; } goto dk8Mu; fbkuW: $this->gdMirror->setLimit(0, 5); goto MnpuD; Aue4g: $this->gdMirror->setCriteria("\x6d\x69\x72\x72\x6f\162\x5f\x69\x64", $this->fileID, "\x3d", "\117\122"); goto fbkuW; MnpuD: $list = $this->gdMirror->get(["\x67\144\162\x69\x76\145\x5f\x69\144", "\155\151\x72\162\x6f\x72\x5f\x69\x64", "\x6d\x69\x72\162\157\162\x5f\145\155\x61\x69\x6c"]); goto tBzfM; Cfr1O: $result = []; goto Wa7Ka; NCURO: zB230: goto uBdZS; EPiHA: session_write_close(); goto Cfr1O; QUyHi: } public function searchFileMirror() { goto T3lPz; N5Lql: $userList = $this->gdAuth->get(["\x65\155\141\x69\154"]); goto xL7LB; ssm2g: $searchTitle = $this->inputFileInfo["\x74\x69\164\x6c\x65"]; goto UlwS5; CUJ6a: $searchTitle = $this->inputFileInfo["\144\x65\x73\143\x72\151\x70\x74\x69\157\x6e"]; goto iRrea; iQq7u: $this->gdAuth->setCriteria("\x65\155\141\x69\x6c", $this->inputFileInfo["\x6f\167\x6e\x65\x72\x73"][0]["\145\155\141\x69\x6c\x41\144\x64\162\145\x73\163"], "\x3c\76", "\x41\116\x44"); goto N5Lql; nKDdo: if (!empty($this->inputFileInfo["\164\x69\x74\154\145"])) { goto DMouI; } goto NkPFi; R_qgR: $onDesc = ["\143\x6f\160\x79\x20\x62\x79", "\x64\157\x77\156\154\157\141\x64\145\x64", "\165\x70\x6c\157\x61\x64\145\x64", "\165\160\154\x6f\141\x64", "\x64\157\x77\x6e\x6c\x6f\x61\144", "\155\151\162\162\157\x72", "\163\x68\x61\162\151\x6e\x67"]; goto F3_0O; ByirT: if (!$result) { goto e0tH8; } goto beb4q; iRrea: MdFv0: goto rg_Ws; RIxdq: DMouI: goto ssm2g; bjMcR: IXH3t: goto Mz0Ht; wDSKP: if (!empty($this->inputFileInfo["\x64\x65\x73\143\x72\x69\x70\164\151\157\156"])) { goto hIKvF; } goto nKDdo; I9P3D: e0tH8: goto Mdw0k; HnUgA: hIKvF: goto R_qgR; F3_0O: $useDesc = array_filter($onDesc, fn($val) => strpos(strtolower($this->inputFileInfo["\144\145\163\x63\x72\x69\160\164\151\157\x6e"]), $val) !== false); goto czZOj; v0dvq: $result = $this->parseFileMirror($this->searchFileMirrorDB()); goto ByirT; nsTzW: $this->gdAuth->setCriteria("\163\164\x61\x74\x75\x73", 1); goto iQq7u; Mz0Ht: return $result; goto oNIlQ; czZOj: if (!empty($useDesc)) { goto MdFv0; } goto CUJ6a; DlYsl: $searchTitle = ''; goto WAEPD; FlB7u: foreach ($userList as $user) { goto th7y_; BCm9G: $result = $files[0]; goto TUMpG; WyPQZ: $this->setNextPageToken(''); goto NNT_z; NNT_z: $this->searchTitle($searchTitle); goto ebO0h; mKIgr: XJYsy: goto Z4WQw; Z4WQw: LZH7J: goto FE_Uu; th7y_: $this->setEmail($user["\x65\155\x61\x69\154"]); goto WyPQZ; p01Pa: goto ZaKhu; goto mKIgr; TUMpG: $this->saveFileMirrorDB($this->fileID, $result["\151\x64"]); goto p01Pa; X4E1t: if (empty($files)) { goto XJYsy; } goto BCm9G; ebO0h: $files = $this->getFiles('', 1); goto X4E1t; FE_Uu: } goto nnsEi; UlwS5: nLr1B: goto nsTzW; NkPFi: goto nLr1B; goto HnUgA; rg_Ws: goto nLr1B; goto RIxdq; p6cvB: if (empty($userList)) { goto IXH3t; } goto FlB7u; nnsEi: ZaKhu: goto bjMcR; yvGsG: $searchTitle = $this->inputFileInfo["\157\x72\151\147\x69\x6e\x61\x6c\x46\x69\154\x65\x6e\x61\155\x65"]; goto wDSKP; xL7LB: LvcRU: goto p6cvB; beb4q: return $result; goto I9P3D; T3lPz: session_write_close(); goto v0dvq; WAEPD: if (empty($this->inputFileInfo["\x6f\167\x6e\145\x72\163"])) { goto LvcRU; } goto yvGsG; Mdw0k: $userList = []; goto DlYsl; oNIlQ: } private function parseFileMirror(array $fileMirrorList = []) { goto bRAsW; s7QqU: return $result; goto M3nyw; kmJy9: foreach ($fileMirrorList as $dt) { goto O6v9E; vwXew: $this->setFileID($dt["\x69\x64"]); goto QT5z2; fxbCk: JOcIT: goto PDJDJ; PDJDJ: rZ3Vg: goto vPT1F; AwKWK: $result = $this->inputFileInfo; goto M4V0Y; QT5z2: if (!$this->inputFileInfo) { goto JOcIT; } goto AwKWK; O6v9E: $this->setEmail($dt["\x65\155\x61\151\154"]); goto vwXew; M4V0Y: goto X_Xmx; goto fxbCk; vPT1F: } goto vGXV4; tNi1x: BW_6O: goto s7QqU; bRAsW: session_write_close(); goto xlIUq; vGXV4: X_Xmx: goto tNi1x; E3NCR: if (empty($fileMirrorList)) { goto BW_6O; } goto kmJy9; xlIUq: $result = false; goto E3NCR; M3nyw: } }
