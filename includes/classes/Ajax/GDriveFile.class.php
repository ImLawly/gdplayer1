<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:33              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Ajax; use GDPlayer\{Config, GoogleDriveRestAPI, InstanceCache}; use GDPlayer\Model\{GDriveDuplicate, GDriveMirror, Video, VideoShort}; class GDriveFile extends \GDPlayer\Ajax { protected GoogleDriveRestAPI $gdAPI; protected GDriveDuplicate $gdDuplicate; protected GDriveMirror $gdMirror; protected Video $videos; protected VideoShort $vShort; protected $folderId = "\x72\x6f\157\164"; protected $listColumns = ["\x69\x64", "\164\151\164\x6c\x65", "\144\x65\x73\x63\162\x69\160\x74\x69\157\x6e", "\x73\150\x61\162\x65\x64", "\x6d\157\144\151\146\x69\145\x64\104\141\x74\145", "\x69\x64"]; protected const MESSAGE_MIRROR_FILE_DELETE_SUCCESS = "\124\150\145\x20\155\x69\x72\x72\157\x72\x20\146\x69\x6c\x65\40\x68\x61\163\x20\142\x65\x65\x6e\x20\163\x75\x63\x63\145\163\163\x66\165\x6c\154\x79\x20\144\145\154\145\164\145\x64"; protected const MESSAGE_MIRROR_FILE_DELETE_FAIL = "\124\150\145\x20\x6d\x69\162\162\157\162\40\x66\x69\154\x65\x20\x66\141\x69\x6c\x65\x64\40\x74\x6f\40\x64\145\154\x65\164\x65"; protected const MESSAGE_FILE_IMPORT_SUCCESS = "\x54\x68\x65\x20\146\151\154\x65\x20\150\141\163\x20\x62\x65\145\x6e\x20\x73\165\143\143\145\x73\x73\x66\165\x6c\154\171\x20\151\155\160\x6f\162\164\x65\144"; protected const MESSAGE_FILE_IMPORT_FAIL = "\124\150\145\x20\146\x69\154\x65\40\146\x61\x69\x6c\145\144\x20\164\157\40\151\x6d\x70\x6f\162\164"; protected const MESSAGE_FOLDER_CREATE_SUCCESS = "\x54\150\x65\x20\x6e\145\167\x20\x66\151\154\145\57\x66\157\154\144\145\x72\40\x68\141\163\x20\142\x65\145\x6e\40\143\162\x65\141\164\145\x64\x20\163\165\x63\143\145\x73\163\146\165\x6c\x6c\x79"; protected const MESSAGE_FOLDER_CREATE_FAIL = "\x54\x68\145\x20\156\145\x77\x20\146\x69\x6c\x65\x2f\146\x6f\154\144\x65\x72\x20\146\x61\151\154\x65\x64\x20\x74\x6f\x20\x63\x72\x65\x61\x74\x65"; protected const MESSAGE_FILE_DELETE_SUCCESS = "\124\x68\145\x20\x66\151\154\x65\x2f\146\157\x6c\x64\x65\x72\x20\x68\x61\163\x20\142\x65\x65\156\40\x73\x75\143\143\x65\163\163\146\165\154\x6c\x79\x20\144\145\154\145\x74\145\x64"; protected const MESSAGE_FILE_DELETE_FAIL = "\124\x68\145\40\x66\x69\x6c\145\x2f\x66\x6f\154\x64\145\162\40\146\x61\151\x6c\x65\144\x20\164\x6f\x20\x64\x65\x6c\145\x74\145"; protected const MESSAGE_FILE_UPDATE_SUCCESS = "\x54\150\x65\x20\146\x69\x6c\145\57\x66\157\x6c\144\145\162\x20\x68\141\x73\40\142\145\x65\156\40\x73\165\143\x63\x65\x73\163\146\x75\154\x6c\171\x20\x75\x70\x64\x61\x74\x65\x64"; protected const MESSAGE_FILE_UPDATE_FAIL = "\x54\150\145\x20\x66\151\x6c\145\57\146\x6f\x6c\x64\145\162\x20\146\141\151\x6c\145\144\x20\x74\157\x20\165\x70\x64\141\164\x65"; protected const MESSAGE_REMOVE_DUPLICATE_FILES_SUCCESS = "\x44\x75\160\154\151\143\141\x74\x65\40\146\151\x6c\145\163\x20\x68\x61\166\145\x20\x62\x65\x65\x6e\40\x73\165\x63\x63\145\x73\x73\146\x75\154\154\171\x20\x72\145\155\x6f\x76\x65\144"; protected const MESSAGE_REMOVE_DUPLICATE_FILES_FAIL = "\104\165\x70\x6c\151\143\x61\x74\145\x20\146\151\154\145\x73\40\x66\141\151\154\145\144\40\164\x6f\x20\162\x65\155\157\166\x65"; public function __construct() { goto rLerL; rLerL: session_write_close(); goto LfMAS; rW3SI: $this->gdAPI = new GoogleDriveRestAPI(); goto GoyDu; LfMAS: $this->data = array_merge($_POST, $_GET); goto Q7ywO; kt32r: $this->vShort = VideoShort::getInstance(); goto kiJMT; pePz_: $this->gdMirror = GDriveMirror::getInstance(); goto jgrFB; jgrFB: $this->videos = Video::getInstance(); goto kt32r; C7lQT: $this->loadData(); goto rW3SI; Q7ywO: $this->files = $_FILES; goto C7lQT; GoyDu: $this->gdDuplicate = GDriveDuplicate::getInstance(); goto pePz_; kiJMT: } protected function createDataList(array $list = [], string $email = '') { goto y4JPR; O2sGu: $requestSlug = Config::get("\163\154\x75\x67\137\x72\145\x71\165\145\163\x74") ?? "\144"; goto EzRzZ; UbqO0: return $data; goto psfDd; TMsDF: ALl3r: goto UbqO0; y4JPR: session_write_close(); goto xjtcg; ZVEsm: $embedSlug = Config::get("\163\x6c\165\x67\137\x65\x6d\142\x65\144") ?? "\x65"; goto O2sGu; LkyLv: $downloadSlug = Config::get("\163\154\x75\147\x5f\x64\x6f\x77\x6e\x6c\157\x61\x64") ?? "\x64"; goto ZVEsm; EzRzZ: foreach ($list as $dt) { goto AD7X7; gicW7: $qryEncoded = $this->security->encryptURL(http_build_query(["\x68\157\x73\164" => "\x67\x64\x72\151\166\x65", "\x69\144" => $dt["\151\144"], "\x65\155\141\x69\154" => $email, "\x73\x61\x76\145\144" => false])); goto uthht; otnNz: $newData["\144\145\163\x63"] = $dt["\x64\x65\x73\x63\x72\x69\160\x74\x69\x6f\x6e"] ?? ''; goto CFu44; RypMQ: $newData["\155\157\144\x69\x66\151\x65\x64\x44\141\164\x65"] = strtotime($dt["\x6d\x6f\x64\151\146\151\x65\144\x44\x61\x74\145"]); goto aQO0j; kk2k5: vn38X: goto pUfad; AD7X7: $newData = $dt; goto DbYLE; c4b9b: $newData["\141\x63\x74\151\157\156\163"]["\x64\x6f\167\156\154\x6f\141\x64\137\165\x72\x6c"] = BASE_URL . $downloadSlug . "\x2f\77" . $qryEncoded; goto mR6Cb; x8g2S: $newData["\x6d\x69\x6d\145\124\x79\x70\145"] = ["\x74\171\160\145" => $dt["\x6d\x69\x6d\145\x54\171\x70\145"], "\151\x63\157\x6e" => $dt["\x69\x63\157\156\114\x69\x6e\x6b"]]; goto RypMQ; uthht: $newData["\x61\143\164\151\157\x6e\163"]["\x72\x65\161\165\145\x73\x74\x5f\x75\162\154"] = BASE_URL . $requestSlug . "\x2f\77" . $qryEncoded; goto c4b9b; lP4bH: $newData["\x61\143\164\151\x6f\156\x73"]["\x65\x6d\142\145\x64\x5f\x63\157\x64\145"] = sanitizeHtml(sprintf("\74\151\x66\162\141\155\x65\40\x73\162\143\x3d\42\45\x73\42\x20\146\x72\141\155\145\142\x6f\x72\144\145\x72\75\x22\60\42\x20\x61\154\x6c\x6f\x77\146\165\x6c\154\x73\143\162\145\145\x6e\40\167\151\144\164\150\75\42\x36\64\x30\42\x20\150\x65\x69\x67\x68\x74\75\x22\x33\62\60\x22\76\x3c\x2f\x69\x66\162\x61\x6d\145\x3e", $newData["\141\x63\x74\151\157\156\163"]["\145\155\142\x65\144\137\165\162\154"])); goto x8g2S; mR6Cb: $newData["\x61\143\164\151\157\156\163"]["\145\x6d\x62\145\144\x5f\165\x72\x6c"] = BASE_URL . $embedSlug . "\x2f\x3f" . $qryEncoded; goto lP4bH; pej9P: $newData["\141\143\164\151\157\x6e\163"] = ["\x69\144" => $dt["\x69\x64"], "\x73\150\x61\x72\x65\144" => $newData["\x73\150\141\x72\145\x64"], "\144\x6f\x77\156\154\157\x61\144" => $dt["\167\145\142\103\x6f\x6e\x74\145\x6e\x74\114\151\x6e\x6b"] ?? '', "\160\162\145\x76\151\145\x77" => $dt["\145\155\x62\x65\x64\114\x69\156\x6b"] ?? '', "\166\151\145\167" => $dt["\x61\154\164\145\162\x6e\x61\x74\145\114\x69\x6e\153"] ?? '']; goto gicW7; T3taP: $newData["\x65\155\x61\151\x6c"] = $email; goto otnNz; CFu44: $newData["\x73\x68\x61\x72\x65\144"] = validateBoolean($dt["\x73\x68\x61\x72\145\144"] ?? false); goto pej9P; aQO0j: $data[] = $newData; goto kk2k5; DbYLE: $newData["\104\124\137\x52\x6f\x77\x49\x64"] = $dt["\x69\x64"]; goto T3taP; pUfad: } goto TMsDF; xjtcg: $data = []; goto LkyLv; psfDd: } public function list() { goto WZsNN; dVz5O: return $this->createJsonResponse($result); goto KrawL; iyza3: $data = $this->createDataList($list, $this->data["\x65\155\x61\151\x6c"]); goto xSu0n; UzV4z: $nextPageToken = ''; goto zjIQA; zjIQA: if (empty($list)) { goto PILCq; } goto iyza3; Fae1Z: $result = $this->toCustomJson(array("\144\162\x61\167" => intval($qry["\x64\x72\141\x77"]), "\144\141\x74\141" => $data, "\x72\x65\x63\x6f\162\144\x73\x54\x6f\x74\x61\154" => $recordsTotal, "\x72\x65\x63\157\162\x64\163\x46\151\x6c\x74\145\162\x65\144" => $recordsTotal, "\164\157\x6b\x65\x6e" => $nextPageToken)); goto chTDE; FkRR2: goto CCZUI; goto AuoCS; AuoCS: ddBNY: goto Vanvz; dw6gv: $list = $this->gdAPI->getFiles($this->folderId, $qry["\x6c\145\x6e\x67\164\x68"], $qry["\x6f\x72\x64\x65\162\x42\x79"] . "\x20" . $qry["\x6f\x72\x64\145\162\104\151\162"]); goto MU1zm; yXwIy: $this->gdAPI->searchFolderOnly(validateBoolean($this->data["\157\x6e\x6c\x79\106\x6f\x6c\x64\x65\x72"] ?? false)); goto nUJ2b; khqOV: $this->gdAPI->setNextpageToken(sanitizeHtml($this->data["\164\157\153\145\x6e"] ?? '')); goto RYJvd; Vanvz: $qry = $this->extractDatatablesQry($this->data, $this->listColumns, "\155\x6f\144\x69\x66\x69\145\144\x44\x61\x74\x65", "\x64\x65\x73\143"); goto UwgG0; x364v: if ($this->isAdmin && !empty($this->data["\145\155\x61\151\154"])) { goto ddBNY; } goto DQNF2; SaUYc: $this->gdAPI->searchTitle(sanitizeHtml($this->data["\x73\145\141\x72\x63\x68"]["\166\x61\154\165\145"] ?? '')); goto dw6gv; RYJvd: $this->gdAPI->searchPrivateOnly(validateBoolean($this->data["\160\162\151\x76\x61\x74\x65"] ?? false)); goto yXwIy; UwgG0: $this->gdAPI->setEmail($this->data["\x65\155\x61\x69\x6c"]); goto khqOV; xSu0n: $nextPageToken = $this->gdAPI->getNextpageToken(); goto ysIwD; WZsNN: session_write_close(); goto x364v; chTDE: CCZUI: goto dVz5O; MU1zm: $data = []; goto UzV4z; ysIwD: PILCq: goto B5HFW; DQNF2: $result = $this->toDataTablesJson($this->data["\144\162\x61\167"]); goto FkRR2; B5HFW: $recordsTotal = count($list) * (2 + intval($qry["\144\162\x61\167"])); goto Fae1Z; nUJ2b: $this->folderId = !empty($this->data["\x66\157\154\144\145\162\137\x69\x64"]) ? sanitizeHtml($this->data["\x66\x6f\154\144\145\x72\137\151\144"]) : "\x72\157\157\164"; goto SaUYc; KrawL: } public function response() { session_write_close(); return $this->defaultResponse($this, true); } protected function getSharedDrives() { goto IE6ZZ; lYUAY: return $this->toJson(1, '', $this->gdAPI->getSharedDrives()); goto sqDr8; IE6ZZ: session_write_close(); goto CIqbC; CIqbC: $this->gdAPI->setEmail($this->data["\145\155\141\x69\x6c"] ?? ''); goto lYUAY; sqDr8: } protected function removeDuplicateFilesByData(array $dt, string $sha1, string $sha256, string $desc) { goto ErS0s; OSqRA: sauR1: goto zm3Zc; opfpt: $and = "\x41\116\104"; goto XL2iA; LMbv0: QSv41: goto usp6N; ErS0s: session_write_close(); goto XAjx6; E40Oi: $opr = "\75"; goto opfpt; KUseN: if ($dupList->fetchColumn() > 0) { goto acNW6; } goto E40Oi; btNPe: acNW6: goto nTDTC; XAjx6: $qry = sprintf("\x53\105\x4c\x45\103\124\40\103\117\125\x4e\x54\x28\x60\151\x64\140\51\x20\x46\122\117\115\40\140\x74\142\x5f\x67\144\x72\151\166\145\137\144\165\x70\x6c\151\x63\141\164\145\x60\12\x20\x20\40\x20\40\40\x20\x20\x20\x20\x20\x20\x57\110\x45\x52\105\40\140\x67\x64\162\151\166\145\x5f\151\x64\140\x3c\x3e\x27\x25\163\47\x20\101\116\x44\40\x60\147\144\x72\x69\166\145\x5f\x65\x6d\x61\x69\x6c\x60\x3c\76\x27\x25\163\47\x20\101\x4e\x44\x20\x60\146\151\154\x65\x53\151\172\x65\140\x3d\x25\x64\x20\x41\x4e\104\x20\140\x6d\x64\65\103\150\x65\x63\x6b\163\165\155\x60\75\47\x25\x73\x27\12\x20\x20\x20\40\x20\x20\x20\40\x20\x20\x20\40\101\116\x44\x20\140\163\150\141\61\103\150\145\x63\153\163\x75\155\140\75\x27\45\x73\47\x20\x41\x4e\104\x20\140\163\150\x61\x32\x35\66\103\150\x65\143\x6b\163\x75\155\x60\x3d\x27\45\x73\47\x20\101\x4e\104\xa\x20\x20\40\40\x20\40\40\x20\40\x20\40\40\x28\140\x74\x69\x74\154\145\140\x3d\47\x25\163\x27\x20\x4f\122\40\140\x64\145\163\x63\140\x3d\x27\x25\163\x27\40\x4f\x52\x20\x60\164\x69\x74\x6c\145\x60\x3d\47\45\x73\47\x20\x4f\x52\40\x60\144\145\x73\x63\x60\x3d\47\x25\163\x27\x29", $dt["\151\144"], $this->data["\x65\155\x61\x69\x6c"], $dt["\146\x69\x6c\x65\123\151\172\145"], $dt["\155\144\65\103\x68\145\143\x6b\163\165\155"], $sha1, $sha256, addslashes($dt["\164\x69\x74\x6c\145"]), addslashes($desc), addslashes($desc), addslashes($dt["\x74\x69\x74\154\x65"])); goto x_M8s; nTDTC: $this->gdAPI->setFileID($dt["\x69\144"]); goto fjg6g; opTmF: $this->gdDuplicate->insert(["\x67\x64\x72\x69\166\145\137\x69\144" => $dt["\x69\144"], "\147\x64\x72\151\x76\x65\x5f\x65\x6d\141\151\x6c" => $this->data["\x65\x6d\x61\x69\154"], "\x74\151\x74\x6c\x65" => $dt["\164\x69\x74\154\145"], "\144\x65\163\x63" => $desc, "\x66\x69\154\145\x53\151\172\x65" => $dt["\146\x69\x6c\x65\123\x69\172\x65"], "\155\144\x35\103\x68\x65\x63\x6b\163\x75\155" => $dt["\155\144\65\103\x68\145\143\x6b\x73\x75\155"], "\163\150\x61\x31\103\x68\145\x63\153\x73\x75\x6d" => $sha1, "\x73\x68\141\x32\65\x36\x43\x68\x65\143\x6b\x73\165\155" => $sha256]); goto LMbv0; XL2iA: $this->gdDuplicate->setMultiCriteria([["\164\x69\x74\154\x65", $dt["\164\x69\x74\154\x65"], $opr], ["\144\x65\163\143", $desc, $opr, $and], ["\x66\x69\x6c\x65\123\x69\172\145", $dt["\146\x69\x6c\x65\x53\151\172\145"], $opr, $and], ["\x6d\x64\65\103\x68\145\143\153\x73\x75\x6d", $dt["\x6d\144\x35\x43\150\145\143\153\x73\165\x6d"], $opr, $and], ["\163\150\141\x31\x43\x68\x65\x63\x6b\x73\165\155", $sha1, $opr, $and], ["\x73\150\x61\x32\x35\x36\103\150\145\x63\153\x73\165\155", $sha256, $opr, $and]]); goto Wbglv; x_M8s: $dupList = $this->gdDuplicate->rawQuery($qry); goto KUseN; usp6N: goto sauR1; goto btNPe; Wbglv: if (!($this->gdDuplicate->getNumRows() === 0)) { goto QSv41; } goto opTmF; fjg6g: $this->gdAPI->delete(); goto OSqRA; zm3Zc: } protected function removeDuplicateFiles() { goto iQA6K; rnuzd: if (empty($list)) { goto YfwAK; } goto yIey0; Asvht: return $this->toJson(1, self::MESSAGE_REMOVE_DUPLICATE_FILES_SUCCESS, array("\x6e\x65\x78\x74\120\141\147\145\124\x6f\x6b\x65\156" => $nextPageToken)); goto egGdM; iXtCf: $nextPageToken = $this->gdAPI->getNextPageToken(); goto vyPKo; FBfPf: $this->gdAPI->setEmail($this->data["\145\155\x61\151\x6c"]); goto Ca69u; iQA6K: session_write_close(); goto MFtJc; MFtJc: $nextPageToken = sanitizeHtml($this->data["\156\145\x78\x74\x50\x61\147\145\124\x6f\153\145\156"] ?? ''); goto uenT_; Ca69u: $this->gdAPI->setNextPageToken($nextPageToken); goto PwzpN; uenT_: if (validateEmail($this->data["\x65\x6d\x61\x69\x6c"] ?? '')) { goto xEhM5; } goto euTZe; yIey0: foreach ($list as $dt) { goto qVRwF; hZY3Q: $sha256 = $dt["\163\x68\141\62\65\66\x43\150\145\143\x6b\163\x75\x6d"] ?? ''; goto lIAFj; qVRwF: $desc = $dt["\144\145\x73\143\x72\151\x70\164\x69\157\156"] ?? ''; goto Vmtdd; lIAFj: if (!(strpos($dt["\x6d\x69\x6d\145\x54\x79\160\x65"], "\x66\x6f\x6c\x64\x65\162") !== false)) { goto mx2y9; } goto mvN62; lVLRV: AOlj0: goto Mezrq; Lobh5: mx2y9: goto vlgjX; Vmtdd: $sha1 = $dt["\x73\150\x61\61\x43\x68\145\x63\153\163\x75\x6d"] ?? ''; goto hZY3Q; vlgjX: $this->removeDuplicateFilesByData($dt, $sha1, $sha256, $desc); goto lVLRV; mvN62: goto AOlj0; goto Lobh5; Mezrq: } goto vDa6p; vDa6p: WbMQ2: goto iXtCf; vyPKo: YfwAK: goto Asvht; TeQkn: xEhM5: goto FBfPf; euTZe: return $this->toJson(0, self::MESSAGE_REMOVE_DUPLICATE_FILES_FAIL, array("\x6e\x65\x78\x74\120\x61\x67\145\x54\x6f\x6b\x65\156" => $nextPageToken)); goto TeQkn; PwzpN: $list = $this->gdAPI->getFiles("\x72\157\x6f\164", 10, "\155\157\144\x69\x66\151\145\144\104\x61\x74\145\x20\141\163\x63"); goto rnuzd; egGdM: } protected function gdriveImport() { goto fZcHc; CFcKr: $now = time(); goto rnIwW; SD3P3: awa97: goto gGr0t; vVcDr: goto PJjR9; goto esOAh; qvQ1n: $file = $this->gdAPI->getFileInfo(); goto v1tRM; Z7Rm2: $this->gdAPI->setFileID($this->data["\x69\x64"]); goto qvQ1n; Ky4GF: if (!isset($file["\144\145\x73\143\162\x69\160\x74\151\x6f\x6e"])) { goto gfmj3; } goto tZykG; ja8qZ: $slug = createSlug(5, sanitizeHtml($title)); goto n6AdO; cmqc_: if (!$saved) { goto awa97; } goto ja8qZ; tZykG: $exdesc = pathinfo($file["\144\x65\x73\x63\162\x69\x70\164\151\157\x6e"], PATHINFO_EXTENSION); goto B3J5i; rnIwW: $saved = $this->videos->insert(array("\164\x69\164\x6c\145" => $title, "\150\x6f\163\164" => "\x67\144\x72\151\166\x65", "\x68\x6f\x73\x74\137\x69\x64" => $this->data["\x69\x64"], "\165\x69\144" => $this->currentUser["\x69\144"], "\141\144\144\145\x64" => $now, "\165\160\x64\141\164\x65\x64" => $now, "\x70\x6f\x73\164\145\162" => "\150\x74\x74\160\x73\x3a\57\x2f\x6c\x68\x33\56\x67\157\x6f\147\x6c\145\x75\x73\x65\x72\x63\x6f\156\164\x65\x6e\x74\x2e\x63\157\x6d\57\x64\x2f" . $file["\151\x64"] . "\75\167\71\71\71\x39", "\x73\x74\141\164\165\163" => 0, "\x76\151\x65\167\163" => 0, "\x64\x6d\143\141" => 0)); goto cmqc_; avp4T: $title = $file["\x64\145\x73\143\x72\x69\160\x74\151\157\156"]; goto fL2lL; iS7MP: if (!empty($extitle)) { goto yr7ua; } goto vVcDr; E2M12: $extitle = pathinfo($file["\164\x69\164\x6c\145"], PATHINFO_EXTENSION); goto CBIup; l1JQJ: if (empty($this->data["\x69\x64"])) { goto Dso8J; } goto Z7Rm2; B3J5i: gfmj3: goto E2M12; n6AdO: $this->vShort->insert(array("\x76\x69\144" => $saved, "\x6b\x65\x79" => $slug)); goto oOUXv; bm8ZR: yr7ua: goto mAroY; gGr0t: SMfGK: goto LQGDK; AtanT: return $result; goto k5_6G; v1tRM: if (!$file) { goto SMfGK; } goto lBuiy; Wl33Z: if (!empty($exdesc)) { goto kwho8; } goto iS7MP; oOUXv: $result = $this->toJson(1, self::MESSAGE_FILE_IMPORT_SUCCESS, array("\164\151\164\154\x65" => $title, "\163\154\x75\x67" => $slug, "\x69\144" => $saved)); goto SD3P3; fL2lL: goto PJjR9; goto bm8ZR; LQGDK: Dso8J: goto AtanT; CBIup: $title = $file["\x6f\x72\x69\147\x69\156\141\x6c\x46\151\x6c\x65\156\x61\x6d\145"]; goto Wl33Z; JVFtS: PJjR9: goto CFcKr; MFjJ9: $result = $this->toJson(0, self::MESSAGE_FILE_IMPORT_FAIL); goto l1JQJ; mAroY: $title = $file["\x74\151\x74\154\145"]; goto JVFtS; fZcHc: session_write_close(); goto MFjJ9; lBuiy: $exdesc = ''; goto Ky4GF; esOAh: kwho8: goto avp4T; k5_6G: } protected function updateStatus() { goto zGmEI; qM6up: InstanceCache::deleteItemsByTag("\x67\x64\x72\151\x76\145\55\146\151\x6c\145\x73"); goto hGDVI; c1yyw: $result = $this->toJson(0, self::MESSAGE_FILE_UPDATE_FAIL); goto UmIVH; sSDWL: return $result; goto T47nn; OnTLQ: $updated = validateBoolean($this->data["\160\x75\142\154\x69\x63"]) ? $this->gdAPI->insertPermissions() : $this->gdAPI->deletePermissions(); goto eZo1Z; eZo1Z: if (!$updated) { goto xsy1I; } goto qM6up; M4IiZ: xsy1I: goto BTTLd; vPhkC: $this->gdAPI->setEmail($this->data["\145\155\141\151\154"]); goto mr2uy; UmIVH: if (!(!empty($this->data["\x65\155\x61\x69\x6c"]) && validateEmail($this->data["\x65\x6d\x61\x69\x6c"]) && !empty($this->data["\x69\144"]) && isset($this->data["\160\x75\142\154\151\143"]))) { goto l2yCs; } goto vPhkC; hGDVI: $result = $this->toJson(1, self::MESSAGE_FILE_UPDATE_SUCCESS); goto M4IiZ; zGmEI: session_write_close(); goto c1yyw; BTTLd: l2yCs: goto sSDWL; mr2uy: $this->gdAPI->setFileID($this->data["\151\144"]); goto OnTLQ; T47nn: } protected function deleteMirror() { goto O0VKO; dhe94: $result = $this->toJson(0, self::MESSAGE_MIRROR_FILE_DELETE_FAIL); goto OrusU; CclbR: if (!$deleted) { goto uxrR4; } goto EDO0R; Q33ad: $this->gdMirror->setCriteria("\x69\144", $this->data["\151\144"]); goto VBTgO; NZONS: return $result; goto mI5G5; O0VKO: session_write_close(); goto dhe94; q4K06: PfBIv: goto NZONS; OrusU: if (empty($this->data["\x69\x64"])) { goto PfBIv; } goto Q33ad; VBTgO: $deleted = $this->gdMirror->delete(); goto CclbR; EDO0R: $result = $this->toJson(1, self::MESSAGE_MIRROR_FILE_DELETE_SUCCESS); goto mj5jP; mj5jP: uxrR4: goto q4K06; mI5G5: } protected function delete() { goto xhJRJ; LEVCf: EBbcj: goto TYwID; HOx0c: if (!(!empty($this->data["\x65\155\141\151\154"]) && validateEmail($this->data["\x65\155\141\x69\154"]) && !empty($this->data["\x69\x64"]))) { goto EBbcj; } goto H9edv; TYwID: return $result; goto H0UC8; H9edv: $this->gdAPI->setEmail($this->data["\x65\x6d\141\x69\154"]); goto h_bZE; RIk_f: $result = $this->toJson(1, self::MESSAGE_FILE_DELETE_SUCCESS); goto LEVCf; xhJRJ: session_write_close(); goto LH3bk; GTdb4: $this->gdAPI->delete(); goto bgyHy; h_bZE: $this->gdAPI->setFileID($this->data["\x69\x64"]); goto GTdb4; bgyHy: InstanceCache::deleteItemsByTag("\147\144\162\151\166\x65\x2d\x66\x69\x6c\145\163"); goto RIk_f; LH3bk: $result = $this->toJson(0, self::MESSAGE_FILE_DELETE_FAIL); goto HOx0c; H0UC8: } protected function renameFileFolder() { goto hA0GO; U6TYw: if (!(!empty($this->data["\x69\144"]) && !empty($this->data["\x6e\x61\155\145"]) && validateEmail($this->data["\145\155\x61\151\154"]))) { goto azfOW; } goto ina5W; kr3MD: azfOW: goto BiGAM; X4fwN: $this->gdAPI->setFileID($this->data["\151\x64"]); goto r3R7w; pSAp7: InstanceCache::deleteItemsByTag("\147\x64\x72\x69\x76\x65\55\146\x69\x6c\x65\x73"); goto JUkHd; IJGEC: L4F_J: goto kr3MD; ina5W: $this->gdAPI->setEmail($this->data["\x65\x6d\141\151\x6c"]); goto X4fwN; r3R7w: $created = $this->gdAPI->renameFileFolder($this->data["\156\141\155\145"]); goto ZwdIP; BiGAM: return $result; goto mZRzc; JUkHd: $result = $this->toJson(1, self::MESSAGE_FILE_UPDATE_SUCCESS); goto IJGEC; ZwdIP: if (!$created) { goto L4F_J; } goto pSAp7; hA0GO: session_write_close(); goto QUC98; QUC98: $result = $this->toJson(0, self::MESSAGE_FILE_UPDATE_FAIL); goto U6TYw; mZRzc: } protected function createNewFolder() { goto WdSV3; OvEE8: $result = $this->toJson(0, self::MESSAGE_FOLDER_CREATE_FAIL); goto BEkCz; jJbct: Fs9k7: goto qz2WS; eK9RX: $this->gdAPI->setEmail($this->data["\145\155\x61\151\154"]); goto fkxNO; WdSV3: session_write_close(); goto OvEE8; fFWCa: dmDed: goto jJbct; lL6L4: if (!(!empty($this->data["\145\x6d\141\x69\154"]) && validateEmail($this->data["\145\x6d\141\151\154"]) && !empty($this->data["\156\x61\155\145"]))) { goto Fs9k7; } goto eK9RX; fkxNO: $created = $this->gdAPI->createNewFolder($this->data["\x6e\x61\x6d\145"], [["\x69\x64" => $parentId]]); goto ZaoBC; NErFy: InstanceCache::deleteItemsByTag("\x67\144\162\x69\166\145\55\x66\x69\x6c\145\x73"); goto HyT3P; BEkCz: $parentId = !empty($this->data["\160\141\162\145\x6e\x74\137\x69\x64"]) ? $this->data["\160\141\x72\145\x6e\x74\137\x69\144"] : "\162\157\x6f\x74"; goto lL6L4; HyT3P: $result = $this->toJson(1, self::MESSAGE_FOLDER_CREATE_SUCCESS); goto fFWCa; qz2WS: return $result; goto Ih6WD; ZaoBC: if (!$created) { goto dmDed; } goto NErFy; Ih6WD: } }
