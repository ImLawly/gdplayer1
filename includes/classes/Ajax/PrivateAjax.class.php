<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:33              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Ajax; use GDPlayer\{Helper, InstanceCache}; use GDPlayer\Model\{Video, VideoAlternative, VideoSource}; class PrivateAjax extends \GDPlayer\Ajax { protected Video $videos; protected VideoAlternative $vAlt; protected VideoSource $vSources; protected const MESSAGE_CACHE_CLEAR_SUCCESS = "\x54\150\x65\40\x63\141\143\150\x65\40\150\x61\163\40\142\145\145\x6e\x20\143\x6c\145\x61\162\145\x64\x20\163\x75\x63\x63\145\163\163\x66\x75\154\154\171"; protected const MESSAGE_CACHE_CLEAR_FAIL = "\x54\150\145\40\x63\x61\x63\150\145\x20\146\141\151\154\145\x64\x20\164\157\40\x63\x6c\x65\x61\x72\40\x6f\x72\40\x64\157\x65\163\x20\x6e\x6f\x74\x20\x65\x78\x69\x73\164"; public function __construct() { goto vhyGH; flClG: $this->vSources = VideoSource::getInstance(); goto nIGoo; E3TpW: $this->data = array_merge($_POST, $_GET); goto AU2xw; YaS27: $this->loadData(); goto S5mTc; S5mTc: $this->videos = Video::getInstance(); goto dpIZy; vhyGH: session_write_close(); goto E3TpW; dpIZy: $this->vAlt = VideoAlternative::getInstance(); goto flClG; AU2xw: $this->files = $_FILES; goto YaS27; nIGoo: } public function response() { goto j5Axu; zre3H: $result = $this->loadAction($this); goto pjyHy; WZmHb: goto Y6PI_; goto rJDZh; Rh9qI: return $this->createJsonResponse($result); goto KTDdN; rJDZh: a5uDR: goto zre3H; j5Axu: session_write_close(); goto G24AH; iEuM6: $result = $this->notAuthorize(); goto WZmHb; pjyHy: Y6PI_: goto Rh9qI; G24AH: if (adminTokenValidation($this->getToken())) { goto a5uDR; } goto iEuM6; KTDdN: } protected function clearLoadBalancer() { goto X2Z4X; rbxK3: $cleared["\143\154\x65\141\x72\x5f\x76\x69\x64\145\157\x5f\146\x69\154\x65\163"] = deleteDir(CACHE_PATH . "\146\x69\x6c\x65\163\x2f"); goto xlrU_; jXYwm: $cleared = []; goto UxSs2; Espe1: $cleared["\143\x6c\x65\x61\x72\137\166\151\x64\145\157\137\163\157\x75\162\x63\x65\163"] = $this->videos->delete(); goto PTKGs; Y516n: m1E4N: goto jXYwm; xlrU_: return $this->toJson(1, self::MESSAGE_CACHE_CLEAR_SUCCESS, in_array(true, $cleared)); goto xLioc; NHKj_: if (isset($lb["\151\x64"])) { goto m1E4N; } goto AIxDb; AIxDb: return $this->toJson(0, self::MESSAGE_CACHE_CLEAR_FAIL, []); goto lFkNd; PTKGs: $cleared["\143\x6c\x65\141\x72\x5f\x76\151\144\145\157\x5f\x70\154\x61\x79\x65\x72"] = InstanceCache::deleteItemsByTags([OPTIONS_TAG, PLAYER_CONFIG_TAG, "\x66\x69\x6c\x65\x73\x69\172\x65"]); goto rbxK3; yc46S: $lb = isLoadBalancer(); goto NHKj_; UxSs2: $this->videos->setCriteria("\163\x69\x64", $lb["\x69\144"], "\75"); goto Espe1; X2Z4X: session_write_close(); goto yc46S; lFkNd: goto MTvRB; goto Y516n; xLioc: MTvRB: goto VuU7F; VuU7F: } protected function clearVideoCache() { goto Ivoq0; Prjbp: if (!is_bool($data)) { goto iHtZX; } goto qA7qQ; klYov: $this->vSources->setMultiCriteria([["\150\x6f\x73\164", $data["\150\x6f\x73\x74"], "\75"], ["\150\157\x73\x74\x5f\x69\x64", $data["\x68\x6f\x73\164\x5f\151\144"], "\75", "\x41\x4e\104"]]); goto ZvRr6; JPeY4: iHtZX: goto v1Ger; qA7qQ: return $this->toJson(0, self::MESSAGE_CACHE_CLEAR_FAIL); goto JPeY4; CtpHX: $cleared["\143\x6c\145\141\x72\137\x76\x69\x64\x65\157\x5f\146\151\x6c\145\x73"] = deleteDir(Helper::createCacheDir($data["\150\x6f\163\164"], $data["\150\157\163\164\x5f\x69\144"])); goto qHpXl; fWRe7: if (!$list) { goto pwJss; } goto SlzhY; lDefM: $this->vAlt->setCriteria("\x76\151\144", $id); goto qzC5Y; EQwRb: $id = intval($this->data["\151\144"]); goto lI6_U; HpXnl: $cleared["\143\x6c\x65\x61\x72\x5f\x76\151\144\145\157\137\x70\154\x61\x79\x65\162"] = InstanceCache::deleteItemsByTags([OPTIONS_TAG, PLAYER_CONFIG_TAG, "\146\151\154\x65\x73\151\x7a\x65"]); goto lDefM; lI6_U: $this->videos->setCriteria("\151\x64", $id); goto d32Rg; A_jqE: pwJss: goto CtpHX; v1Ger: $cleared = []; goto klYov; FX2L4: foreach ($list as $dt) { goto a3sPi; Ynsn3: $deleteAlt[] = $this->vSources->delete(); goto PBzGN; PBzGN: $deleteAlt[] = deleteDir(Helper::createCacheDir($dt["\150\157\163\x74"], $dt["\150\157\163\x74\137\x69\x64"])); goto dYuXN; a3sPi: $this->vSources->setMultiCriteria([["\x68\157\x73\x74", $dt["\150\157\163\x74"], "\75"], ["\x68\x6f\163\x74\137\151\144", $dt["\150\x6f\x73\164\137\x69\144"], "\x3d", "\x41\116\x44"]]); goto Ynsn3; dYuXN: w4dRY: goto hpVVw; hpVVw: } goto a4Fci; a4Fci: Mxhgl: goto cbAJc; qzC5Y: $list = $this->vAlt->get(["\x68\x6f\x73\164", "\x68\157\x73\x74\137\x69\x64"]); goto fWRe7; Ivoq0: session_write_close(); goto EQwRb; cbAJc: $cleared["\x63\x6c\x65\141\162\x5f\x61\154\x74\x65\x72\x6e\x61\x74\x69\x76\145\x5f\x73\157\165\x72\143\x65\163"] = in_array(true, $deleteAlt); goto A_jqE; SlzhY: $deleteAlt = []; goto FX2L4; qHpXl: return $this->toJson(1, self::MESSAGE_CACHE_CLEAR_SUCCESS, $cleared); goto JZ8oL; ZvRr6: $cleared["\x63\154\145\x61\162\137\166\151\144\x65\x6f\x5f\x73\157\x75\x72\x63\x65\x73"] = $this->vSources->delete(); goto HpXnl; d32Rg: $data = $this->videos->getOne(["\x68\157\x73\164", "\x68\x6f\x73\x74\137\x69\144"]); goto Prjbp; JZ8oL: } }
