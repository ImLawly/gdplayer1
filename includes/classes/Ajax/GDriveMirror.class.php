<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:33              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Ajax; use GDPlayer\GoogleDriveRestAPI; use GDPlayer\Model\GDriveMirror as mGDMirrors; class GDriveMirror extends \GDPlayer\Ajax { protected GoogleDriveRestAPI $gdAPI; protected mGDMirrors $gdMirror; protected $listColumns = ["\x69\x64", "\147\144\x72\x69\x76\x65\137\151\144", "\155\x69\162\x72\x6f\162\137\151\144", "\x6d\x69\162\162\x6f\x72\x5f\x65\x6d\141\151\154", "\x61\x64\144\x65\144", "\151\x64"]; protected const MESSAGE_DELETE_SUCCESS = "\x54\x68\x65\40\x62\x61\x63\153\x75\x70\x20\x66\x69\154\145\x20\150\141\163\x20\x62\145\145\156\40\163\165\143\143\x65\163\163\x66\165\x6c\154\x79\x20\x64\145\154\145\164\145\144"; protected const MESSAGE_DELETE_FAIL = "\x54\150\145\x20\x62\x61\143\153\165\160\x20\x66\x69\x6c\x65\40\x66\x61\151\154\x65\144\x20\164\157\x20\x64\x65\154\x65\164\x65"; public function __construct() { goto Sgw3M; EFD8s: $this->gdAPI = new GoogleDriveRestAPI(); goto YF3d6; HX2Uo: $this->loadData(); goto EFD8s; N40LM: $this->files = $_FILES; goto HX2Uo; YsJxv: $this->data = array_merge($_POST, $_GET); goto N40LM; YF3d6: $this->gdMirror = mGDMirrors::getInstance(); goto JokeD; Sgw3M: session_write_close(); goto YsJxv; JokeD: } public function response() { session_write_close(); return $this->defaultResponse($this, true); } protected function delete() { goto ZOpRx; tq_hc: $this->gdMirror->setCriteria("\x69\144", $this->data["\x69\144"]); goto rlFeH; M6vWZ: $result = $this->toJson(1, self::MESSAGE_DELETE_SUCCESS); goto V4kJc; JpId7: $this->gdAPI->setFileID($data["\155\151\162\x72\x6f\162\x5f\151\x64"]); goto ovemp; EOZiP: if (!$data) { goto UO9J3; } goto q6W_P; zo8U1: $deleted = $this->gdMirror->delete(); goto KaX3G; JTKuG: rwm8f: goto lRagE; ovemp: $this->gdAPI->delete(); goto l4aco; V4kJc: CkcAQ: goto STesd; KaX3G: if (!$deleted) { goto CkcAQ; } goto M6vWZ; rlFeH: $data = $this->gdMirror->getOne(["\x6d\151\162\x72\x6f\x72\137\x69\x64", "\155\151\x72\162\x6f\162\x5f\x65\x6d\x61\151\154"]); goto EOZiP; lRagE: return $result; goto sqiek; STesd: UO9J3: goto JTKuG; JRRxp: $result = $this->toJson(0, self::MESSAGE_DELETE_FAIL); goto TxL12; TxL12: if (empty($this->data["\151\x64"])) { goto rwm8f; } goto tq_hc; ZOpRx: session_write_close(); goto JRRxp; l4aco: $this->gdMirror->setCriteria("\x6d\x69\x72\x72\157\x72\x5f\x69\x64", $data["\155\151\x72\x72\x6f\x72\137\151\x64"]); goto zo8U1; q6W_P: $this->gdAPI->setEmail($data["\x6d\151\x72\162\157\x72\x5f\145\x6d\141\x69\154"]); goto JpId7; sqiek: } protected function createSearchQuery(string $search = '') { goto JySBY; p91XY: $this->gdMirror->setMultiCriteria([["\x67\x64\162\151\x76\x65\137\151\x64", $search, $like], ["\155\x69\x72\162\157\162\x5f\x69\144", $search, $like, $or], ["\155\x69\x72\162\x6f\x72\x5f\x65\155\x61\x69\154", $search, $like, $or]]); goto MOz5I; Ie0LF: if (empty($search)) { goto tAXIU; } goto eL4M2; JySBY: session_write_close(); goto Ie0LF; Fa_h5: $or = "\117\x52"; goto p91XY; RotD5: $like = "\114\x49\x4b\x45"; goto Fa_h5; eL4M2: $search = "\x25" . $search . "\45"; goto RotD5; MOz5I: tAXIU: goto nZFa3; nZFa3: } public function list() { goto q49Mg; mofBa: oQHtD: goto HNAUp; E3GV1: $this->createSearchQuery($qry["\x73\145\x61\162\143\150"]); goto sehvk; nYlO1: $this->gdMirror->setOrderBy($qry["\157\162\144\x65\162\102\x79"], $qry["\157\162\144\x65\x72\104\x69\162"]); goto Sdehi; Sdehi: $list = $this->gdMirror->get($this->listColumns); goto pUMbF; c_gYH: $recordsFiltered = $this->gdMirror->getNumRows(); goto HtSrV; q49Mg: session_write_close(); goto mzPqA; HNAUp: $qry = $this->extractDatatablesQry($this->data, $this->listColumns, "\155\157\x64\x69\x66\151\x65\x64"); goto iSTW2; sehvk: $this->gdMirror->setLimit($qry["\x73\x74\141\x72\164"], $qry["\x6c\x65\x6e\147\164\150"]); goto nYlO1; iSTW2: $data = []; goto E3GV1; iQ1p4: eZX8Q: goto MpJxW; APBnO: InrYw: goto eAH5A; rCDH5: foreach ($list as $dt) { goto dExN7; k_URi: $data[] = $newData; goto jXULn; dExN7: $newData = $dt; goto PaqgX; PaqgX: $newData["\104\x54\x5f\x52\157\167\111\x64"] = $dt["\151\144"]; goto k_URi; jXULn: xFlDC: goto VBptq; VBptq: } goto iQ1p4; GB9Bh: $this->createSearchQuery($qry["\163\x65\141\162\x63\x68"]); goto c_gYH; MSwCT: $recordsTotal = $this->gdMirror->getTotalRows(); goto GB9Bh; pUMbF: if (!$list) { goto f5NZu; } goto rCDH5; mzPqA: if ($this->isAdmin) { goto oQHtD; } goto wSu1Y; HtSrV: $result = $this->toDataTablesJson(intval($qry["\x64\162\141\167"]), $data, $recordsTotal, $recordsFiltered); goto APBnO; wSu1Y: $result = $this->toDataTablesJson(); goto m1vk2; eAH5A: return $this->createJsonResponse($result); goto dfoBL; MpJxW: f5NZu: goto MSwCT; m1vk2: goto InrYw; goto mofBa; dfoBL: } }
