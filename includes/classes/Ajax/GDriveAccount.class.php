<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:33              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer\Ajax; use GDPlayer\InstanceCache; use GDPlayer\Model\{GDriveAuth, GDriveMirror}; class GDriveAccount extends \GDPlayer\Ajax { protected GDriveAuth $gdAuth; protected GDriveMirror $gdMirrors; protected $listColumns = ["\x69\x64", "\145\x6d\x61\151\154", "\142\171\160\141\163\x73", "\163\x74\x61\x74\x75\163", "\143\x72\x65\x61\164\x65\x64", "\155\157\x64\151\146\151\145\x64", "\x69\x64"]; protected const MESSAGE_DELETE_SUCCESS = "\x54\150\x65\40\x61\x63\143\x6f\165\x6e\x74\x20\x68\x61\x73\x20\142\x65\x65\x6e\40\144\145\154\x65\x74\x65\144\40\163\x75\x63\x63\x65\x73\x73\x66\165\x6c\x6c\171"; protected const MESSAGE_DELETE_FAIL = "\124\x68\145\x20\141\143\143\157\x75\x6e\x74\x20\146\141\151\154\x65\x64\40\164\157\40\144\145\x6c\x65\x74\145"; protected const MESSAGE_STATUS_UPDATE_SUCCESS = "\124\x68\x65\x20\x61\143\143\157\x75\x6e\x74\x20\x73\x74\x61\164\x75\x73\x20\150\141\x73\40\x62\145\145\x6e\40\x73\165\x63\143\x65\x73\163\146\165\x6c\154\171\40\165\160\144\141\164\x65\144"; protected const MESSAGE_STATUS_UPDATE_FAIL = "\x54\x68\145\40\x61\x63\143\x6f\x75\156\x74\x20\163\164\141\164\165\163\x20\x66\x61\x69\x6c\x65\x64\x20\164\157\x20\x75\x70\144\x61\164\x65"; public function __construct() { goto E3Qce; Rd9s_: $this->loadData(); goto X0aWN; E_LfV: $this->gdMirrors = GDriveMirror::getInstance(); goto kdiO7; X0aWN: $this->gdAuth = GDriveAuth::getInstance(); goto E_LfV; OVeXn: $this->data = array_merge($_POST, $_GET); goto VpnPZ; VpnPZ: $this->files = $_FILES; goto Rd9s_; E3Qce: session_write_close(); goto OVeXn; kdiO7: } protected function createSearchQuery(string $search = '') { goto fj7Ti; dn3VS: $this->gdAuth->setMultiCriteria([["\x65\155\141\151\154", $search, $like], ["\x63\x72\145\141\x74\145\x64", $search, $like, $or], ["\x6d\157\144\x69\x66\x69\145\144", $search, $like, $or]]); goto UdEFY; CuuJb: $search = "\45" . $search . "\45"; goto X4Qe5; fj7Ti: session_write_close(); goto b_xaX; b_xaX: if (empty($search)) { goto SmZNY; } goto CuuJb; X4Qe5: $like = "\114\x49\x4b\x45"; goto zDztv; UdEFY: SmZNY: goto xh16q; zDztv: $or = "\x4f\122"; goto dn3VS; xh16q: } public function list() { goto o_A4X; o_A4X: session_write_close(); goto Z3dCy; ZXDOj: $result = $this->toDataTablesJson(); goto qK0XT; aGDF7: if (!$list) { goto rxhVk; } goto Zo5fU; j7XKn: $data = []; goto aGDF7; ciuv3: XoqRT: goto veeWj; jQBHH: $qry = $this->extractDatatablesQry($this->data, $this->listColumns, "\155\x6f\144\151\146\x69\145\144"); goto kdWsh; rZC6L: tpZ3d: goto PO5Ic; JwKc8: $this->gdAuth->setOrderBy($qry["\x6f\162\144\x65\162\102\x79"], $qry["\157\x72\144\145\162\x44\x69\162"]); goto OyhLp; qK0XT: goto tpZ3d; goto FZM1i; FyjVY: $recordsFiltered = $this->gdAuth->getNumRows(); goto b3UQJ; Zo5fU: foreach ($list as $dt) { goto cqrN2; xecez: O4H9S: goto TwrKo; hFSo7: $newData["\x73\164\x61\164\165\163"] = intval($dt["\163\164\x61\164\x75\163"]); goto klQ8B; cqrN2: $newData = $dt; goto fYoEZ; fYoEZ: $newData["\104\x54\x5f\122\x6f\167\111\144"] = $dt["\x69\x64"]; goto asd01; asd01: $newData["\142\171\160\141\163\x73"] = intval($dt["\x62\171\x70\141\163\x73"]); goto hFSo7; klQ8B: $data[] = $newData; goto xecez; TwrKo: } goto ciuv3; veeWj: rxhVk: goto ov4gY; Z3dCy: if ($this->isAdmin) { goto Z8tZB; } goto ZXDOj; kdWsh: $this->createSearchQuery($qry["\x73\145\141\162\143\x68"]); goto qp88w; A10h4: $this->createSearchQuery($qry["\x73\145\141\x72\x63\150"]); goto FyjVY; FZM1i: Z8tZB: goto jQBHH; qp88w: $this->gdAuth->setLimit($qry["\163\x74\141\x72\x74"], $qry["\154\145\x6e\147\x74\150"]); goto JwKc8; OyhLp: $list = $this->gdAuth->get($this->listColumns); goto j7XKn; b3UQJ: $result = $this->toDataTablesJson(intval($qry["\x64\x72\141\167"]), $data, $recordsTotal, $recordsFiltered); goto rZC6L; PO5Ic: return $this->createJsonResponse($result); goto Yi5XH; ov4gY: $recordsTotal = $this->gdAuth->getTotalRows(); goto A10h4; Yi5XH: } public function response() { session_write_close(); return $this->defaultResponse($this, true); } protected function delete() { goto xMz2x; Huofk: InstanceCache::deleteItemsByTag("\147\144\x72\151\x76\x65\x2d\146\x69\154\x65\163"); goto wd5Ns; y0R8Q: pCNAq: goto qe0du; xMz2x: session_write_close(); goto U5Jbt; yD1Cu: TVcsj: goto y0R8Q; tDlC4: if (empty($this->data["\151\x64"])) { goto kvVGn; } goto OxWec; U5Jbt: $result = $this->toJson(0, self::MESSAGE_DELETE_FAIL); goto tDlC4; OxWec: $this->gdAuth->setCriteria("\x69\144", $this->data["\151\144"]); goto ypZKP; LLCgx: return $result; goto rguui; w64DL: $this->gdAuth->setCriteria("\x69\144", $this->data["\x69\144"]); goto uTusj; ypZKP: $data = $this->gdAuth->getOne(["\x65\155\141\x69\x6c"]); goto xnhvr; wd5Ns: $result = $this->toJson(1, self::MESSAGE_DELETE_SUCCESS); goto yD1Cu; uTusj: $deleted = $this->gdAuth->delete(); goto EaG3V; qe0du: kvVGn: goto LLCgx; dqB3n: $this->gdMirrors->delete(); goto Huofk; EaG3V: if (!$deleted) { goto TVcsj; } goto NFhBg; NFhBg: $this->gdMirrors->setCriteria("\155\151\x72\162\x6f\162\x5f\145\155\141\151\154", $data["\145\155\x61\x69\x6c"]); goto dqB3n; xnhvr: if (!$data) { goto pCNAq; } goto w64DL; rguui: } protected function updateBypass() { session_write_close(); return $this->updateStatus(); } protected function updateStatus() { goto iJ71O; Byy90: if (!$updated) { goto x7ru_; } goto HxXhB; mK3dK: $col = $this->data["\141\143\x74\x69\157\x6e"] === "\165\160\x64\141\x74\145\x42\171\x70\141\163\x73" ? "\x62\x79\x70\x61\x73\163" : "\163\164\x61\164\165\x73"; goto Moua8; n3kKK: return $result; goto vRG_e; P9eYi: x7ru_: goto kd1nG; HxXhB: $result = $this->toJson(1, self::MESSAGE_STATUS_UPDATE_SUCCESS); goto P9eYi; UsMJX: $updated = $this->gdAuth->update(array(sanitizeHtml($col) => intval($this->data["\163\x74\x61\164\165\163"]), "\x6d\157\x64\x69\x66\x69\145\x64" => time())); goto Byy90; xNJTs: $result = $this->toJson(0, self::MESSAGE_STATUS_UPDATE_FAIL); goto mK3dK; iJ71O: session_write_close(); goto xNJTs; wne82: $this->gdAuth->setCriteria("\151\x64", $this->data["\x69\144"]); goto UsMJX; Moua8: if (!(!empty($this->data["\x69\x64"]) && isset($this->data["\163\x74\141\x74\165\163"]))) { goto atrwK; } goto wne82; kd1nG: atrwK: goto n3kKK; vRG_e: } }
