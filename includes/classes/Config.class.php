<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-18 20:27:33              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*
Copyright @ 2020 - 2025 GDPlayer v4.7.1. https://gdplayer.to | https://t.me/gdplayerto
*/
 namespace GDPlayer; use GDPlayer\InstanceCache; use GDPlayer\Model\Setting; class Config { private static ?array $config = null; private static $cacheKey = "\x67\x6c\x6f\142\141\x6c\55\143\x6f\156\x66\151\x67"; private static ?Setting $settingInstance = null; private function __construct() { } private function __clone() { } public function __wakeup() { } private static function getSettingInstance() : Setting { goto J9LNa; zn43t: self::$settingInstance = Setting::getInstance(); goto NOyUa; upqTK: return self::$settingInstance; goto beetU; J9LNa: if (self::$settingInstance) { goto K_ssW; } goto zn43t; NOyUa: K_ssW: goto upqTK; beetU: } private static function loadConfig() : void { goto Wmyh7; yCeFQ: U5w0t: goto Uo0xs; Uo0xs: $cache = InstanceCache::getItem(self::$cacheKey); goto JkwP3; kYXu9: $cache->set(self::$config)->expiresAfter(CACHE_TIMEOUT)->addTag(OPTIONS_TAG); goto r5Af_; dcccC: return; goto yCeFQ; Wmyh7: if (!(self::$config !== null)) { goto U5w0t; } goto dcccC; trXEq: self::$config = self::loadConfigFromSource(); goto kYXu9; r5Af_: InstanceCache::save($cache); goto SQ6U_; TEno2: yFIXk: goto CIQTO; JkwP3: if ($cache->isHit()) { goto v709Q; } goto trXEq; of30H: v709Q: goto dr9fc; dr9fc: self::$config = $cache->get(); goto TEno2; SQ6U_: goto yFIXk; goto of30H; CIQTO: } private static function typeChecker($value = null) { goto tfb6S; InsDH: return strpos($value, "\x2e") !== false ? (float) $value : (int) $value; goto m9OOV; m9OOV: JkDlo: goto wjufH; q13s9: return validateBoolean($value); goto m7dXz; m7dXz: goto JkDlo; goto tHO60; DKfU0: goto JkDlo; goto vWBrX; tHO60: iLUGC: goto InsDH; tfb6S: if (in_array($value, ["\x74\162\165\145", "\146\141\x6c\x73\145"])) { goto ZyFfA; } goto use9G; vWBrX: ZyFfA: goto q13s9; wjufH: return $value; goto jYFMP; use9G: if (is_numeric($value)) { goto iLUGC; } goto DKfU0; jYFMP: } private static function loadConfigFromSource() : array { goto JMiaK; L0VoP: foreach ($dbConfig as $row) { $config[$row["\x6b\x65\171"]] = self::typeChecker($row["\166\x61\x6c\x75\x65"]); FlJ4W: } goto xh3Ut; JMiaK: $config = []; goto pfADq; pfADq: $dbConfig = self::getSettingInstance()->get(["\x6b\145\171", "\x76\x61\x6c\x75\145"]); goto L0VoP; xh3Ut: f0fAe: goto M9IFU; M9IFU: return $config; goto hMY61; hMY61: } public static function get(string $key) { self::loadConfig(); return self::$config[$key] ?? getOption($key); } public static function set(string $key, $value = null) : void { goto e1Zag; e1Zag: setOption($key, $value); goto v1Qzn; CdlNy: self::$config[$key] = $value; goto Sg6zT; FCR9c: $cache->set(self::$config)->expiresAfter(CACHE_TIMEOUT)->addTag(OPTIONS_TAG); goto POcql; Sg6zT: $cache = InstanceCache::getItem(self::$cacheKey); goto FCR9c; POcql: InstanceCache::save($cache); goto PkZ9s; v1Qzn: self::loadConfig(); goto CdlNy; PkZ9s: } public static function getAll() : array { self::loadConfig(); return self::$config; } public static function getMulti(array $keys = []) : array { goto aQKZV; bTzf1: $config = array_fill_keys($keys, ''); goto MkPop; LmKVr: return self::getAll(); goto enZVP; Kl3c_: $cacheKey = "\x67\x6c\157\142\141\154\55\x63\x6f\x6e\x66\151\x67\137" . createHash(implode("\55", $keys)); goto q2k80; aQKZV: if (!empty($keys)) { goto ZVlsB; } goto LmKVr; AaoKc: $cache->set($config)->expiresAfter(CACHE_TIMEOUT)->addTag(OPTIONS_TAG); goto v5d6e; q2k80: $cache = InstanceCache::getItem($cacheKey); goto nhoBc; rnyDr: foreach ($keys as $i => $key) { goto Q2ACq; Q2ACq: $sep = $i > 0 ? "\x4f\122" : ''; goto zLUi2; zLUi2: $instance->setCriteria("\153\145\171", $key, "\x3d", $sep); goto S__Nu; S__Nu: GsMlH: goto UaNsa; UaNsa: } goto syaMR; YWSCg: YJB9H: goto AaoKc; nhoBc: if (!$cache->isHit()) { goto GaDwA; } goto yw_Qv; enZVP: ZVlsB: goto Kl3c_; syaMR: yCamn: goto bTzf1; euGtc: return $config; goto HRy4T; uxHfl: GaDwA: goto zqqtD; v5d6e: InstanceCache::save($cache); goto euGtc; MkPop: foreach ($instance->get(["\x6b\145\171", "\x76\x61\x6c\165\145"]) as $row) { $config[$row["\x6b\145\x79"]] = self::typeChecker($row["\x76\141\154\x75\145"]); uejg5: } goto YWSCg; zqqtD: $instance = self::getSettingInstance(); goto rnyDr; yw_Qv: return $cache->get(); goto uxHfl; HRy4T: } private static function createNewUri() { $exUri = explode("\77", $_SERVER["\122\105\121\x55\x45\123\124\x5f\x55\122\111"]); return $exUri[0] . "\x3f\x63\x6c\145\141\162\x43\141\143\x68\x65\75\x31"; } public static function saveAll(string $title) : void { goto qiBAU; K4qzU: goto G_oin; goto R7lNC; izQxT: G_oin: goto CE5k1; vORQj: createAlert("\x73\165\143\143\145\x73\163", "\x54\150\145\40{$title}\40\150\141\x76\x65\40\x62\x65\x65\156\x20\163\165\x63\143\x65\163\163\x66\165\x6c\154\171\40\x75\160\x64\x61\x74\145\144", self::createNewUri()); goto izQxT; Ix3pc: createAlert("\145\162\x72\x6f\x72", "\x54\150\x65\x20{$title}\x20\x66\141\x69\154\145\144\x20\164\157\x20\x75\x70\x64\141\164\x65", $_SERVER["\122\105\121\125\x45\x53\124\137\x55\x52\x49"]); goto el6Lu; UReJT: if (self::getSettingInstance()->insert($data)) { goto EIVoI; } goto Zn2y2; krGuk: $data = []; goto SRolC; f6zKw: self::clear(); goto vORQj; el6Lu: return; goto v_sat; qiBAU: if (!(empty($_POST) || !isAdmin())) { goto W0KqI; } goto Ix3pc; SRolC: foreach ($_POST as $k => $v) { goto Euf_g; Euf_g: $v = $k === "\155\x61\x69\x6e\137\x73\x69\x74\x65" ? rtrim($v, SLASH) . SLASH : $v; goto XHQDm; d8OKK: HfPy1: goto rTDfd; XHQDm: $data[] = ["\x6b\x65\x79" => $k, "\x76\141\154\165\x65" => $v, "\165\x70\144\141\164\x65\144" => $time]; goto d8OKK; rTDfd: } goto WFyck; Cr6Wy: $time = time(); goto krGuk; Zn2y2: createAlert("\145\x72\x72\157\x72", "\x54\150\x65\40{$title}\40\x66\141\151\154\145\144\x20\164\157\x20\165\160\144\x61\x74\145", $_SERVER["\122\x45\121\125\105\123\x54\137\125\x52\x49"]); goto K4qzU; R7lNC: EIVoI: goto f6zKw; WFyck: mp_2Q: goto UReJT; v_sat: W0KqI: goto Cr6Wy; CE5k1: } public static function clear() : bool { goto lkXNc; wDMIt: $result = InstanceCache::deleteItem(self::$cacheKey); goto ti6vl; T5jm0: return $result; goto n53kX; lkXNc: self::getSettingInstance()->clearCache(); goto KcWhR; KcWhR: InstanceCache::deleteItemsByTags([OPTIONS_TAG, PLAYER_CONFIG_TAG]); goto wDMIt; ti6vl: self::$config = null; goto T5jm0; n53kX: } public static function reset(string $title) { goto r787A; VNQJ4: goto BB9uH; goto eL90U; r787A: InstanceCache::clear(); goto WqruE; WqruE: $deleted = self::getSettingInstance()->delete(); goto JRSnV; gYTTM: createAlert("\145\x72\x72\157\x72", "\x54\150\x65\40{$title}\40\x66\x61\x69\154\x65\x64\40\x74\157\x20\162\x65\x73\x65\x74", $_SERVER["\x52\105\x51\125\105\x53\124\x5f\x55\122\111"]); goto VNQJ4; qYcww: BB9uH: goto CLCwm; sYVgN: self::clear(); goto r9WXc; JRSnV: if ($deleted) { goto uRfOe; } goto gYTTM; eL90U: uRfOe: goto sYVgN; r9WXc: createAlert("\x73\165\143\x63\145\163\x73", "\124\x68\145\x20{$title}\x20\x68\x61\x73\x20\x62\x65\x65\156\x20\x73\165\143\143\x65\163\163\x66\165\x6c\154\171\x20\x72\145\163\x65\x74", self::createNewUri()); goto qYcww; CLCwm: } }
